     H/TITLE SND PFS Regul Code XF     Execute external functio
     H DATFMT(*YMD) DATEDIT(*YMD) DEBUG(*YES)
     Z* CRTBNDRPG
     Z* DFTACTGRP(*NO) BNDDIR(YBNDDIR) DBGVIEW(*SOURCE)
     Z* CVTOPT(*DATETIME) ACTGRP(*CALLER) OPTIMIZE(*BASIC)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by CA 2E release 8.7 (1632)
     H* Function type : Execute external function
     H* Object type   : *PGM
      *
     H* Company       : OMS Development Model
     H* System        : OMS Development Model
     H* User name     : ISELOUC
     H* Date          : 05/29/23  Time  : 12:07:18
     H* Copyright     : OMS Development Model
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FPUC7REL1  IF   E           K DISK
      * RTV : PFS Regulation Code Mst   Retrieval index
      *
     FPUC7REL3  IF A E           K DISK
      * UPD : PFS Regulation Code Mst   Update Index QTEMP
      *
     FPUC7REL0  UF   E           K DISK
      * UPD : PFS Regulation Code Mst   Update index
      *
      /EJECT
      * Data structures:
     D PGMDS         ESDS                  EXTNAME(Y2PGDSP)
      * Modified Program data structure
     D JBDTTM          DS
      * Job date/time
     D  ##JDT                  1      7  0
     D  ##JCC                  1      1  0
     D  ##JYY                  2      3  0
     D  ##JMM                  4      5  0
     D  ##JDD                  6      7  0
     D  ##JTM                  8     13  0
     D  ##JHH                  8      9  0
     D  ##JNN                 10     11  0
     D  ##JSS                 12     13  0
     D QPUC71        E DS                  EXTNAME(PUC7REL3)
      * UPD : PFS Regulation Code Mst   Update Index QTEMP
      * Renamed input format fields
     D  WBB4AB       E                     EXTFLD(C7B4AB)
     D  WBB8AB       E                     EXTFLD(C7B8AB)
     D  WBB5AB       E                     EXTFLD(C7B5AB)
     D  WBUOU1       E                     EXTFLD(C7UOU1)
     D  WBUPU1       E                     EXTFLD(C7UPU1)
     D  WBCFAB       E                     EXTFLD(C7CFAB)
     D  WBOGSC       E                     EXTFLD(C7OGSC)
     D  WBUQU1       E                     EXTFLD(C7UQU1)
     D  WBURU1       E                     EXTFLD(C7URU1)
     D  WBUSU1       E                     EXTFLD(C7USU1)
     D  WBUTU1       E                     EXTFLD(C7UTU1)
     D  WBUWSX       E                     EXTFLD(C7UWSX)
     D  WBUXSX       E                     EXTFLD(C7UXSX)
     D  WBV3SX       E                     EXTFLD(C7V3SX)
     D  WBAHNY       E                     EXTFLD(C7AHNY)
     D  WBAINY       E                     EXTFLD(C7AINY)
     D  WBAJNY       E                     EXTFLD(C7AJNY)
     D  WBAKNY       E                     EXTFLD(C7AKNY)
      *
     D QPUC72        E DS                  EXTNAME(PUC7REL0)
      * UPD : PFS Regulation Code Mst   Update index
      * Renamed input format fields
     D  WCB4AB       E                     EXTFLD(C7B4AB)
     D  WCB8AB       E                     EXTFLD(C7B8AB)
     D  WCB5AB       E                     EXTFLD(C7B5AB)
     D  WCUOU1       E                     EXTFLD(C7UOU1)
     D  WCUPU1       E                     EXTFLD(C7UPU1)
     D  WCCFAB       E                     EXTFLD(C7CFAB)
     D  WCOGSC       E                     EXTFLD(C7OGSC)
     D  WCUQU1       E                     EXTFLD(C7UQU1)
     D  WCURU1       E                     EXTFLD(C7URU1)
     D  WCUSU1       E                     EXTFLD(C7USU1)
     D  WCUTU1       E                     EXTFLD(C7UTU1)
     D  WCUWSX       E                     EXTFLD(C7UWSX)
     D  WCUXSX       E                     EXTFLD(C7UXSX)
     D  WCV3SX       E                     EXTFLD(C7V3SX)
     D  WCAHNY       E                     EXTFLD(C7AHNY)
     D  WCAINY       E                     EXTFLD(C7AINY)
     D  WCAJNY       E                     EXTFLD(C7AJNY)
     D  WCAKNY       E                     EXTFLD(C7AKNY)
      *
     D YARDCS          DS           364
      * Message data for message Y2U0009.
     D MD0009          DS
     D  MDPGM                  1     10
     D  MDACP                 11     20
     D  MDFMT                 21     30
     D  MDACT                 31     34
     D  MDLBL                 35     40
     D YBRDCS          DS           364
      *
      * Declared stand-alone variables
     D  P0RTN          S              7
     D  W0ICL          S              1
     D  W0RTN          S              7
     D  W0RSL          S              1
     D  W0RSF          S              1
     D  W0RTW          S              9  0
     D  W0ENV          S              3
     D  ##TME          S              6  0
     D  YARDC          S              1
     D  YBRDC          S              1
     D  ZAPGMQ         S             10
     D  ZAPGRL         S              5
     D  ZAMSID         S              7
     D  ZAMSGF         S             10
     D  ZAMSTP         S              7
     D  YILE           S              1
     D  W0PMT          S              1
     D                 DS
     D  ZAMSDA                 1    132
     I@C7REMN
      * PFS Regulation Code Mst   Retrieval index
      * Renamed input format fields
     I              C7B4AB                      WAB4AB
     I              C7B8AB                      WAB8AB
     I              C7B5AB                      WAB5AB
     I              C7UOU1                      WAUOU1
     I              C7UPU1                      WAUPU1
     I              C7CFAB                      WACFAB
     I              C7OGSC                      WAOGSC
     I              C7UQU1                      WAUQU1
     I              C7URU1                      WAURU1
     I              C7USU1                      WAUSU1
     I              C7UTU1                      WAUTU1
     I              C7UWSX                      WAUWSX
     I              C7UXSX                      WAUXSX
     I              C7V3SX                      WAV3SX
     I              C7AHNY                      WAAHNY
     I              C7AINY                      WAAINY
     I              C7AJNY                      WAAJNY
     I              C7AKNY                      WAAKNY
      *
     I@C7REMR
      * PFS Regulation Code Mst   Update Index QTEMP
      * Renamed input format fields
     I              C7B4AB                      WBB4AB
     I              C7B8AB                      WBB8AB
     I              C7B5AB                      WBB5AB
     I              C7UOU1                      WBUOU1
     I              C7UPU1                      WBUPU1
     I              C7CFAB                      WBCFAB
     I              C7OGSC                      WBOGSC
     I              C7UQU1                      WBUQU1
     I              C7URU1                      WBURU1
     I              C7USU1                      WBUSU1
     I              C7UTU1                      WBUTU1
     I              C7UWSX                      WBUWSX
     I              C7UXSX                      WBUXSX
     I              C7V3SX                      WBV3SX
     I              C7AHNY                      WBAHNY
     I              C7AINY                      WBAINY
     I              C7AJNY                      WBAJNY
     I              C7AKNY                      WBAKNY
      *
     I@C7REMM
      * PFS Regulation Code Mst   Update index
      * Renamed input format fields
     I              C7B4AB                      WCB4AB
     I              C7B8AB                      WCB8AB
     I              C7B5AB                      WCB5AB
     I              C7UOU1                      WCUOU1
     I              C7UPU1                      WCUPU1
     I              C7CFAB                      WCCFAB
     I              C7OGSC                      WCOGSC
     I              C7UQU1                      WCUQU1
     I              C7URU1                      WCURU1
     I              C7USU1                      WCUSU1
     I              C7UTU1                      WCUTU1
     I              C7UWSX                      WCUWSX
     I              C7UXSX                      WCUXSX
     I              C7V3SX                      WCV3SX
     I              C7AHNY                      WCAHNY
     I              C7AINY                      WCAINY
     I              C7AJNY                      WCAJNY
     I              C7AKNY                      WCAKNY
      *
      /EJECT
      *****************************************************************
      * Entry parameters
     C     *ENTRY        PLIST
     C                   PARM                    P0RTN
      *****************************************************************
      * Initialize
     C                   EXSR      ZZINIT
      *
      * SND PFS Regul Code XF
      * Modifications History
     C                   EXSR      UASUBR                                       Modifications H
      * SND PFS Regul Code RT - PFS Regulation Code Mst  * 
     C                   EXSR      SARVGN
      *----------------------------------------------------------------
      * Exit program
     C     AAEXIT        TAG
     C                   EVAL      P0RTN = ' '
     C                   EXSR      ZYEXPG
      *================================================================
      /EJECT
     CSR   SARVGN        BEGSR
      *================================================================
      * SND PFS Regul Code RT - PFS Regulation Code Mst  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Define keylist
     C     KPSSA         KLIST
     C                   KFLD                    WAB4AB                         PFS Regulation
      * Setup key
     C                   EVAL      WAB4AB = ' '                                 PFS Regulation
      * Establish starting position
     C     KPSSA         SETLL     @C7REMN                                      *
     C                   READ      @C7REMN                                90    *
      * Data record not found
     C                   IF        *IN90
     C                   MOVEL     'USR5309'     W0RTN
      * USER: Processing if Data record not found
     C                   MOVEL     'Y2U0005'     W0RTN                          *Return code
     C                   GOTO      SAEXIT
     C                   ENDIF
      *
      * USER: Process Data record
      * Crt Reg Master QTEMP CR - PFS Regulation Code Mst  * 
     C                   DOW       NOT *IN90
     C                   EXSR      SBCRRC
      * Chg Process Status CH - PFS Regulation Code Mst  * 
     C                   EXSR      SDCHRC
     C                   READ      @C7REMN                                90    *
     C                   ENDDO
      *================================================================
     CSR   SAEXIT        ENDSR
      /EJECT
     CSR   SBCRRC        BEGSR
      *================================================================
      * Crt Reg Master QTEMP CR - PFS Regulation Code Mst  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Move all fields to @C7REMR
     C                   MOVEL     WAB4AB        WBB4AB                         PFS Regulation
     C                   MOVEL     WAB8AB        WBB8AB                         PFS Regulation
     C                   MOVEL     WAB5AB        WBB5AB                         PFS Regulation
     C                   MOVEL     WAUOU1        WBUOU1                         PFS Regulation
     C                   MOVEL     WAUPU1        WBUPU1                         PFS ShipTo EstS
     C                   MOVEL     WACFAB        WBCFAB                         PFS Ship To Cus
     C                   MOVEL     WAOGSC        WBOGSC                         PFS Default Reg
     C                   MOVEL     WAUQU1        WBUQU1                         PFS NonComp Stm
     C                   MOVEL     WAURU1        WBURU1                         PFS NonComp Stm
     C                   MOVEL     WAUSU1        WBUSU1                         PFS Compliancy
     C                   MOVEL     WAUTU1        WBUTU1                         PFS Compliancy
     C                   MOVEL     WAUWSX        WBUWSX                         PFS Record Stat
     C                   Z-ADD     WAUXSX        WBUXSX                         PFS Process Sta
     C                   MOVEL     WAV3SX        WBV3SX                         PFS Error Reaso
     C                   Z-ADD     WAAHNY        WBAHNY                         PFS Create Date
     C                   Z-ADD     WAAINY        WBAINY                         PFS Create Time
     C                   Z-ADD     WAAJNY        WBAJNY                         PFS Change Date
     C                   Z-ADD     WAAKNY        WBAKNY                         PFS Change time
      *
      * USER: Processing before Data update
      * Set Create Stamp      IF
     C                   Z-ADD     *ZERO         WBUXSX                         PFS Process Sta
     C                   Z-ADD     ##JDT         WBAHNY                         PFS Create Date
     C                   Z-ADD     ##JTM         WBAINY                         PFS Create Time
     C     KLCRSB        KLIST
     C                   KFLD                    WBB4AB                         PFS Regulation
     C                   KFLD                    WBB8AB                         PFS Regulation
      * Check for duplicate primary key
     C     KLCRSB        SETLL     @C7REMR                                90    *
     C                   IF        *IN90
     C                   MOVEL     'USR5310'     W0RTN
      * USER: Processing if Data record already exists
     W* Y2W0053 - One or more arguments defaulted to available contexts
      * Field '(DB1) WBCFAB' defaulted for 'PFS Ship To Cust Type'.
      * Field '(DB1) WBOGSC' defaulted for 'PFS Default Regulation'.
      * Change Regulation Master - PFS Regulation Code Mst  * 
     C                   EXSR      SCCHRC
     C                   GOTO      SBEXIT
     C                   ENDIF
      *
     C                   WRITE     @C7REMR                              91      *
      *
      * Write error detected
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
     C                   ELSE
     C                   ENDIF
      *================================================================
     CSR   SBEXIT        ENDSR
      /EJECT
     CSR   SCCHRC        BEGSR
      *================================================================
      * Change Regulation Master - PFS Regulation Code Mst  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Set PGM.*Record Data Changed flag
     C                   EVALR     YARDC = ' '
      *
      * Move key fields to @C7REMM
     C                   MOVEL(P)  WAB4AB        WCB4AB                         PFS Regulation
     C                   MOVEL(P)  WAB8AB        WCB8AB                         PFS Regulation
      *
     C     KLCHSC        KLIST
     C                   KFLD                    WCB4AB                         PFS Regulation
     C                   KFLD                    WCB8AB                         PFS Regulation
     C     KLCHSC        CHAIN     @C7REMM                            9091      *
      *
      * Record not found
     C                   IF        *IN90
     C                   MOVEL     'Y2U0009'     W0RTN
     C                   MOVEL     ##PGM         MDPGM
     C                   MOVEL     'PUC7REL0'    MDACP
     C                   MOVEL     '@C7REMM'     MDFMT
     C                   MOVEL     '*CHG'        MDACT
      * Record not found label: LBL001.
     C                   MOVEL     'LBL001'      MDLBL
      * Send message '*Record no longer on file'
     C                   MOVEL     'Y2U0009'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     MD0009        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   EVAL      MD0009 = ' '
     C                   GOTO      SCEXIT
     C                   ENDIF
      *
      * Record locked
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
      * Send message '*Database operation error'
     C                   MOVEL     'Y2U0004'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   EXSR      ZASNMS
     C                   GOTO      SCEXIT
     C                   ENDIF
      *
      * Store record data for null update check
     C                   MOVE      QPUC72        YARDCS
      * Move non-key fields to @C7REMM
     C                   MOVEL(P)  WBB5AB        WCB5AB                         PFS Regulation
     C                   MOVEL(P)  WBUOU1        WCUOU1                         PFS Regulation
     C                   MOVEL(P)  WBUPU1        WCUPU1                         PFS ShipTo EstS
     C                   MOVEL(P)  WBCFAB        WCCFAB                         PFS Ship To Cus
     C                   MOVEL(P)  WBOGSC        WCOGSC                         PFS Default Reg
     C                   MOVEL(P)  WBUQU1        WCUQU1                         PFS NonComp Stm
     C                   MOVEL(P)  WBURU1        WCURU1                         PFS NonComp Stm
     C                   MOVEL(P)  WBUSU1        WCUSU1                         PFS Compliancy
     C                   MOVEL(P)  WBUTU1        WCUTU1                         PFS Compliancy
     C                   MOVEL(P)  WAUWSX        WCUWSX                         PFS Record Stat
     C                   Z-ADD     WBUXSX        WCUXSX                         PFS Process Sta
     C                   MOVEL(P)  WBV3SX        WCV3SX                         PFS Error Reaso
     C                   Z-ADD     WBAHNY        WCAHNY                         PFS Create Date
     C                   Z-ADD     WBAINY        WCAINY                         PFS Create Time
     C                   Z-ADD     WBAJNY        WCAJNY                         PFS Change Date
     C                   Z-ADD     WBAKNY        WCAKNY                         PFS Change time
      *
      * Set PGM.*Record Data Changed flag
     C                   IF        QPUC72 <> YARDCS AND
     C                             YARDC <> 'N'
     C                   MOVE      'Y'           YARDC
     C                   ENDIF
      * USER: Processing before Data update
      * Set Change Stamp      IF
     C                   Z-ADD     ##JDT         WCAJNY                         PFS Change Date
     C                   Z-ADD     ##JTM         WCAKNY                         PFS Change time
      * Set PGM.*Record Data Changed flag
     C                   IF        QPUC72 <> YARDCS AND
     C                             YARDC <> 'N'
     C                   MOVE      'Y'           YARDC
     C                   ENDIF
      * If changed update record otherwise release record
     C                   IF        YARDC = 'Y'
     C                   UPDATE    @C7REMM                              91      *
     C                   ELSE
      * Release record lock
     C                   UNLOCK    PUC7REL0                             91      *
     C                   ENDIF
      * Change error detected
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
     C                   ELSE
      *
      * DBF change successful
     C                   ENDIF
      *================================================================
     CSR   SCEXIT        ENDSR
      /EJECT
     CSR   SDCHRC        BEGSR
      *================================================================
      * Chg Process Status CH - PFS Regulation Code Mst  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Set PGM.*Record Data Changed flag
     C                   EVALR     YBRDC = ' '
      *
      * Move key fields to @C7REMM
     C                   MOVEL(P)  WAB4AB        WCB4AB                         PFS Regulation
     C                   MOVEL(P)  WAB8AB        WCB8AB                         PFS Regulation
      *
     C     KLCHSD        KLIST
     C                   KFLD                    WCB4AB                         PFS Regulation
     C                   KFLD                    WCB8AB                         PFS Regulation
     C     KLCHSD        CHAIN     @C7REMM                            9091      *
      *
      * Record not found
     C                   IF        *IN90
     C                   MOVEL     'Y2U0009'     W0RTN
     C                   MOVEL     ##PGM         MDPGM
     C                   MOVEL     'PUC7REL0'    MDACP
     C                   MOVEL     '@C7REMM'     MDFMT
     C                   MOVEL     '*CHG'        MDACT
      * Record not found label: LBL002.
     C                   MOVEL     'LBL002'      MDLBL
      * Send message '*Record no longer on file'
     C                   MOVEL     'Y2U0009'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     MD0009        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   EVAL      MD0009 = ' '
     C                   GOTO      SDEXIT
     C                   ENDIF
      *
      * Record locked
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
      * Send message '*Database operation error'
     C                   MOVEL     'Y2U0004'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   EXSR      ZASNMS
     C                   GOTO      SDEXIT
     C                   ENDIF
      *
      * Store record data for null update check
     C                   MOVE      QPUC72        YBRDCS
      * Move non-key fields to @C7REMM
     C                   MOVEL(P)  WAB5AB        WCB5AB                         PFS Regulation
     C                   MOVEL(P)  WAUOU1        WCUOU1                         PFS Regulation
     C                   MOVEL(P)  WAUPU1        WCUPU1                         PFS ShipTo EstS
     C                   MOVEL(P)  WACFAB        WCCFAB                         PFS Ship To Cus
     C                   MOVEL(P)  WAOGSC        WCOGSC                         PFS Default Reg
     C                   MOVEL(P)  WAUQU1        WCUQU1                         PFS NonComp Stm
     C                   MOVEL(P)  WAURU1        WCURU1                         PFS NonComp Stm
     C                   MOVEL(P)  WAUSU1        WCUSU1                         PFS Compliancy
     C                   MOVEL(P)  WAUTU1        WCUTU1                         PFS Compliancy
     C                   MOVEL(P)  WAUWSX        WCUWSX                         PFS Record Stat
     C                   Z-ADD     1             WCUXSX                         PFS Process Sta
     C                   MOVEL(P)  WAV3SX        WCV3SX                         PFS Error Reaso
     C                   Z-ADD     WAAHNY        WCAHNY                         PFS Create Date
     C                   Z-ADD     WAAINY        WCAINY                         PFS Create Time
     C                   Z-ADD     WAAJNY        WCAJNY                         PFS Change Date
     C                   Z-ADD     WAAKNY        WCAKNY                         PFS Change time
      *
      * Set PGM.*Record Data Changed flag
     C                   IF        QPUC72 <> YBRDCS AND
     C                             YBRDC <> 'N'
     C                   MOVE      'Y'           YBRDC
     C                   ENDIF
      * USER: Processing before Data update
      * Set Change Stamp      IF
     C                   Z-ADD     ##JDT         WCAJNY                         PFS Change Date
     C                   Z-ADD     ##JTM         WCAKNY                         PFS Change time
      * Set PGM.*Record Data Changed flag
     C                   IF        QPUC72 <> YBRDCS AND
     C                             YBRDC <> 'N'
     C                   MOVE      'Y'           YBRDC
     C                   ENDIF
      * If changed update record otherwise release record
     C                   IF        YBRDC = 'Y'
     C                   UPDATE    @C7REMM                              91      *
     C                   ELSE
      * Release record lock
     C                   UNLOCK    PUC7REL0                             91      *
     C                   ENDIF
      * Change error detected
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
     C                   ELSE
      *
      * DBF change successful
     C                   ENDIF
      *================================================================
     CSR   SDEXIT        ENDSR
      /EJECT
     CSR   UASUBR        BEGSR
      *================================================================
      * Modifications History
      *================================================================
      * Eric L 05-2023 WI572 CA Prop 12 Creation
      *================================================================
     CSR   UAEXIT        ENDSR
      /EJECT
     CSR   ZASNMS        BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C                   IF        ZAPGMQ = ' '
     C                   MOVEL     ##PGM         ZAPGMQ
     C                   END
     C                   CALL      'Y2SNMGC'
     C                   PARM                    ZAPGMQ                         Program queue
     C                   PARM                    ZAPGRL                         Rel queue
     C                   PARM                    ZAMSID                         Message ID
     C                   PARM                    ZAMSGF                         Message file
     C                   PARM                    ZAMSDA                         Message data
     C                   PARM                    ZAMSTP                         Message type
     C                   PARM      'Y'           YILE
      * Clear all fields for default mechanism next time
     C                   EVAL      ZAPGMQ = ' '
     C                   EVAL      ZAPGRL = ' '
     C                   EVAL      ZAMSID = ' '
     C                   EVAL      ZAMSGF = ' '
     C                   EVAL      ZAMSDA = ' '
     C                   EVAL      ZAMSTP = ' '
      *================================================================
     CSR   ZAEXIT        ENDSR
      /EJECT
     CSR   ZXEXPG        BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                   EXSR      ZYEXPG
      *================================================================
     CSR   ZXEXIT        ENDSR
      /EJECT
     CSR   ZYEXPG        BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                   SETON                                        LR
      *
      * Exit program
     C                   RETURN
      *
      *================================================================
     CSR   ZYEXIT        ENDSR
      /EJECT
     CSR   ZZINIT        BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C                   IF        W0ICL = ' '
     C                   MOVEL     'Y'           W0ICL                          *Initial call
     C                   ELSE
     C                   MOVEL     'N'           W0ICL
     C                   END
     C                   EVALR     P0RTN = ' '
     C                   EVALR     W0RTN = ' '
     C                   EVAL      W0RSL = ' '
     C                   EVAL      W0RSF = ' '
     C                   MOVEL     *ZEROS        W0RTW
     C                   MOVEL     '400'         W0ENV
      * Retrieve job attributes
     C                   CALL      'Y2RTJCR'
     C                   PARM                    PGMDS
      * Setup job date/time
     C                   Z-ADD     ##SD7         ##JDT
     C                   TIME                    ##JTM
      * Update screen time
     C                   TIME                    ##TME
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WAUXSX                         PFS Process Sta
     C                   Z-ADD     *ZERO         WAAHNY                         PFS Create Date
     C                   Z-ADD     *ZERO         WAAINY                         PFS Create Time
     C                   Z-ADD     *ZERO         WAAJNY                         PFS Change Date
     C                   Z-ADD     *ZERO         WAAKNY                         PFS Change time
     C                   MOVEL     'N'           W0PMT
      *================================================================
     CSR   ZZEXIT        ENDSR
