// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMXAXFR
// ?Date: 14.08.2025 Time: 03:44:25
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?FP1110- This will see if RIN exists for a batch/order
// PAR.COA Batch Header RIN = CON.*BLANK
PAR.COA_Batch_Header_RIN = *BLANK;

EXECUTE FUNCTION(RTV HPB fields         RT) TYPE(RTVOBJ) FILE(PMAMREP)          AC1853458;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Order_Number);
PARAMETER(LCL.HPB_COA_Batch_Number);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


CASE;

// IF LCL.HPB COA Batch Number is Entered
IF LCL.HPB_COA_Batch_Number > *ZERO;

EXECUTE FUNCTION(Rtv Val RIN bef/unshp RT) TYPE(RTVOBJ) FILE(PMDACPP)           AC1894690;
PARAMETER(PAR.COA_Batch_Header_RIN);
PARAMETER(PAR.Order_Number);
PARAMETER(PAR.Company_Number);
{
 //?USER: Process Data record

 // PAR.COA Batch Header RIN = DB1.COA Batch Header RIN
 PAR.COA_Batch_Header_RIN = DB1.COA_Batch_Header_RIN;

}


ENDIF;

