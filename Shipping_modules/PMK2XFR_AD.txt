// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMK2XFR
// ?Date: 14.08.2025 Time: 03:43:22
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Set par.export sts dft to YES if export order whse = ship from whse
EXECUTE FUNCTION(RTV Export Whse for LD RT) TYPE(RTVOBJ) FILE(OPBFCPP)          AC1840507;
PARAMETER(PAR.Load_ID);
PARAMETER(PAR.Ship_From_Warehouse);
PARAMETER(PAR.Export_Status_Dft);
{
 //?USER: Initialize routine

 // PAR.Export Status Dft = CND.no
 PAR.Export_Status_Dft = 'N';

 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 //?USER: Process Data record

 EXECUTE FUNCTION(RTV 1st Warehouse      RT) TYPE(RTVOBJ) FILE(OPBGWKP)          AC1575817;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(1);
 PARAMETER(1);
 PARAMETER(WRK.Warehouse_Code);
 {
  //?USER: Process Data record

  // PAR.Warehouse Code = DB1.Warehouse Code
  PAR.Warehouse_Code = DB1.Warehouse_Code;

  QUIT;

 }

 CASE;

 // IF WRK.Warehouse Code EQ PAR.Ship From Warehouse
 IF WRK.Warehouse_Code = PAR.Ship_From_Warehouse;

 // PAR.Export Status Dft = CND.yes
 PAR.Export_Status_Dft = 'Y';

 ENDIF;

}


