// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDT8XFR
// ?Date: 14.08.2025 Time: 03:36:11
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?1. Override Printer File.
DO;

// PAR.Nbr of Copies-Alpha   USR = CVTVAR(PAR.PRT Number of Copies)
PAR.Nbr_of_Copies_Alpha_USR = CVTVAR(PAR.PRT_Number_of_Copies);

//?Report 1 (Sort by Load Id)
CASE;

// IF PAR.USR Radio Button 1 is Select X
IF PAR.USR_Radio_Button_1 = 'X';

// PAR.Printer File = CON.PDSEPFR$
PAR.Printer_File = 'PDSEPFR$';

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.Nbr_of_Copies_Alpha_USR);

ENDIF;

//?Report 2 (Sort by Scheduled Sequence Number)
CASE;

// IF PAR.USR Radio Button 2 is Select X
IF PAR.USR_Radio_Button_2 = 'X';

// PAR.Printer File = CON.PDUCPFR$
PAR.Printer_File = 'PDUCPFR$';

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.Nbr_of_Copies_Alpha_USR);

ENDIF;

//?Report 3 (Sort by Deadline Departure Date/Time)
CASE;

// IF PAR.USR Radio Button 3 is Select X
IF PAR.USR_Radio_Button_3 = 'X';

// PAR.Printer File = CON.PDUDPFR$
PAR.Printer_File = 'PDUDPFR$';

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.Nbr_of_Copies_Alpha_USR);

ENDIF;

//?Report 4 (Sort by Load Plan Start Date/Time)
CASE;

// IF PAR.USR Radio Button 4 is Select X
IF PAR.USR_Radio_Button_4 = 'X';

// PAR.Printer File = CON.PBCKPFR$
PAR.Printer_File = 'PBCKPFR$';

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.Nbr_of_Copies_Alpha_USR);

ENDIF;

ENDDO;

//?2. Copy files from PRKFHST TO qtemp
DO;

//?Files will be done based on the data libary that is ready
// Call program Prt Load Schdlng SummALUP.
CALL PROGRAM(Prt Load Schdlng SummALUP) ('PMD5UCLP');
PARAMETER(LCL.Return_Code_Usr);

ENDDO;

CASE;

// IF LCL.Return Code Usr is *Blank
IF LCL.Return_Code_Usr = *BLANK;

//?3. Print Report(s)
DO;

//?S15765 DN 11/12/19-Added Primal Group Code as Input Parm for All Reports.
//?Report 1 (Sort by Load Id)
CASE;

// IF PAR.USR Radio Button 1 is Select X
IF PAR.USR_Radio_Button_1 = 'X';

// Call program Prt Load Schdlng Summ1 PF.
CALL PROGRAM(Prt Load Schdlng Summ1 PF) ('PDSEPFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Warehouse_Code);
PARAMETER(PAR.From_Date_USR);
PARAMETER(PAR.To_Date_USR);
PARAMETER(PAR.From_Load_ID_USR);
PARAMETER(PAR.To_Load_ID_USR);
PARAMETER(PAR.Export_Status);
PARAMETER(PAR.U_M_Load_Scheduling_USR);
PARAMETER(PAR.Load_Grade);
PARAMETER(PAR.Untied_Orders_Flag_USR);
PARAMETER(PAR.Primal_Group_Code);

ENDIF;

//?Report 2 (Sort by Scheduled Sequence Number)
CASE;

// IF PAR.USR Radio Button 2 is Select X
IF PAR.USR_Radio_Button_2 = 'X';

// Call program Prt Load Schdlng Summ2 PF.
CALL PROGRAM(Prt Load Schdlng Summ2 PF) ('PDUCPFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Warehouse_Code);
PARAMETER(PAR.From_Date_USR);
PARAMETER(PAR.To_Date_USR);
PARAMETER(PAR.From_Load_ID_USR);
PARAMETER(PAR.To_Load_ID_USR);
PARAMETER(PAR.Export_Status);
PARAMETER(PAR.U_M_Load_Scheduling_USR);
PARAMETER(PAR.Load_Grade);
PARAMETER(PAR.Untied_Orders_Flag_USR);
PARAMETER(PAR.Primal_Group_Code);

ENDIF;

//?E3328 JJH 10/13/14 - New parm for  Quantites Less Than Zero
//?Report 3 (Sort by Deadline Departure Date/Time)
CASE;

// IF PAR.USR Radio Button 3 is Select X
IF PAR.USR_Radio_Button_3 = 'X';

//?E3328 JJH 10/13/14 - New parm for  Quantites Less Than Zero
// Call program Prt Load Schdlng Summ3 PF.
CALL PROGRAM(Prt Load Schdlng Summ3 PF) ('PDUDPFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Warehouse_Code);
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.From_Date_USR);
PARAMETER(PAR.To_Date_USR);
PARAMETER(PAR.From_Load_ID_USR);
PARAMETER(PAR.To_Load_ID_USR);
PARAMETER(PAR.Export_Status);
PARAMETER(PAR.U_M_Load_Scheduling_USR);
PARAMETER(PAR.Load_Grade);
PARAMETER(PAR.Untied_Orders_Flag_USR);
PARAMETER(PAR.Primal_Group_Code);
PARAMETER(PAR.Qty_Less_Than_Zero_USR);

ENDIF;

//?Report 4 (Sort by Load plan start Date/Time)
CASE;

// IF PAR.USR Radio Button 4 is Select X
IF PAR.USR_Radio_Button_4 = 'X';

//?Put Load Plan Start Dt/Tm in DDT date/time
// Call program Exc Load Schd-ld plan XF.
CALL PROGRAM(Exc Load Schd-ld plan XF) ('PBCJXFR');
PARAMETER(PAR.Company_Number);

// Call program Prt Load Schdlng Summ4 PF.
CALL PROGRAM(Prt Load Schdlng Summ4 PF) ('PBCKPFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Warehouse_Code);
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.From_Date_USR);
PARAMETER(PAR.To_Date_USR);
PARAMETER(PAR.From_Load_ID_USR);
PARAMETER(PAR.To_Load_ID_USR);
PARAMETER(PAR.Export_Status);
PARAMETER(PAR.U_M_Load_Scheduling_USR);
PARAMETER(PAR.Load_Grade);
PARAMETER(PAR.Untied_Orders_Flag_USR);
PARAMETER(PAR.Primal_Group_Code);

ENDIF;

ENDDO;

ENDIF;

