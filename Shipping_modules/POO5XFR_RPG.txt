     H/TITLE Crt Export Rate Dtl   XF  Execute external functio
     H            Y
     Z* CRTRPGPGM
     Z* CVTOPT(*DATETIME)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by  : 2E  Version:  1181
     H* Function type : Execute external function
      *
     H* Company       : OMS Development Model         lopment-
     H* System        : OMS Development Model
     H* User name     : ISPPATE
     H* Date          : 02/22/07  Time  : 15:59:21
     H* Copyright     : OMS Development Model         lopment-
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FCABZREL1IF  E           K        DISK
      * RTV : Company Item              Retrieval index       NV
      *
     FPOBWCPL1IF  E           K        DISK
      * RTV : Export Rate Prod Detail   Retrieval index
      *
     FPOBWCPL0UF  E           K        DISK                      A
      * UPD : Export Rate Prod Detail   Update index
      *
     E                    YDOW        7  1               *Days of week
     I@BZREJU
      * Company Item              Retrieval index       NV
      * Renamed input format fields
     I              BZAIC3                          WAAIC3
     I              BZHGCD                          WAHGCD
     I              BZAVNA                          WAAVNA
     I              BZAWNA                          WAAWNA
     I              BZL7NA                          WAL7NA
     I              BZL8NA                          WAL8NA
     I              BZL6NA                          WAL6NA
     I              BZMFNA                          WAMFNA
     I              BZADCD                          WAADCD
     I              BZAWPC                          WAAWPC
     I              BZLXST                          WALXST
     I              BZAECD                          WAAECD
     I              BZAXPC                          WAAXPC
     I              BZLYST                          WALYST
     I              BZAFCD                          WAAFCD
     I              BZAICD                          WAAICD
     I              BZAIWG                          WAAIWG
     I              BZHICD                          WAHICD
     I              BZRBCD                          WARBCD
     I              BZFZST                          WAFZST
     I              BZAVST                          WAAVST
     I              BZCZWG                          WACZWG
     I              BZC0WG                          WAC0WG
     I              BZURTN                          WAURTN
     I              BZAJC8                          WAAJC8
     I              BZRINB                          WARINB
     I              BZRHNB                          WARHNB
     I              BZRGNB                          WARGNB
     I              BZLNCD                          WALNCD
     I              BZTFNB                          WATFNB
     I              BZN0CD                          WAN0CD
     I              BZX4ST                          WAX4ST
     I              BZTMVA                          WATMVA
     I              BZTNVA                          WATNVA
     I              BZBLPR                          WABLPR
     I              BZBMPR                          WABMPR
     I              BZLRCD                          WALRCD
     I              BZU9ST                          WAU9ST
     I              BZCMCO                          WACMCO
     I              BZQ1CD                          WAQ1CD
     I              BZQ8CD                          WAQ8CD
     I              BZCHTM                          WACHTM
     I              BZQZCD                          WAQZCD
     I              BZXWST                          WAXWST
     I              BZXXST                          WAXXST
     I              BZVMST                          WAVMST
     I              BZSWGH                          WASWGH
     I              BZPPHE                          WAPPHE
     I              BZR3CD                          WAR3CD
     I              BZSDCD                          WASDCD
     I              BZICN1                          WAICN1
     I              BZSVCD                          WASVCD
     I              BZICN2                          WAICN2
     I              BZSWCD                          WASWCD
     I              BZV2NB                          WAV2NB
     I              BZSXCD                          WASXCD
     I              BZITCN                          WAITCN
     I              BZSYCD                          WASYCD
     I              BZITC5                          WAITC5
     I              BZSZCD                          WASZCD
     I              BZICN6                          WAICN6
     I              BZS0CD                          WAS0CD
     I              BZICN7                          WAICN7
     I              BZS1CD                          WAS1CD
     I              BZICN8                          WAICN8
     I              BZS2CD                          WAS2CD
     I              BZICN9                          WAICN9
     I              BZS3CD                          WAS3CD
     I              BZICN0                          WAICN0
     I              BZS4CD                          WAS4CD
     I              BZSFNB                          WASFNB
     I              BZA3WG                          WAA3WG
     I              BZSJNB                          WASJNB
     I              BZLLCD                          WALLCD
     I              BZLMCD                          WALMCD
     I              BZP3ST                          WAP3ST
     I              BZSKNB                          WASKNB
     I              BZSLNB                          WASLNB
     I              BZSMNB                          WASMNB
     I              BZP4ST                          WAP4ST
     I              BZCFNB                          WACFNB
     I              BZCGNB                          WACGNB
     I              BZILNB                          WAILNB
     I              BZCHNB                          WACHNB
     I              BZCINB                          WACINB
     I              BZCJNB                          WACJNB
     I              BZCMNB                          WACMNB
     I              BZCNNB                          WACNNB
     I              BZCRNB                          WACRNB
     I              BZCSNB                          WACSNB
     I              BZCVNB                          WACVNB
     I              BZCWNB                          WACWNB
     I              BZCXNB                          WACXNB
     I              BZCZNB                          WACZNB
     I              BZC0NB                          WAC0NB
     I              BZN1CD                          WAN1CD
     I              BZB4NB                          WAB4NB
     I              BZB5NB                          WAB5NB
     I              BZX5ST                          WAX5ST
     I              BZX6ST                          WAX6ST
     I              BZX7ST                          WAX7ST
     I              BZPCCT                          WAPCCT
     I              BZBDNB                          WABDNB
     I              BZBJNB                          WABJNB
     I              BZSUST                          WASUST
     I              BZSVST                          WASVST
     I              BZSYST                          WASYST
     I              BZSZST                          WASZST
     I              BZS1ST                          WAS1ST
     I              BZXRCD                          WAXRCD
     I              BZXTCD                          WAXTCD
     I              BZXUCD                          WAXUCD
     I              BZF5WG                          WAF5WG
     I              BZF6WG                          WAF6WG
     I              BZF7WG                          WAF7WG
     I              BZBLNB                          WABLNB
     I              BZBNNB                          WABNNB
     I              BZS2ST                          WAS2ST
     I              BZS4ST                          WAS4ST
     I              BZS5ST                          WAS5ST
     I              BZS6ST                          WAS6ST
     I              BZS8ST                          WAS8ST
     I              BZS9ST                          WAS9ST
     I              BZTCST                          WATCST
     I              BZTDST                          WATDST
     I              BZUVST                          WAUVST
     I              BZUWST                          WAUWST
     I              BZUXST                          WAUXST
     I              BZVSST                          WAVSST
     I              BZAATM                          WAAATM
     I              BZAYNA                          WAAYNA
     I              BZA0NA                          WAA0NA
     I              BZAXDT                          WAAXDT
      *
     I@BWCPL1
      * Export Rate Prod Detail   Retrieval index
      * Renamed input format fields
     I              BWAIC3                          WBAIC3
     I              BWAJCD                          WBAJCD
     I              BWELDT                          WBELDT
     I              BWXLCD                          WBXLCD
     I              BWOWNX                          WBOWNX
     I              BWHGCD                          WBHGCD
     I              BWI1WG                          WBI1WG
     I              BWNJQT                          WBNJQT
     I              BWOVNX                          WBOVNX
     I              BWRINB                          WBRINB
     I              BWMESX                          WBMESX
     I              BWSUST                          WBSUST
     I              BWA8T1                          WBA8T1
     I              BWUVST                          WBUVST
     I              BWUWST                          WBUWST
     I              BWUXST                          WBUXST
     I              BWVSST                          WBVSST
     I              BWAATM                          WBAATM
     I              BWAYNA                          WBAYNA
     I              BWA0NA                          WBA0NA
     I              BWAXDT                          WBAXDT
      *
     I@BWCPL0
      * Export Rate Prod Detail   Update index
      * Renamed input format fields
     I              BWAIC3                          WCAIC3
     I              BWAJCD                          WCAJCD
     I              BWELDT                          WCELDT
     I              BWXLCD                          WCXLCD
     I              BWOWNX                          WCOWNX
     I              BWHGCD                          WCHGCD
     I              BWI1WG                          WCI1WG
     I              BWNJQT                          WCNJQT
     I              BWOVNX                          WCOVNX
     I              BWRINB                          WCRINB
     I              BWMESX                          WCMESX
     I              BWSUST                          WCSUST
     I              BWA8T1                          WCA8T1
     I              BWUVST                          WCUVST
     I              BWUWST                          WCUWST
     I              BWUXST                          WCUXST
     I              BWVSST                          WCVSST
     I              BWAATM                          WCAATM
     I              BWAYNA                          WCAYNA
     I              BWA0NA                          WCA0NA
     I              BWAXDT                          WCAXDT
      *
      /EJECT
      * Data structures:
     IPGMDS     ESDSY2PGDSP
      * Modified Program data structure
     IJBDTTM      DS
      * Job date/time
     I                                        1   70##JDT
     I                                        1   10##JCC
     I                                        2   30##JYY
     I                                        4   50##JMM
     I                                        6   70##JDD
     I                                        8  130##JTM
     I                                        8   90##JHH
     I                                       10  110##JNN
     I                                       12  130##JSS
      /EJECT
     IXTCK        DS
      * Time: hours, minutes, seconds
     I                                        1   60XTTIM
     I                                        1   20XTHH
     I                                        3   40XTNN
     I                                        5   60XTSS
      /EJECT
     IXDINT       DS
      * Internal date
     I                                        1   70XDINDT
     I                                        1   30XDINYY
     I                                        4   50XDINMM
     I                                        6   70XDINDD
      /EJECT
     IXD2T        DS
      * Internal date
     I                                        1   70XDINT2
     I                                        1   30XDINY2
     I                                        4   50XDINM2
     I                                        6   70XDIND2
     IQPOBW1    E DSPOBWCPL0
      * UPD : Export Rate Prod Detail   Update index
      * Renamed input format fields
     I              BWAIC3                          WCAIC3
     I              BWAJCD                          WCAJCD
     I              BWELDT                          WCELDT
     I              BWXLCD                          WCXLCD
     I              BWOWNX                          WCOWNX
     I              BWHGCD                          WCHGCD
     I              BWI1WG                          WCI1WG
     I              BWNJQT                          WCNJQT
     I              BWOVNX                          WCOVNX
     I              BWRINB                          WCRINB
     I              BWMESX                          WCMESX
     I              BWSUST                          WCSUST
     I              BWA8T1                          WCA8T1
     I              BWUVST                          WCUVST
     I              BWUWST                          WCUWST
     I              BWUXST                          WCUXST
     I              BWVSST                          WCVSST
     I              BWAATM                          WCAATM
     I              BWAYNA                          WCAYNA
     I              BWA0NA                          WCA0NA
     I              BWAXDT                          WCAXDT
      *
     IYARDCS      DS                             74
      * Message data for message Y2U0009.
     IMD0009      DS
     I                                        1  10 MDPGM
     I                                       11  20 MDACP
     I                                       21  30 MDFMT
     I                                       31  34 MDACT
     I                                       35  40 MDLBL
      /EJECT
      * Parameter declarations
     IP1PARM      DS
      * FLD: Item Transaction Detail
      * I :  Company Number
     I                                    P   1   20P1AIC3
      * I :  Item Code
     I                                    P   3   60P1HGCD
      * I :  Warehouse Code
     I                                        7   9 P1AJCD
      * I :  Inventory Trans. ID
     I                                       10  10 P1W9ST
      * I :  Inventory Trans. Type
     I                                       11  12 P1BSST
      * I :  Transaction Date Code
     I                                    P  13  160P1B4DT
      * I :  Sequence Number
     I                                    P  17  180P1DXNB
      * I :  Production Date
     I                                    P  19  220P1ELDT
      * I :  U/M - Transaction
     I                                       23  24 P1HVCD
      * I :  Item Transaction Source
     I                                       25  26 P1F1ST
      * I :  Description
     I                                       27  56 P1AUNA
      * I :  Transaction Quantity
     I                                    P  57  622P1A5QT
      * I :  Transaction Weight
     I                                    P  63  682P1AHWG
      * I :  USR Transaction-Unit Cost
     I                                    P  69  744P1AKCS
      * I :  U/M - Cost
     I                                       75  76 P1CGCD
      * I :  Extended Amount
     I                                    P  77  822P1AYVA
      * I :  Ticket Number
     I                                       83  88 P1BJNA
      * I :  G/L Document Number
     I                                    P  89  930P1CKNB
      * I :  G/L Update Status
     I                                       94  94 P1BMST
      * I :  Reason Code
     I                                       95  97 P1CQCD
      * I :  Reference Number Code
     I                                       98 112 P1DTCD
      * I :  Lot ID
     I                                      113 122 P1MGNA
      * I :  Transfer Batch Number
     I                                    P 123 1260P1TRBN
      * I :  Transfer Batch Sequence
     I                                    P 127 1280P1TRBS
      * I :  Order Number
     I                                    P 129 1320P1C4NB
      * I :  Item Structure Class Code
     I                                    P 133 1340P1RINB
      * I :  Item Structure Group Code
     I                                    P 135 1360P1RHNB
      * I :  Item Structure Type Code
     I                                    P 137 1380P1RGNB
      * I :  Employee Badge Number
     I                                      139 148 P1M3NA
      * I :  Production Time
     I                                    P 149 1520P1AWTM
      * I :  Shift Number
     I                                      153 153 P1XLCD
      * I :  Label Date
     I                                    P 154 1570P1K7DT
      * I :  Record Status
     I                                      158 158 P1VSST
      * I :  Job Time
     I                                    P 159 1620P1AATM
      * I :  Job Date
     I                                    P 163 1660P1AXDT
     IP2PARM      DS
      * FLD: Export Rate Prod Detail
      * N :  Production Hour
     I                                    P   1   20P2OWNX
      * N :  Production Pieces
     I                                    P   3   60P2OVNX
      * N :  Export/Domestic
     I                                        7   7 P2SUST
     I            DS
     I                                        1 132 ZAMSDA
      /EJECT
      *****************************************************************
      * Entry parameters
     C           *ENTRY    PLIST
     C                     PARM           P0RTN   7
     C           P1AIC3    PARM           WP0001  30       Company Number
     C           P1HGCD    PARM           WP0002  70       Item Code
     C           P1AJCD    PARM           WP0003  3        Warehouse Code
     C           P1W9ST    PARM           WP0004  1        Inventory Trans
     C           P1BSST    PARM           WP0005  2        Inventory Trans
     C           P1B4DT    PARM           WP0006  70       Transaction Dat
     C           P1DXNB    PARM           WP0007  30       Sequence Number
     C           P1ELDT    PARM           WP0008  70       Production Date
     C           P1HVCD    PARM           WP0009  2        U/M - Transacti
     C           P1F1ST    PARM           WP0010  2        Item Transactio
     C           P1AUNA    PARM           WP0011 30        Description
     C           P1A5QT    PARM           WP0012 112       Transaction Qua
     C           P1AHWG    PARM           WP0013 112       Transaction Wei
     C           P1AKCS    PARM           WP0014 114       USR Transaction
     C           P1CGCD    PARM           WP0015  2        U/M - Cost
     C           P1AYVA    PARM           WP0016 112       Extended Amount
     C           P1BJNA    PARM           WP0017  6        Ticket Number
     C           P1CKNB    PARM           WP0018  80       G/L Document Nu
     C           P1BMST    PARM           WP0019  1        G/L Update Stat
     C           P1CQCD    PARM           WP0020  3        Reason Code
     C           P1DTCD    PARM           WP0021 15        Reference Numbe
     C           P1MGNA    PARM           WP0022 10        Lot ID
     C           P1TRBN    PARM           WP0023  70       Transfer Batch
     C           P1TRBS    PARM           WP0024  30       Transfer Batch
     C           P1C4NB    PARM           WP0025  70       Order Number
     C           P1RINB    PARM           WP0026  30       Item Structure
     C           P1RHNB    PARM           WP0027  30       Item Structure
     C           P1RGNB    PARM           WP0028  30       Item Structure
     C           P1M3NA    PARM           WP0029 10        Employee Badge
     C           P1AWTM    PARM           WP0030  60       Production Time
     C           P1XLCD    PARM           WP0031  1        Shift Number
     C           P1K7DT    PARM           WP0032  70       Label Date
     C           P1VSST    PARM           WP0033  1        Record Status
     C           P1AATM    PARM           WP0034  60       Job Time
     C           P1AXDT    PARM           WP0035  70       Job Date
      *****************************************************************
      * Initialize
     C                     EXSR ZZINIT
      *
      * Crt Export Rate Dtl   XF
      * 4/30/03 Changed for new Item Structure definitions
      *   This is what the Item Structure Class case stmt looked like:
      * c1 | c2 | c3 | c4
      * c1    : PAR.Item Structure Class Code is Loin Bone-in
      * c2    : PAR.Item Structure Class Code is Loin Bnl's Center Cu
      * c3    : PAR.Item Structure Class Code is Proc Loin Bnls Cente
      * c4    : PAR.Item Structure Class Code is Proc Loin Bone-in
      *   Now it compares the Item Structure Group to specific codes
      * CASE:
      *  - c1 AND c2 AND c3
      *   |- c1    : PAR.Inventory Trans. Type is Receipt Production
      *   |- c2    : PAR.Transaction Date Code EQ PAR.Production Date
      *   |- c3    : PAR.Item Structure Type Code is Loin
      *   '-
     C                     MOVEL'0'       Y0CX01  1
     C           P1BSST    IFEQ 'RR'                       *IF
     C           P1B4DT    IFEQ P1ELDT                     *IF
     C           P1RGNB    IFEQ 200                        *IF
     C                     MOVEL'1'       Y0CX01
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C           Y0CX01    IFEQ '1'                        *IF
      * RTV Pass Rate Info    RT - Company Item  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDP1AIC3    WL0001           Company Number
     C                     Z-ADDP1HGCD    WL0002           Item Code
     C                     EXSR SARVGN
      * Move subroutine local variables to output parameters.
     C                     MOVELWL0003    WUAVNA    P      Description Lin
     C                     Z-ADDWL0004    WUAIWG           Unit Weight
     C                     MOVELWL0005    YL0001    P      Quality Level
     C                     MOVELWL0006    WUPCCT    P      Piece Count Ite
     C                     Z-ADDWL0007    YL0002           Pieces Per Bag
     C                     Z-ADDWL0008    YL0003           Bags Per Unit
     C                     MOVELWL0009    P2SUST    P      Export/Domestic
      * Rtv Boning/Export Cls XF - Company Item  * 
     C                     CALL 'PMD5XFR'              90  Rtv Boning/Expo
     C                     PARM *BLANK    W0RTN   7
     C                     PARM YL0001    WQ0001  2        Quality Level
     C                     PARM P1RINB    WQ0002  30       Item Structure
     C                     PARM P1RHNB    WQ0003  30       Item Structure
     C                     PARM P1RGNB    WQ0004  30       Item Structure
     C           YL0004    PARM *BLANK    WQ0005  2        BoneIn/Boneless
     C           P2SUST    PARM *BLANK    WQ0006  1        Export/Domestic
     C           YL0005    PARM *BLANK    WQ0007  1        PFS Item Primal
      *
      *
     C           *IN90     IFEQ '1'
      * Call to program ended in error
     C                     MOVEL'Y2U0032' W0RTN
     C                     MOVEL*BLANKS   W0CLPG 10
     C                     MOVEL'PMD5XFR' W0CLPG
      * Send message '*Error occured on CALL...'
     C                     MOVEL'Y2U0032' ZAMSID
     C                     MOVEL'Y2USRMSG'ZAMSGF
     C                     MOVELW0CLPG    ZAMSDA           Message data
     C                     EXSR ZASNMS
     C                     END
      * Error detected?
     C           W0RTN     IFNE *BLANK
     C                     SETON                     99    *
     C                     END
      * CASE: LCL.PFS Item Primal Group is Loin
     C           YL0005    IFEQ 'L'                        *IF
     C                     Z-ADDP1AATM    YL0006           Time Zoned USR
      * LCL.Production Hour = LCL.Time Zoned USR *HOURS
     C                     Z-ADDYL0006    XTTIM
     C                     Z-ADDXTHH      YL0007
      * Production Pieces
      * PAR.Production Pieces =
      *    *COMPUTE (x1 * x2 *x3)
      * x1    : PAR.Transaction Quantity
      * *     : PGM.*Synon (15,0) work field *Rounded
      * x2    : LCL.Bags Per Unit
      * *     : PGM.*Synon (15,0) work field *Rounded
      * x3    : LCL.Pieces Per Bag
     C           P1A5QT    MULT YL0003    W0WJ01    H      *Synon (15,0) w
     C           W0WJ01    MULT YL0002    W0WJ00           *Synon (15,0) w
     C                     Z-ADDW0WJ00    P2OVNX           Production Piec
      * Upd Pass Rate Detail  RT - Export Rate Prod Detail  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDP1AIC3    WL0010           Company Number
     C                     MOVELP1AJCD    WL0011    P      Warehouse Code
     C                     Z-ADDP1ELDT    WL0012           Production Date
     C                     MOVELP1XLCD    WL0013    P      Shift Number
     C                     Z-ADDYL0007    WL0014           Production Hour
     C                     Z-ADDP1HGCD    WL0015           Item Code
     C                     Z-ADDP1AHWG    WL0016           Production Weig
     C                     Z-ADDP1A5QT    WL0017           Production Quan
     C                     Z-ADDP2OVNX    WL0018           Production Piec
     C                     Z-ADDP1RINB    WL0019           Item Structure
     C                     MOVELYL0004    WL0020    P      BoneIn/Boneless
     C                     MOVELP2SUST    WL0021    P      Export/Domestic
     C                     MOVELYL0001    WL0022    P      Quality Level
     C                     Z-ADDP1RINB    WL0023           Item Structure
     C                     Z-ADDP1RHNB    WL0024           Item Structure
     C                     Z-ADDP1RGNB    WL0025           Item Structure
     C                     EXSR SBRVGN
     C                     END                             *FI
     C                     END                             *FI
      *----------------------------------------------------------------
      * Exit program
     C           AAEXIT    TAG
     C                     MOVEL*BLANK    P0RTN
     C                     EXSR ZYEXPG
      *================================================================
      /EJECT
     CSR         SARVGN    BEGSR
      *================================================================
      * RTV Pass Rate Info    RT - Company Item  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Define keylist
     C           KRSSA     KLIST
     C                     KFLD           WAAIC3           Company Number
     C                     KFLD           WAHGCD           Item Code
      * Setup key
     C                     Z-ADDWL0001    WAAIC3           Company Number
     C                     Z-ADDWL0002    WAHGCD           Item Code
      * Establish starting position
     C           KRSSA     CHAIN@BZREJU              90    *
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR0326' W0RTN   7
      * USER: Processing if Data record not found
     C                     MOVEL'Y2U0005' W0RTN            *Return code
     C                     GOTO SAEXIT
     C                     ENDIF
      *
     C           *IN90     IFEQ '0'
      * USER: Process Data record
      * PAR = DB1 By name
     C                     MOVELWAAVNA    WL0003           Description Lin
     C                     Z-ADDWAAIWG    WL0004           Unit Weight
     C                     MOVELWAHICD    WL0005           Quality Level
     C                     MOVELWAPCCT    WL0006           Piece Count Ite
     C                     Z-ADDWABDNB    WL0007           Pieces Per Bag
     C                     Z-ADDWABJNB    WL0008           Bags Per Unit
     C                     MOVELWASUST    WL0009           Export/Domestic
     C                     ENDIF
      *================================================================
     CSR         SAEXIT    ENDSR
      /EJECT
     CSR         SBRVGN    BEGSR
      *================================================================
      * Upd Pass Rate Detail  RT - Export Rate Prod Detail  * 
      *================================================================
      *
     C                     MOVEL*BLANK    WN0001  8        Month/Day-Hour
      *
     C                     MOVEL*BLANK    W0RTN   7
      * Define keylist
     C           KRSSB     KLIST
     C                     KFLD           WBAIC3           Company Number
     C                     KFLD           WBAJCD           Warehouse Code
     C                     KFLD           WBELDT           Production Date
     C                     KFLD           WBXLCD           Shift Number
     C                     KFLD           WBOWNX           Production Hour
     C                     KFLD           WBHGCD           Item Code
      * Setup key
     C                     Z-ADDWL0010    WBAIC3           Company Number
     C                     MOVELWL0011    WBAJCD           Warehouse Code
     C                     Z-ADDWL0012    WBELDT           Production Date
     C                     MOVELWL0013    WBXLCD           Shift Number
     C                     Z-ADDWL0014    WBOWNX           Production Hour
     C                     Z-ADDWL0015    WBHGCD           Item Code
      * Establish starting position
     C           KRSSB     CHAIN@BWCPL1              90    *
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR3127' W0RTN   7
      * USER: Processing if Data record not found
      * 02/22/2007 PKD Input Parm now
      * LCL.Month                 USR = PAR.Production Date *MONTH
     C           WL0012    ADD  1000000   XDINDT
     C                     Z-ADDXDINMM    YL0008
      * LCL.Day of Month USR = PAR.Production Date *DAY OF MONTH
     C           WL0012    ADD  1000000   XDINDT
     C                     EXSR XCVTA
     C                     Z-ADDXDAY1     XDAY2   60
     C                     Z-ADD0         XDINDD
     C                     EXSR XCVTA
     C                     MOVEL'1'       XDSEL   1
     C                     MOVEL'1111111' XDCDW   7
     C                     EXSR XDOWS
     C                     MOVEL'NONE'    WUDLN  10
     C                     EXSR XDUDY
     C                     MOVE XDURR     YL0009
     C                     MOVELYL0008    YL0010           Month (Char) US
     C                     MOVELYL0009    YL0011           Day   (Char) US
     C                     MOVELWL0014    YL0012           Hours  2A
     C                     Z-ADD*ZERO     ZQ      50
     C           YL0010    CAT  '/':ZQ    WN0001    P      Month/Day-Hour
     C                     Z-ADD*ZERO     ZQ      50
     C           WN0001    CAT  YL0011:ZQ WN0001    P      Month/Day-Hour
     C                     Z-ADD*ZERO     ZQ      50
     C           WN0001    CAT  '-':ZQ    WN0001    P      Month/Day-Hour
     C                     Z-ADD*ZERO     ZQ      50
     C           WN0001    CAT  YL0012:ZQ WN0001    P      Month/Day-Hour
      * Crt Pass Rate Detail  CR - Export Rate Prod Detail  * 
     C                     EXSR SCCRRC
     C                     GOTO SBEXIT
     C                     ENDIF
      *
     C           *IN90     IFEQ '0'
      * USER: Process Data record
     C           WBI1WG    ADD  WL0016    YL0013           Production Weig
     C           WBNJQT    ADD  WL0017    YL0014           Production Quan
     C           WBOVNX    ADD  WL0018    YL0015           Production Piec
      * Chg Pass Rate Detail  CH - Pass Rate Detail  * 
     C                     EXSR SDCHRC
     C                     ENDIF
      *================================================================
     CSR         SBEXIT    ENDSR
      /EJECT
     CSR         SCCRRC    BEGSR
      *================================================================
      * Crt Pass Rate Detail  CR - Export Rate Prod Detail  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Move all fields to @BWCPL0
     C                     Z-ADDWL0010    WCAIC3           Company Number
     C                     MOVELWL0011    WCAJCD           Warehouse Code
     C                     Z-ADDWL0012    WCELDT           Production Date
     C                     MOVELWL0013    WCXLCD           Shift Number
     C                     Z-ADDWL0014    WCOWNX           Production Hour
     C                     Z-ADDWL0015    WCHGCD           Item Code
     C                     Z-ADDWL0016    WCI1WG           Production Weig
     C                     Z-ADDWL0017    WCNJQT           Production Quan
     C                     Z-ADDWL0018    WCOVNX           Production Piec
     C                     Z-ADDWL0019    WCRINB           Item Structure
     C                     MOVELWL0020    WCMESX           BoneIn/Boneless
     C                     MOVELWL0021    WCSUST           Export/Domestic
     C                     MOVELWN0001    WCA8T1           Month/Day-Hour
     C                     MOVELWUUVST    WCUVST           EDI Status 1
     C                     MOVELWUUWST    WCUWST           EDI Status 2
     C                     MOVELWUUXST    WCUXST           EDI Status 3
     C                     MOVELWUVSST    WCVSST           Record Status
     C                     Z-ADD*ZERO     WCAATM           Job Time
     C                     MOVEL*BLANK    WCAYNA           User Id
     C                     MOVEL*BLANK    WCA0NA           Job Name
     C                     Z-ADD*ZERO     WCAXDT           Job Date
      *
      * USER: Processing before Data update
      * SET Record Stamp CRTOB IF
     C                     MOVEL'A'       WCVSST           Record Status
     C                     Z-ADD##JTM     WCAATM           Job Time
     C                     MOVEL##USR     WCAYNA           User Id
     C                     MOVEL##JOB     WCA0NA           Job Name
     C                     Z-ADD##JDT     WCAXDT           Job Date
     C           KLCRSC    KLIST
     C                     KFLD           WCAIC3           Company Number
     C                     KFLD           WCAJCD           Warehouse Code
     C                     KFLD           WCELDT           Production Date
     C                     KFLD           WCXLCD           Shift Number
     C                     KFLD           WCOWNX           Production Hour
     C                     KFLD           WCHGCD           Item Code
      * Check for duplicate primary key
     C           KLCRSC    SETLL@BWCPL0                  90*
     C           *IN90     IFEQ '1'
     C                     MOVEL'USR3128' W0RTN   7
      * Send message 'Export Rate Prod Detai EX'
     C                     MOVEL'USR3128' ZAMSID
     C                     EXSR ZASNMS
     C                     GOTO SCEXIT
     C                     ENDIF
      *
     C                     WRITE@BWCPL0                91  *
      *
     C           *IN91     IFEQ '1'
      * Write error detected
     C                     MOVEL'Y2U0004' W0RTN   7
     C                     ELSE
     C                     ENDIF
      *================================================================
     CSR         SCEXIT    ENDSR
      /EJECT
     CSR         SDCHRC    BEGSR
      *================================================================
      * Chg Pass Rate Detail  CH - Pass Rate Detail  * 
      *================================================================
      *
     C                     Z-ADD*ZERO     WN0002  30       Item Structure
     C                     MOVEL*BLANK    WN0003  2        BoneIn/Boneless
     C                     MOVEL*BLANK    WN0004  1        Export/Domestic
     C                     MOVEL*BLANK    WN0005  8        Month/Day-Hour
     C                     MOVEL*BLANK    WN0006  1        EDI Status 1
     C                     MOVEL*BLANK    WN0007  1        EDI Status 2
     C                     MOVEL*BLANK    WN0008  1        EDI Status 3
     C                     MOVEL*BLANK    WN0009  1        Record Status
     C                     Z-ADD*ZERO     WN0010  60       Job Time
     C                     MOVEL*BLANK    WN0011 10        User Id
     C                     MOVEL*BLANK    WN0012 10        Job Name
     C                     Z-ADD*ZERO     WN0013  70       Job Date
      *
     C                     MOVEL*BLANK    W0RTN   7
      * Set PGM.*Record Data Changed flag
     C                     MOVE *BLANK    YARDC   1
      *
      * Move key fields to @BWCPL0
     C                     Z-ADDWBAIC3    WCAIC3           Company Number
     C                     MOVELWBAJCD    WCAJCD    P      Warehouse Code
     C                     Z-ADDWBELDT    WCELDT           Production Date
     C                     MOVELWBXLCD    WCXLCD    P      Shift Number
     C                     Z-ADDWBOWNX    WCOWNX           Production Hour
     C                     Z-ADDWBHGCD    WCHGCD           Item Code
      *
     C           KLCHSD    KLIST
     C                     KFLD           WCAIC3           Company Number
     C                     KFLD           WCAJCD           Warehouse Code
     C                     KFLD           WCELDT           Production Date
     C                     KFLD           WCXLCD           Shift Number
     C                     KFLD           WCOWNX           Production Hour
     C                     KFLD           WCHGCD           Item Code
     C           KLCHSD    CHAIN@BWCPL0              9091  *
      *
     C           *IN90     IFEQ '1'
      * Record not found
     C                     MOVEL'Y2U0009' W0RTN   7
     C                     MOVEL##PGM     MDPGM
     C                     MOVEL'POBWCPL0'MDACP
     C                     MOVEL'@BWCPL0' MDFMT
     C                     MOVEL'*CHG'    MDACT
      * Record not found label: LBL001.
     C                     MOVEL'LBL001'  MDLBL
      * Send message '*Record no longer on file'
     C                     MOVEL'Y2U0009' ZAMSID
     C                     MOVEL'Y2USRMSG'ZAMSGF
     C                     MOVELMD0009    ZAMSDA           Message data
     C                     EXSR ZASNMS
     C                     MOVEL*BLANKS   MD0009
     C                     GOTO SDEXIT
     C                     ENDIF
      *
     C           *IN91     IFEQ '1'
      * Record locked
     C                     MOVEL'Y2U0004' W0RTN   7
      * Send message '*Database operation error'
     C                     MOVEL'Y2U0004' ZAMSID
     C                     MOVEL'Y2USRMSG'ZAMSGF
     C                     EXSR ZASNMS
     C                     GOTO SDEXIT
     C                     ENDIF
      *
      * Store record data for null update check
     C                     MOVE QPOBW1    YARDCS
      * Move non-key fields to @BWCPL0
     C                     Z-ADDYL0013    WCI1WG           Production Weig
     C                     Z-ADDYL0014    WCNJQT           Production Quan
     C                     Z-ADDYL0015    WCOVNX           Production Piec
      *
      * Set PGM.*Record Data Changed flag
     C           QPOBW1    IFNE YARDCS
     C           YARDC     ANDNE'N'
     C                     MOVE 'Y'       YARDC
     C                     ENDIF
      * USER: Processing before Data update
      * Set Record Stamp CHGOB IF
     C                     Z-ADD##JTM     WCAATM           Job Time
     C                     MOVEL##USR     WCAYNA           User Id
     C                     MOVEL##JOB     WCA0NA           Job Name
     C                     Z-ADD##JDT     WCAXDT           Job Date
      * Set PGM.*Record Data Changed flag
     C           QPOBW1    IFNE YARDCS
     C           YARDC     ANDNE'N'
     C                     MOVE 'Y'       YARDC
     C                     ENDIF
      * If changed update record otherwise release record
     C           YARDC     IFEQ 'Y'
     C                     UPDAT@BWCPL0                91  *
     C                     ELSE
      * Release record lock
     C                     UNLCKPOBWCPL0               91  *
     C                     ENDIF
     C           *IN91     IFEQ '1'
      * Change error detected
     C                     MOVEL'Y2U0004' W0RTN   7
     C                     ELSE
      *
      * DBF change successful
     C                     ENDIF
      *================================================================
     CSR         SDEXIT    ENDSR
      /EJECT
     CSR         XCVTA     BEGSR
      *================================================================
      * Convert date to absolute day (from 01/01/01)
      *================================================================
      * Absolute day =
      * 365*(YY-1)+(YY-1)/4 (past years w/extra days of leap ones) ...
     C           XDINYY    SUB  1         XDWK1   80
     C           XDWK1     MULT 365.25    XDAY1   60
     C           XDWK1     IFGE 300
     C                     SUB  2         XDAY1
     C                     ELSE
     C           XDWK1     IFGE 100
     C                     SUB  1         XDAY1
     C                     END
     C                     END
      * (from the beginning of the year to the beginning of the month:)
     C           XDINMM    SUB  1         XDWK1
     C           XDINMM    IFLT 3
      *     ...+31*(MM-1) (for January-February) ...
     C                     MULT 31        XDWK1
     C                     ADD  XDWK1     XDAY1
     C                     ELSE
      *     ...+30*(MM-1) (for March-December) ...
     C                     MULT 30        XDWK1
     C                     ADD  XDWK1     XDAY1
      *         ...-2 (for preceding February) ...
     C                     SUB  2         XDAY1
     C           XDINYY    IFNE 100
     C           XDINYY    ANDNE300
      *         ...+1 (for preceding February, if leap year) ...
     C           XDINYY    DIV  4         XDWK1
     C                     MVR            XDWK1
     C           XDWK1     IFEQ 0
     C                     ADD  1         XDAY1
     C                     END
     C                     END
     C           XDINMM    IFLT 8
      *         ...+MM/2 (preceding 31-sts for March-July) ...
     C           XDINMM    MULT .5        XDWK1
     C                     ADD  XDWK1     XDAY1
     C                     ELSE
      *         ...+(MM+1)/2 (same for August-December) ...
     C           XDINMM    ADD  1         XDWK1
     C                     MULT .5        XDWK1
     C                     ADD  XDWK1     XDAY1
     C                     END
     C                     END
      * ...+DD (days in the month up to the ending date)
     C                     ADD  XDINDD    XDAY1
      *================================================================
     CSR         XCVTAE    ENDSR
      /EJECT
     CSR         XDOWS     BEGSR
      *================================================================
      * Setup days of week array
      *================================================================
     C                     MOVEAXDCDW     YDOW
     C                     Z-ADD0         XDWSL   10
     C                     Z-ADD1         YY
     C           YY        DOWLE7
     C           YDOW,YY   IFEQ XDSEL
     C                     ADD  1         XDWSL
     C                     END
     C                     ADD  1         YY
     C                     END
      *================================================================
     CSR         XDOWSE    ENDSR
      /EJECT
     CSR         XDUDY     BEGSR
      *================================================================
      * Calculate duration, *DAYS
      *================================================================
     C           XDAY1     IFLT 1
     C           XDAY2     ORLT 1
     C                     Z-ADD0         XDURR
     C                     MOVEL'Y2U0006' W0RTN   7
     C                     GOTO XDUDYE
     C                     END
     C           XDAY1     IFGE XDAY2
      * From date2 to date1
     C                     Z-ADDXDAY2     XABEG   60
     C                     Z-ADDXDAY1     XAEND   60
     C                     ELSE
      * From date1 to date2
     C                     Z-ADDXDAY1     XABEG   60
     C                     Z-ADDXDAY2     XAEND   60
     C                     END
     C           XDWSL     IFEQ 0
      * None days of week selected
     C                     Z-ADD0         XDURR
     C                     GOTO XDUDYC
     C                     END
     C           XAEND     SUB  XABEG     XDURR   80
     C           XDWSL     IFEQ 7
      * All days of week selected
     C                     GOTO XDUDYC
     C                     END
      * Some days of week selected
     C                     DIV  7         XDURR
     C                     MVR            XDLSW   10
     C                     MULT XDWSL     XDURR
     C           XDLSW     IFNE 0
      * Determine day of week of the beginning date
     C           XABEG     ADD  3         YY      60
     C                     DIV  7         YY
     C                     MVR            YY
      * Loop: Increment the date by the last week
     C           XDLSW     DOWGT0
      * Increment the day of week
     C                     ADD  1         YY
     C                     SUB  1         XDLSW
      * Put day of week into the range 1-7
     C           YY        IFEQ 8
     C                     Z-ADD1         YY
     C                     END
      * Selected day of the last week has been processed
     C           YDOW,YY   IFEQ XDSEL
      * Increment duration
     C                     ADD  1         XDURR
     C                     END
      * End of loop
     C                     END
     C                     END
     C           XDUDYC    TAG
     C           XDURR     IFEQ 0
      * Return Code: Unable to calculate duration
     C                     MOVEL'Y2U0060' W0RTN   7
     C                     ELSE
     C                     MOVEL*BLANK    W0RTN   7
     C                     END
      *================================================================
     CSR         XDUDYE    ENDSR
      /EJECT
     CSR         ZASNMS    BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C           ZAPGMQ    IFEQ *BLANK
     C                     MOVEL##PGM     ZAPGMQ
     C                     END
      * If no message file specified, use default
     C           ZAMSGF    IFEQ *BLANK
     C                     MOVELZADFMF    ZAMSGF
     C                     END
     C                     CALL 'Y2SNMGC'
     C                     PARM           ZAPGMQ 10        Program queue
     C                     PARM           ZAPGRL  5        Rel queue
     C                     PARM           ZAMSID  7        Message ID
     C                     PARM           ZAMSGF 10        Message file
     C                     PARM           ZAMSDA           Message data
     C                     PARM           ZAMSTP  7        Message type
      * Clear all fields for default mechanism next time
     C                     MOVEL*BLANK    ZAPGMQ
     C                     MOVEL*BLANK    ZAPGRL
     C                     MOVEL*BLANK    ZAMSID
     C                     MOVEL*BLANK    ZAMSGF
     C                     MOVEL*BLANK    ZAMSDA
     C                     MOVEL*BLANK    ZAMSTP
      *================================================================
     CSR         ZAEXIT    ENDSR
      /EJECT
     CSR         ZXEXPG    BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                     EXSR ZYEXPG
      *================================================================
     CSR         ZXEXIT    ENDSR
      /EJECT
     CSR         ZYEXPG    BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                     SETON                     LR
      *
      * Exit program
     C                     RETRN
      *
      *================================================================
     CSR         ZYEXIT    ENDSR
      /EJECT
     CSR         ZZINIT    BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C           W0ICL     IFEQ *BLANK
     C                     MOVEL'Y'       W0ICL   1        *Initial call
     C                     ELSE
     C                     MOVEL'N'       W0ICL
     C                     END
     C                     MOVE *BLANK    P0RTN
     C                     MOVE *BLANK    W0RTN   7
     C                     MOVEL*BLANK    W0RSL   1
     C                     MOVEL*BLANK    W0RSF   1
     C                     MOVEL*ZEROS    W0RTW   90
     C                     MOVEL'400'     W0ENV   3
      * Clear all neither parameters
     C                     Z-ADD*ZERO     P2OWNX           Production Hour
     C                     Z-ADD*ZERO     P2OVNX           Production Piec
     C                     MOVEL*BLANK    P2SUST           Export/Domestic
      *
      * Retrieve job attributes
     C                     CALL 'Y2RTJCR'
     C                     PARM           PGMDS
      * Setup job date/time
     C                     Z-ADD##SD7     ##JDT
     C                     TIME           ##JTM
      * Update screen time
     C                     TIME           ##TME   60
      * Define work field Description Line One
     C                     MOVEL*BLANK    WUAVNA 30
      * Define work field Unit Weight
     C                     Z-ADD*ZERO     WUAIWG 112
      * Define work field Piece Count Item
     C                     MOVEL*BLANK    WUPCCT  1
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WAAIC3           Company Number
     C                     Z-ADD*ZERO     WAHGCD           Item Code
     C                     Z-ADD*ZERO     WAAWPC           Conversion Fact
     C                     Z-ADD*ZERO     WAAXPC           Conversion Fact
     C                     Z-ADD*ZERO     WAAIWG           Unit Weight
     C                     Z-ADD*ZERO     WACZWG           Minimum Weight
     C                     Z-ADD*ZERO     WAC0WG           Maximum Weight
     C                     Z-ADD*ZERO     WAURTN           Number Cases On
     C                     Z-ADD*ZERO     WAAJC8           Vendor - Item D
     C                     Z-ADD*ZERO     WARINB           Item Structure
     C                     Z-ADD*ZERO     WARHNB           Item Structure
     C                     Z-ADD*ZERO     WARGNB           Item Structure
     C                     Z-ADD*ZERO     WATFNB           Transportation
     C                     Z-ADD*ZERO     WATMVA           Maximum Audit V
     C                     Z-ADD*ZERO     WATNVA           Minimum Audit V
     C                     Z-ADD*ZERO     WABLPR           Market Overage
     C                     Z-ADD*ZERO     WABMPR           Standard Overag
     C                     Z-ADD*ZERO     WACMCO           Item Pricing Co
     C                     Z-ADD*ZERO     WACHTM           Fresh Chilling
     C                     Z-ADD*ZERO     WASWGH           Std Weight/Head
     C                     Z-ADD*ZERO     WAPPHE           Pieces Per Head
     C                     Z-ADD*ZERO     WAICN1           Item Category N
     C                     Z-ADD*ZERO     WAICN2           Item Category N
     C                     Z-ADD*ZERO     WAV2NB           Item Category N
     C                     Z-ADD*ZERO     WAITCN           Item Category N
     C                     Z-ADD*ZERO     WAITC5           Item Category N
     C                     Z-ADD*ZERO     WAICN6           Item Category N
     C                     Z-ADD*ZERO     WAICN7           Item Category N
     C                     Z-ADD*ZERO     WAICN8           Item Category N
     C                     Z-ADD*ZERO     WAICN9           Item Category N
     C                     Z-ADD*ZERO     WAICN0           Item Category N
     C                     Z-ADD*ZERO     WASFNB           Pallet Tare Wei
     C                     Z-ADD*ZERO     WAA3WG           Misc Tare Weigh
     C                     Z-ADD*ZERO     WASJNB           CI Unused Numbe
     C                     Z-ADD*ZERO     WASKNB           Agrimetrics gro
     C                     Z-ADD*ZERO     WASLNB           Agrimetrics pac
     C                     Z-ADD*ZERO     WASMNB           Agrimetrics gra
     C                     Z-ADD*ZERO     WACFNB           PM Pounds per H
     C                     Z-ADD*ZERO     WACGNB           PM Line Time Ef
     C                     Z-ADD*ZERO     WAILNB           PM % 2nds Facto
     C                     Z-ADD*ZERO     WACHNB           Use/Freeze/Sell
     C                     Z-ADD*ZERO     WACINB           PM Batch Size
     C                     Z-ADD*ZERO     WACJNB           PM Lot Size
     C                     Z-ADD*ZERO     WACMNB           Partial Item Co
     C                     Z-ADD*ZERO     WACNNB           WIP Item Code
     C                     Z-ADD*ZERO     WACRNB           WIP Reject Code
     C                     Z-ADD*ZERO     WACSNB           Std Costing Uni
     C                     Z-ADD*ZERO     WACVNB           PM Formula Yiel
     C                     Z-ADD*ZERO     WACWNB           PM Standard LBS
     C                     Z-ADD*ZERO     WACXNB           PM Raw Meat LBS
     C                     Z-ADD*ZERO     WACZNB           PM Formula LBS/
     C                     Z-ADD*ZERO     WAC0NB           PM Finished LBS
     C                     Z-ADD*ZERO     WAB4NB           PM R/M Type Cod
     C                     Z-ADD*ZERO     WAB5NB           PM Line Number
     C                     Z-ADD*ZERO     WABDNB           Pieces Per Bag
     C                     Z-ADD*ZERO     WABJNB           Bags Per Unit
     C                     Z-ADD*ZERO     WAF5WG           Item Target Pri
     C                     Z-ADD*ZERO     WAF6WG           Minimum Piece W
     C                     Z-ADD*ZERO     WAF7WG           Maximum Piece W
     C                     Z-ADD*ZERO     WABLNB           Seaboard Equiva
     C                     Z-ADD*ZERO     WABNNB           Production Qty
     C                     Z-ADD*ZERO     WAAATM           Job Time
     C                     Z-ADD*ZERO     WAAXDT           Job Date
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WBAIC3           Company Number
     C                     Z-ADD*ZERO     WBELDT           Production Date
     C                     Z-ADD*ZERO     WBOWNX           Production Hour
     C                     Z-ADD*ZERO     WBHGCD           Item Code
     C                     Z-ADD*ZERO     WBI1WG           Production Weig
     C                     Z-ADD*ZERO     WBNJQT           Production Quan
     C                     Z-ADD*ZERO     WBOVNX           Production Piec
     C                     Z-ADD*ZERO     WBRINB           Item Structure
     C                     Z-ADD*ZERO     WBAATM           Job Time
     C                     Z-ADD*ZERO     WBAXDT           Job Date
      * Define work field EDI Status 1
     C                     MOVEL*BLANK    WUUVST  1
      * Define work field EDI Status 2
     C                     MOVEL*BLANK    WUUWST  1
      * Define work field EDI Status 3
     C                     MOVEL*BLANK    WUUXST  1
      * Define work field Record Status
     C                     MOVEL*BLANK    WUVSST  1
      * Obtain default message file
     C           *NAMVAR   DEFN CAMGFLA   ZADFMF 10
     C                     IN   ZADFMF
      * Define *Synon program work fields
     C                     Z-ADD*ZEROS    W0WJ01 150       *Synon (15,0) w
     C                     Z-ADD*ZEROS    W0WJ00 150       *Synon (15,0) w
      * Move main file information to JOB context
     C                     MOVE @1FFL     ZZFFL  10        Main file name
     C                     MOVE @1FLB     ZZFLB  10        Main file lib
     C                     MOVE @1FMB     ZZFMB  10        Main file mbr
     C                     MOVE ZZFFL     @1FFL  10
     C                     MOVE ZZFLB     @1FLB  10
     C                     MOVE ZZFMB     @1FMB  10
     C                     CALL 'Y2QLVNR'
     C                     PARM           ZZFFL  10
     C                     PARM           ZZFLB  10
     C                     PARM           ZZFQL  21        LIBRARY/FILE
     C                     MOVEL'N'       W0PMT   1
      * Define local variables for subroutine SARVGN.
     C                     Z-ADD*ZERO     WL0001  30
     C                     Z-ADD*ZERO     WL0002  70
     C                     MOVEL*BLANK    WL0003 30
     C                     Z-ADD*ZERO     WL0004 112
     C                     MOVEL*BLANK    WL0005  2
     C                     MOVEL*BLANK    WL0006  1
     C                     Z-ADD*ZERO     WL0007  70
     C                     Z-ADD*ZERO     WL0008  70
     C                     MOVEL*BLANK    WL0009  1
      * Define local variables for subroutine SBRVGN.
     C                     Z-ADD*ZERO     WL0010  30
     C                     MOVEL*BLANK    WL0011  3
     C                     Z-ADD*ZERO     WL0012  70
     C                     MOVEL*BLANK    WL0013  1
     C                     Z-ADD*ZERO     WL0014  20
     C                     Z-ADD*ZERO     WL0015  70
     C                     Z-ADD*ZERO     WL0016 112
     C                     Z-ADD*ZERO     WL0017  50
     C                     Z-ADD*ZERO     WL0018  70
     C                     Z-ADD*ZERO     WL0019  30
     C                     MOVEL*BLANK    WL0020  2
     C                     MOVEL*BLANK    WL0021  1
     C                     MOVEL*BLANK    WL0022  2
     C                     Z-ADD*ZERO     WL0023  30
     C                     Z-ADD*ZERO     WL0024  30
     C                     Z-ADD*ZERO     WL0025  30
      * Define local work field Quality Level
     C                     MOVEL*BLANK    YL0001  2
      * Define local work field Pieces Per Bag
     C                     Z-ADD*ZERO     YL0002  70
      * Define local work field Bags Per Unit
     C                     Z-ADD*ZERO     YL0003  70
      * Define local work field BoneIn/Boneless
     C                     MOVEL*BLANK    YL0004  2
      * Define local work field PFS Item Primal Group
     C                     MOVEL*BLANK    YL0005  1
      * Define local work field Time Zoned USR
     C                     Z-ADD*ZERO     YL0006  60
      * Define local work field Production Hour
     C                     Z-ADD*ZERO     YL0007  20
      * Define local work field Month                 USR
     C                     Z-ADD*ZERO     YL0008  20
      * Define local work field Day of Month USR
     C                     Z-ADD*ZERO     YL0009  20
      * Define local work field Month (Char) USR
     C                     MOVEL*BLANK    YL0010  2
      * Define local work field Day   (Char) USR
     C                     MOVEL*BLANK    YL0011  2
      * Define local work field Hours  2A            USR
     C                     MOVEL*BLANK    YL0012  2
      * Define local work field Production Weight
     C                     Z-ADD*ZERO     YL0013 112
      * Define local work field Production Quantity
     C                     Z-ADD*ZERO     YL0014  50
      * Define local work field Production Pieces
     C                     Z-ADD*ZERO     YL0015  70
      *================================================================
     CSR         ZZEXIT    ENDSR
