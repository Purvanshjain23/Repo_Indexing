// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDE0XFR
// ?Date: 14.08.2025 Time: 03:31:38
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Rtv Sum Ld Abs.Frt/Wgt RT) TYPE(RTVOBJ) FILE(OPBFCPP)          AC1294689;
PARAMETER(PAR.Load_ID);
PARAMETER(PAR.Total_Freight);
PARAMETER(WRK.Weight_Scheduled);
{
 //?USER: Initialize routine

 //?05/14/04 SLM PKTR01 Multi-Company - Funct chg remove Company RST or Pos
 // PAR.Total Freight = CON.*ZERO
 PAR.Total_Freight = *ZERO;

 // PAR.Weight Scheduled = CON.*ZERO
 PAR.Weight_Scheduled = *ZERO;

 //?USER: Process Data record

 // PAR.USR Percent Work, 7.4   1 = DB1.Freight Rate / CON.100 *Rounded
 PAR.USR_Percent_Work_7_4_1 = DB1.Absorbed_Freight_Rate_CWT / 100 'H';

 // PAR.Freight Amount = DB1.Order Weight Total * PAR.USR Percent Work, 7.4   1 *Rou
 PAR.Freight_Amount = DB1.Order_Weight_Total * PAR.USR_Percent_Work_7_4_1 'H';

 // PAR.Total Freight = PAR.Total Freight + PAR.Freight Amount
 PAR.Total_Freight = PAR.Total_Freight + PAR.Freight_Amount;

 // PAR.Weight Scheduled = PAR.Weight Scheduled + DB1.Order Weight Total
 PAR.Weight_Scheduled = PAR.Weight_Scheduled + DB1.Order_Weight_Total;

}


// PAR.Total Load Order Weight = WRK.Weight Scheduled * CON.1 *Rounded
PAR.Total_Load_Order_Weight = WRK.Weight_Scheduled * 1 'H';

EXECUTE FUNCTION(CHG Load Total Weight  CH) TYPE(CHGOBJ) FILE(OMFJCPP)          AC1371323;
PARAMETER(PAR.Load_ID);
PARAMETER(PAR.Total_Load_Order_Weight);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Record Stamp CHGOB IF) TYPE(EXCINTFUN)                     AC1283156;
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 {
  //?Execute internal function

  // PAR.Job Time = JOB.*Job time
  PAR.Job_Time = JOB.*Job_time;

  // PAR.User Id = JOB.*USER
  PAR.User_Id = JOB.*USER;

  // PAR.Job Name = JOB.*PROGRAM
  PAR.Job_Name = JOB.*PROGRAM;

  // PAR.Job Date = JOB.*Job date
  PAR.Job_Date = JOB.*Job_date;

 }

}


