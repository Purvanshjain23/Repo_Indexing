// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPX3ETR
// ?Date: 14.08.2025 Time: 03:42:17
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

EXECUTE FUNCTION(VAL Rtv and Center Hdg IF) TYPE(EXCINTFUN)                     AC1258539;
PARAMETER('OMS');

//?USER: Load existing header

EXECUTE FUNCTION(RTV Alpha Value        RT) TYPE(RTVOBJ) FILE(PDKMREP)          AC1381513;
PARAMETER(DB1.Company_Number);
PARAMETER('PLTESTNO');
PARAMETER(CTL.ED_Plant_Number_Dtl);

//?USER: Initialize subfile record (old record)

// RCD.Text-17               USR = SUBSTRING(RCD.ED Item Label Line 1,CON.1,CON.17)
RCD.Text_17_USR = SUBSTRING(RCD.ED_Item_Label_Line_1:1:17);

// RCD.USR Description - 15 = SUBSTRING(RCD.ED Item Label Line 1,CON.18,CON.15)
RCD.USR_Description_15 = SUBSTRING(RCD.ED_Item_Label_Line_1:18:15);

//?USER: Validate subfile record fields

// RCD.ED Item Label Line 1 = CONCAT(RCD.Text-17               USR,RCD.USR Description - 15,CON.*ZER
RCD.ED_Item_Label_Line_1 = RCD.Text_17_USR + RCD.USR_Description_15 (*ZERO);

//?USER: Change header DBF record

EXECUTE FUNCTION(chg Order Hdrs f/dtl   IF) TYPE(EXCINTFUN) FILE(PDMRREP)       AC1780781;
PARAMETER(CTL.Company_Number);
PARAMETER(CTL.Order_Number);
PARAMETER(CTL.ED_Export_Document_Type);
PARAMETER(CTL.Country_Code);
PARAMETER(CTL.ED_Plant_Number);
PARAMETER(CTL.ED_Shipping_Marks_Txt);

//?USER: Change detail DBF record

EXECUTE FUNCTION(Chg Exp Doc Order Dtl  CH) TYPE(CHGOBJ) FILE(PDMSREP)          AC1524036;
PARAMETER(RCD.Company_Number);
PARAMETER(RCD.Order_Number);
PARAMETER(RCD.ED_Export_Document_Type);
PARAMETER(RCD.Country_Code);
PARAMETER(RCD.Order_Sequence_Number);
PARAMETER(RCD.Order_Secondary_Line_Seq);
PARAMETER(RCD.ED_Item_Code);
PARAMETER(RCD.ED_Item_Label_Line_1);
PARAMETER(RCD.ED_Item_Label_Line_2);
PARAMETER(RCD.ED_Chilled_Frozen_Text);
PARAMETER(RCD.ED_Unmarked_Txt);
PARAMETER(RCD.ED_Product_Net_Weight_lbs);
PARAMETER(RCD.ED_Product_Net_Weight_MT);
PARAMETER(RCD.ED_Product_UOM);
PARAMETER(RCD.ED_Product_Nbr_of_Pkgs);
PARAMETER(RCD.ED_Product_Pkg_Type);
PARAMETER(RCD.ED_Shipping_Marks_Txt);
PARAMETER(RCD.ED_Pieces_per_Bag);
PARAMETER(RCD.ED_Bags_per_Unit);
PARAMETER(RCD.ED_Total_Nbr_of_Pieces);
PARAMETER(RCD.ED_Product_Unit_Price);
PARAMETER(RCD.ED_Producet_Extended_Amt);
PARAMETER(RCD.ED_Print_Status);
PARAMETER(RCD.ED_Plant_Number_Dtl);
PARAMETER(RCD.ED_Language_Xlate_Desc_2);
PARAMETER(RCD.ED_Consignee_Address_Nbr);
PARAMETER(RCD.ED_Date_of_Slaughter_Dtl);
PARAMETER(RCD.ED_HACCP_Category);
PARAMETER(RCD.ED_Slaughter_Date_Range);
PARAMETER(RCD.ED_Production_Date_Range);
PARAMETER(RCD.ED_Product_UID);
PARAMETER(RCD.ED_Language_Xlate_Desc);
PARAMETER(RCD.ED_Unused_Status_1);
PARAMETER(RCD.ED_Unused_Status_2);
PARAMETER(RCD.ED_Harmonized_Tariff_Cde);
PARAMETER(RCD.ED_Nbr_of_Packing_Units);
PARAMETER(RCD.EDI_Status_1);
PARAMETER(RCD.EDI_Status_2);
PARAMETER(RCD.EDI_Status_3);
PARAMETER(RCD.Record_Status);
PARAMETER(RCD.Job_Time);
PARAMETER(RCD.User_Id);
PARAMETER(RCD.Job_Name);
PARAMETER(RCD.Job_Date);

