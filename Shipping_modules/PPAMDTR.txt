// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPAMDTR
// ?Date: 14.08.2025 Time: 03:39:44
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

EXECUTE FUNCTION(VAL Rtv and Center Hdg IF) TYPE(EXCINTFUN)                     AC1258539;
PARAMETER('A/R');

//?USER: Initialize subfile record

EXECUTE FUNCTION(Rtv Item Pricing UOM  RT) TYPE(RTVOBJ) FILE(OMBYREP)           AC1825735;
PARAMETER(RCD.Item_Code);
PARAMETER(NLL.Description_Line_One);
PARAMETER(NLL.Description_Line_Two);
PARAMETER(RCD.UOM_Pricing);

// Call program CLC Sum Ship/Ord Unit XF.
CALL PROGRAM(CLC Sum Ship/Ord Unit XF) ('PPA6XFR');
PARAMETER(RCD.Ship_To_Customer);
PARAMETER(RCD.Price_Code);
PARAMETER(RCD.Item_Code);
PARAMETER(RCD.Total_Weight_Ordered_USR);
PARAMETER(*ZERO);
PARAMETER(RCD.Total_Quantity_Ordered);

//?USER: Validate subfile record fields

CASE;

// IF RCD.*SFLSEL is *Display
IF RCD.*SFLSEL = '5'/'5';

// Call program Dsp Price Item Orders DF.
CALL PROGRAM(Dsp Price Item Orders DF) ('PMSSDFR');
PARAMETER(RCD.Ship_To_Customer);
PARAMETER(RCD.Price_Code);
PARAMETER(RCD.Item_Code);

ENDIF;

//?CALC: Subfile record function fields

EXECUTE FUNCTION(Item Desc DRV) TYPE(DRVFLD)                                    AC1505592;
PARAMETER(RCD.Item_Desc_DRV);
PARAMETER(RCD.Item_Code);

//?CALC: Header function fields

EXECUTE FUNCTION(Ship To Name          DRV) TYPE(DRVFLD)                        AC1573561;
PARAMETER(CTL.Ship_To_Name_DRV);
PARAMETER(CTL.Ship_To_Customer);

//?USER: Process command keys

// PGM.*Continue transaction = CND.*NO
PGM.*Continue_transaction = 'N';

QUIT;

