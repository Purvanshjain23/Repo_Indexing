// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPNQXFR
// ?Date: 14.08.2025 Time: 03:41:16
// ?------------------------------------------------------------------------------------------------

//?Execute user function

// PAR.PFS Load ID = PAR.Load ID
PAR.PFS_Load_ID = PAR.Load_ID;

EXECUTE FUNCTION(PFS Unlock Load/Order RT) TYPE(RTVOBJ) FILE(PPBACPP)           AC1733193;
PARAMETER(PAR.PFS_Load_ID);
{
 //?USER: Process Data record

 //?*** ORDER HEADER, ORDER DETAIL, SHIPPING INSTRUCTIONS ***
 EXECUTE FUNCTION(PFS Unlock Load/Order RT) TYPE(RTVOBJ) FILE(PPBBCPP)           AC1733198;
 PARAMETER(DB1.PFS_Load_ID);
 {
  //?USER: Process Data record

  //?*** ORDER DETAIL ***
  EXECUTE FUNCTION(PFS Unlock Load/Order RT) TYPE(RTVOBJ) FILE(PPBCCPP)           AC1733199;
  PARAMETER(DB1.PFS_Company_Number);
  PARAMETER(DB1.PFS_Order_Number);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(Chg PFS Record Status CH) TYPE(CHGOBJ) FILE(PPBCCPP)           AC1733205;
   PARAMETER(DB1.PFS_Company_Number);
   PARAMETER(DB1.PFS_Order_Number);
   PARAMETER(DB1.PFS_Order_Line_Item_Nbr);
   PARAMETER(DB1.PFS_Substitution_Line_Nbr);
   PARAMETER('D');
   {
    //?USER: Processing before Data update

    EXECUTE FUNCTION(Set Change Stamp      IF) TYPE(EXCINTFUN)                      AC1732163;
    PARAMETER(DB1.PFS_Change_Date);
    PARAMETER(DB1.PFS_Change_Time);
    {
     //?Execute internal function

     // PAR.PFS Change Date = JOB.*Job date
     PAR.PFS_Change_Date = JOB.*Job_date;

     // PAR.PFS Change time = JOB.*Job time
     PAR.PFS_Change_Time = JOB.*Job_time;

    }

   }

  }

  //?*** ORDER BOL Comment    ***
  EXECUTE FUNCTION(PFS Unlock Load/Order RT) TYPE(RTVOBJ) FILE(PPBDCPP)           AC1733202;
  PARAMETER(DB1.PFS_Company_Number);
  PARAMETER(DB1.PFS_Order_Number);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(Chg PFS Record Status CH) TYPE(CHGOBJ) FILE(PPBDCPP)           AC1733203;
   PARAMETER(DB1.PFS_Company_Number);
   PARAMETER(DB1.PFS_Order_Number);
   PARAMETER(DB1.PFS_BOL_Comment_Type);
   PARAMETER(DB1.PFS_Sequence_Number);
   PARAMETER('D');
   {
    //?USER: Processing before Data update

    EXECUTE FUNCTION(Set Change Stamp      IF) TYPE(EXCINTFUN)                      AC1732163;
    PARAMETER(DB1.PFS_Change_Date);
    PARAMETER(DB1.PFS_Change_Time);
    {
     //?Execute internal function

     // PAR.PFS Change Date = JOB.*Job date
     PAR.PFS_Change_Date = JOB.*Job_date;

     // PAR.PFS Change time = JOB.*Job time
     PAR.PFS_Change_Time = JOB.*Job_time;

    }

   }

  }

  //?*** ORDER HEADER ***
  //?** Delivery P.O. number was added to the file       FP1303
  EXECUTE FUNCTION(Chg PFS Record Status CH) TYPE(CHGOBJ) FILE(PPBBCPP)           AC1733204;
  PARAMETER(DB1.PFS_Company_Number);
  PARAMETER(DB1.PFS_Order_Number);
  PARAMETER(DB1.PFS_Ship_To_Warehouse);
  PARAMETER(DB1.PFS_Order_Detail_Count);
  PARAMETER(DB1.PFS_Delivery_P_O_Number);
  PARAMETER('D');
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Change Stamp      IF) TYPE(EXCINTFUN)                      AC1732163;
   PARAMETER(DB1.PFS_Change_Date);
   PARAMETER(DB1.PFS_Change_Time);
   {
    //?Execute internal function

    // PAR.PFS Change Date = JOB.*Job date
    PAR.PFS_Change_Date = JOB.*Job_date;

    // PAR.PFS Change time = JOB.*Job time
    PAR.PFS_Change_Time = JOB.*Job_time;

   }

  }

 }

 //?*** LOAD HEADER ***
 EXECUTE FUNCTION(Chg PFS Record Status CH) TYPE(CHGOBJ) FILE(PPBACPP)           AC1733214;
 PARAMETER(DB1.PFS_Company_Number);
 PARAMETER(DB1.PFS_Load_ID);
 PARAMETER(DB1.PFS_Load_Status);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Change Stamp      IF) TYPE(EXCINTFUN)                      AC1732163;
  PARAMETER(DB1.PFS_Change_Date);
  PARAMETER(DB1.PFS_Change_Time);
  {
   //?Execute internal function

   // PAR.PFS Change Date = JOB.*Job date
   PAR.PFS_Change_Date = JOB.*Job_date;

   // PAR.PFS Change time = JOB.*Job time
   PAR.PFS_Change_Time = JOB.*Job_time;

  }

 }

}


