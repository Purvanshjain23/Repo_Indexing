// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDAPXFR
// ?Date: 14.08.2025 Time: 03:33:51
// ?------------------------------------------------------------------------------------------------

//?Execute user function

CASE;

// IF PAR.USR Next/Previous Order is Next Order
IF PAR.USR_Next_Previous_Order = 'N';

EXECUTE FUNCTION(RTV Next Order Start   RT) TYPE(RTVOBJ) FILE(PDLHCPP)          AC1475149;
PARAMETER(PAR.Load_ID);
PARAMETER(PAR.Stop_Drop);
PARAMETER(PAR.Order_Number);
PARAMETER(PAR.Created_Date);
PARAMETER(PAR.Created_Time);
PARAMETER(PAR.Sequence_Number);
PARAMETER(PAR.USR_Order_Number);
PARAMETER(PAR.USR_Stop_Drop);
{
 //?USER: Initialize routine

 // PAR.USR Order Number = PAR.Order Number
 PAR.USR_Order_Number = PAR.Order_Number;

 // PAR.USR Stop/Drop = PAR.Stop/Drop
 PAR.USR_Stop_Drop = PAR.Stop_Drop;

 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 CASE;

 // IF DB1.Order Number EQ PAR.Order Number
 IF DB1.Order_Number = PAR.Order_Number;

 // AND DB1.Stop/Drop EQ PAR.Stop/Drop
 AND DB1.Stop_Drop = PAR.Stop_Drop;

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 // IF DB1.Order Number LT PAR.Order Number
 IF ( DB1.Order_Number < PAR.Order_Number;

 // AND DB1.Stop/Drop EQ PAR.Stop/Drop
 AND DB1.Stop_Drop = PAR.Stop_Drop );

 // OR DB1.Stop/Drop LT PAR.Stop/Drop
 OR DB1.Stop_Drop < PAR.Stop_Drop;

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 // IF *OTHERWISE
 IF *OTHERWISE;

 CASE;

 // IF DB1.Created Date GT PAR.Created Date
 IF DB1.Created_Date > PAR.Created_Date;

 // OR DB1.Created Date EQ PAR.Created Date
 OR ( DB1.Created_Date = PAR.Created_Date;

 // AND DB1.Created Time GE PAR.Created Time
 AND DB1.Created_Time >= PAR.Created_Time;

 // AND DB1.Sequence Number GE PAR.Sequence Number
 AND DB1.Sequence_Number >= PAR.Sequence_Number );

 // PAR.USR Order Number = DB1.Order Number
 PAR.USR_Order_Number = DB1.Order_Number;

 // PAR.USR Stop/Drop = DB1.Stop/Drop
 PAR.USR_Stop_Drop = DB1.Stop_Drop;

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 QUIT;

 // IF *OTHERWISE
 IF *OTHERWISE;

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 ENDIF;

 ENDIF;

 //?USER: Exit processing

 CASE;

 // IF PGM.*Return code is *Record does not exist
 IF PGM.*Return_code = 'Y2U0005';

 // PAR.USR Order Number = PAR.Order Number
 PAR.USR_Order_Number = PAR.Order_Number;

 ENDIF;

}


// IF *OTHERWISE
IF *OTHERWISE;

EXECUTE FUNCTION(RTV Prev Order Start   RT) TYPE(RTVOBJ) FILE(PDLHCPP)          AC1475169;
PARAMETER(PAR.Load_ID);
PARAMETER(PAR.Stop_Drop);
PARAMETER(PAR.Order_Number);
PARAMETER(PAR.Created_Date);
PARAMETER(PAR.Created_Time);
PARAMETER(PAR.Sequence_Number);
PARAMETER(PAR.USR_Order_Number);
PARAMETER(PAR.USR_Stop_Drop);
{
 //?USER: Initialize routine

 // PAR.USR Order Number = PAR.Order Number
 PAR.USR_Order_Number = PAR.Order_Number;

 // PAR.USR Stop/Drop = PAR.Stop/Drop
 PAR.USR_Stop_Drop = PAR.Stop_Drop;

 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 CASE;

 // IF DB1.Order Number EQ PAR.Order Number
 IF DB1.Order_Number = PAR.Order_Number;

 // AND DB1.Stop/Drop EQ PAR.Stop/Drop
 AND DB1.Stop_Drop = PAR.Stop_Drop;

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 // IF DB1.Order Number GT PAR.Order Number
 IF ( DB1.Order_Number > PAR.Order_Number;

 // AND DB1.Stop/Drop EQ PAR.Stop/Drop
 AND DB1.Stop_Drop = PAR.Stop_Drop );

 // OR DB1.Stop/Drop GT PAR.Stop/Drop
 OR DB1.Stop_Drop > PAR.Stop_Drop;

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 // IF *OTHERWISE
 IF *OTHERWISE;

 CASE;

 // IF DB1.Created Date GT PAR.Created Date
 IF DB1.Created_Date > PAR.Created_Date;

 // OR DB1.Created Date EQ PAR.Created Date
 OR ( DB1.Created_Date = PAR.Created_Date;

 // AND DB1.Created Time GE PAR.Created Time
 AND DB1.Created_Time >= PAR.Created_Time;

 // AND DB1.Sequence Number GE PAR.Sequence Number
 AND DB1.Sequence_Number >= PAR.Sequence_Number );

 // PAR.USR Order Number = DB1.Order Number
 PAR.USR_Order_Number = DB1.Order_Number;

 // PAR.USR Stop/Drop = DB1.Stop/Drop
 PAR.USR_Stop_Drop = DB1.Stop_Drop;

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 QUIT;

 // IF *OTHERWISE
 IF *OTHERWISE;

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 ENDIF;

 ENDIF;

 //?USER: Exit processing

 CASE;

 // IF PGM.*Return code is *Record does not exist
 IF PGM.*Return_code = 'Y2U0005';

 // PAR.USR Order Number = PAR.Order Number
 PAR.USR_Order_Number = PAR.Order_Number;

 ENDIF;

}


ENDIF;

CASE;

// IF PGM.*Return code is *Record does not exist
IF PGM.*Return_code = 'Y2U0005';

// PAR.*Return code = CND.*Record does not exist
PAR.*Return_code = 'Y2U0005';

// IF *OTHERWISE
IF *OTHERWISE;

// PAR.*Return code = CND.*Normal
PAR.*Return_code = *BLANK;

ENDIF;

// PAR.Order Number = PAR.USR Order Number
PAR.Order_Number = PAR.USR_Order_Number;

// PAR.Stop/Drop = PAR.USR Stop/Drop
PAR.Stop_Drop = PAR.USR_Stop_Drop;

