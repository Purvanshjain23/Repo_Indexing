// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDLQE1R
// ?Date: 14.08.2025 Time: 03:32:13
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

CASE;

// IF PAR.Company Number is Equal to zero
IF PAR.Company_Number = *ZERO;

EXECUTE FUNCTION(VAL Set Int.Acc No Hdg IF) TYPE(EXCINTFUN)                     AC1460523;
PARAMETER('P/S');
PARAMETER(LCL.Company_Number);
PARAMETER(PAR.Warehouse_Code);
PARAMETER(PAR.Allow_Multi_Company);
PARAMETER(PAR.Default_Printer);
PARAMETER(PAR.Salesperson_Code);
PARAMETER(LCL.Name);
PARAMETER(LCL.System_Value_Alpha);
PARAMETER(LCL.Access_Denied_Y_N);
{
 //?Execute internal function

 // PAR.User Profile Name = JOB.*USER
 PAR.User_Profile_Name = JOB.*USER;

 EXECUTE FUNCTION(VAL User/Appl No Exit  IF) TYPE(EXCINTFUN)                     AC1460535;
 PARAMETER(PAR.User_Profile_Name);
 PARAMETER(PAR.Application_Code);
 PARAMETER(WRK.Company_Number);
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(PAR.Allow_Multi_Company);
 PARAMETER(PAR.Default_Printer);
 PARAMETER(PAR.Salesperson_Code);
 PARAMETER(WRK.Access_Denied_Y_N);
 {
  //?Execute internal function

  //?RMC 5/11/09 Rtv default company from user profile --
  //?  Override user code model company if it exists
  EXECUTE FUNCTION(RTV Program Setup w/Co RT) TYPE(RTVOBJ) FILE(CADRREP)          AC1935572;
  PARAMETER(PAR.User_Profile_Name);
  PARAMETER(PAR.Allow_Multi_Company);
  PARAMETER(PAR.Default_Printer);
  PARAMETER(PAR.Salesperson_Code);
  PARAMETER(LCL.Company_Number);
  PARAMETER(PAR.User_Code_Model);
  {
   //?USER: Processing if Data record not found

   // PGM.*Return code = CND.*Record does not exist
   PGM.*Return_code = 'Y2U0005';

   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  //?User Profile Record Not found
  CASE;

  // IF PGM.*Return code is *Record does not exist
  IF PGM.*Return_code = 'Y2U0005';

  // PAR.Access Denied (Y/N) = CND.yes
  PAR.Access_Denied_Y_N = 'Y';

  //?User Profile Record Not found
  // IF *OTHERWISE
  IF *OTHERWISE;

  // PAR.Access Denied (Y/N) = CND.no
  PAR.Access_Denied_Y_N = 'N';

  ENDIF;

  CASE;

  // IF PAR.User Code Model is equal to blank
  IF PAR.User_Code_Model = *BLANK;

  EXECUTE FUNCTION(RTV Appl. Profile      RT) TYPE(RTVOBJ) FILE(CADTREP)          AC1143177;
  PARAMETER(PAR.User_Profile_Name);
  PARAMETER(PAR.Application_Code);
  PARAMETER(PAR.Company_Number);
  PARAMETER(LCL.Warehouse_Code);
  {
   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  // IF *OTHERWISE
  IF *OTHERWISE;

  EXECUTE FUNCTION(RTV Appl. Profile      RT) TYPE(RTVOBJ) FILE(CADTREP)          AC1143177;
  PARAMETER(PAR.User_Code_Model);
  PARAMETER(PAR.Application_Code);
  PARAMETER(PAR.Company_Number);
  PARAMETER(LCL.Warehouse_Code);
  {
   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  ENDIF;

  // PAR.Warehouse Code = LCL.Warehouse Code
  PAR.Warehouse_Code = LCL.Warehouse_Code;

  //?Return code when not normal for Application Profile
  CASE;

  // IF PGM.*Return code is *Normal
  IF PGM.*Return_code = *BLANK;

  // PAR.Access Denied (Y/N) = CND.no
  PAR.Access_Denied_Y_N = 'N';

  //?Return code when not normal for Application Profile
  // IF *OTHERWISE
  IF *OTHERWISE;

  // PAR.Access Denied (Y/N) = CND.yes
  PAR.Access_Denied_Y_N = 'Y';

  ENDIF;

  CASE;

  // IF LCL.Company Number is greater than zero
  IF LCL.Company_Number > *ZERO;

  // PAR.Company Number = LCL.Company Number
  PAR.Company_Number = LCL.Company_Number;

  CASE;

  // IF LCL.Warehouse Code is Not Blanks
  IF LCL.Warehouse_Code <> *BLANK;

  EXECUTE FUNCTION(RTV Prod Whse for Co  RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1757887;
  PARAMETER(PAR.Warehouse_Code);
  PARAMETER(LCL.Shipping_Company);
  {
   //?USER: Processing if Data record not found

   MOVE *ALL (To: PAR From: CON);

   //?USER: Process Data record

   CASE;

   // IF DB1.Record Status is Active
   IF DB1.Record_Status = 'A';

   CASE;

   // IF DB1.Production Warehouse Code is Warehouse Code not Blank
   IF DB1.Production_Warehouse_Code <> *BLANK;

   // PAR.Warehouse Code = DB1.Production Warehouse Code
   PAR.Warehouse_Code = DB1.Production_Warehouse_Code;

   QUIT;

   ENDIF;

   ENDIF;

  }

  ENDIF;

  ENDIF;

 }

 // PAR.Company Number = WRK.Company Number
 PAR.Company_Number = WRK.Company_Number;

 // PAR.Access Denied (Y/N) = WRK.Access Denied (Y/N)
 PAR.Access_Denied_Y_N = WRK.Access_Denied_Y_N;

 //?If access denied is no, rtv co. name
 CASE;

 // IF WRK.Access Denied (Y/N) is no
 IF WRK.Access_Denied_Y_N = 'N';

 EXECUTE FUNCTION(RTV Company Name       RT) TYPE(RTVOBJ) FILE(CAABREP)          AC1255767;
 PARAMETER(WRK.Company_Number);
 PARAMETER(PAR.Name);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 ENDIF;

}


ENDIF;

EXECUTE FUNCTION(RTV Appl Whs Restrict  RT) TYPE(RTVOBJ) FILE(CADRREP)          AC1959551;
PARAMETER(JOB.*USER);
PARAMETER(LCL.Application_WHS_Restrict);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


//?USER: Initialize key screen

CASE;

// IF PAR.Company Number is Equal to zero
IF PAR.Company_Number = *ZERO;

// KEY.Company Number = LCL.Company Number
KEY.Company_Number = LCL.Company_Number;

ENDIF;

SET CURSOR;

//?USER: Validate key screen

//?New 5/30/02
EXECUTE FUNCTION(RTV Order in Use       RT) TYPE(RTVOBJ) FILE(OPBFCPP)          AC1646052;
PARAMETER(KEY.Company_Number);
PARAMETER(KEY.Order_Number);
PARAMETER(LCL.Order_in_Use);
PARAMETER(LCL.Header_Status);
PARAMETER(LCL.Load_ID);
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// Call program RTV Co. Dflt Int All,O XF.
CALL PROGRAM(RTV Co. Dflt Int All,O XF) ('PMRMXFR');
PARAMETER(KEY.Company_Number);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.Numeric_Field_Not_Needed);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.Allow_Mult_Whse_to_Order);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(WRK.TXT_field_not_needed);
PARAMETER(PAR.Company_Organization);

//?Validate Option
CASE;

// IF LCL.Order in Use is yes
IF LCL.Order_in_Use = 'Y';

// Send error message - 'Order &2 in use by another user.'
ERROR(USR0664);
MSGPARM(WRK.*SFLSEL);
MSGPARM(KEY.Order_Number);

// PAR.Error Status = CND.yes
PAR.Error_Status = 'Y';

//?Validate Option
// IF LCL.Header Status is Cancelled
IF LCL.Header_Status = 'X';

// Send error message - 'Order has been cancelled, refresh screen.'
ERROR(USR2341);
MSGPARM(WRK.*SFLSEL);

// PAR.Error Status = CND.yes
PAR.Error_Status = 'Y';

//?Validate Option
// IF *OTHERWISE
IF *OTHERWISE;

//?Validate Load Status - won't be tested if Live w/TPM  E004119
CASE;

// IF LCL.Load ID is NE Blank
IF LCL.Load_ID <> *ZERO;

EXECUTE FUNCTION(RTV Load Status        RT) TYPE(RTVOBJ) FILE(OMFJCPP)          AC1297640;
PARAMETER(LCL.Load_ID);
PARAMETER(LCL.Load_Status);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 // PGM.*Return code = CND.*Record already exists
 PGM.*Return_code = 'Y2U0003';

 MOVE *ALL (To: PAR From: DB1);

}


//?lock/unlck
CASE;

// IF LCL.Load Status is Locked thru Invoiced
IF LCL.Load_Status = 'I'/'L'/'S';

CASE;

// IF PAR.Company Organization is Not HPB
IF PAR.Company_Organization = 'D'/'S';

// Send error message - 'The Load is Locked.  Option is invalid.'
ERROR(USR2308);
MSGPARM(WRK.*SFLSEL);

// PAR.Error Status = CND.yes
PAR.Error_Status = 'Y';

// IF *OTHERWISE
IF *OTHERWISE;

//?If HPB allow change to locked load     9/05/08
CASE;

// IF LCL.Load Status is Lock
IF LCL.Load_Status = 'L';

//?If HPB allow change to locked load     9/05/08
// IF *OTHERWISE
IF *OTHERWISE;

// Send error message - 'The Load is Locked.  Option is invalid.'
ERROR(USR2308);
MSGPARM(WRK.*SFLSEL);

// PAR.Error Status = CND.yes
PAR.Error_Status = 'Y';

ENDIF;

ENDIF;

//?lock/unlck
// IF *OTHERWISE
IF *OTHERWISE;

CASE;

// IF LCL.Load Status is Unlock
IF LCL.Load_Status = 'U';

//?RMC S00787 dont allow on load atall 5/1/09
// Send error message - 'Order &1 is on a load.  Option is invalid.'
ERROR(USR2331);
MSGPARM(KEY.Order_Number);

// IF *OTHERWISE
IF *OTHERWISE;

// Send error message - 'Order &1 is on a load.  Option is invalid.'
ERROR(USR2331);
MSGPARM(KEY.Order_Number);

ENDIF;

ENDIF;

ENDIF;

ENDIF;

//?USER: Initialize detail screen (existing record)

EXECUTE FUNCTION(CHG Order in Use       CH) TYPE(CHGOBJ) FILE(OPBFCPP)          AC1316259;
PARAMETER(KEY.Company_Number);
PARAMETER(KEY.Order_Number);
PARAMETER('Y');
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Date/Time Stamp.PgmIF) TYPE(EXCINTFUN)                     AC1425284;
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 {
  //?Execute internal function

  // PAR.Job Time = JOB.*Job time
  PAR.Job_Time = JOB.*Job_time;

  // PAR.User Id = JOB.*USER
  PAR.User_Id = JOB.*USER;

  // PAR.Job Name = JOB.*PROGRAM
  PAR.Job_Name = JOB.*PROGRAM;

  // PAR.Job Date = JOB.*Job date
  PAR.Job_Date = JOB.*Job_date;

 }

 // Call program TRG Order Hdr CHG Trig XT.
 CALL PROGRAM(TRG Order Hdr CHG Trig XT) ('PDW9XFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Type_Sales);
 PARAMETER(DB1.AR_Customer_Number);
 PARAMETER(DB1.Ship_To_Customer);
 PARAMETER(DB1.Ship_To_Name);
 PARAMETER(DB1.Ship_To_Address_Line_1);
 PARAMETER(DB1.Ship_To_Address_Line_2);
 PARAMETER(DB1.Ship_To_Address_Line_3);
 PARAMETER(DB1.Ship_To_City);
 PARAMETER(DB1.Ship_To_State_Code);
 PARAMETER(DB1.Ship_To_Zip_Postal_Code);
 PARAMETER(DB1.Bill_to_Customer);
 PARAMETER(DB1.Bill_to_Name);
 PARAMETER(DB1.Bill_to_Address_Line_1);
 PARAMETER(DB1.Bill_to_Address_Line_2);
 PARAMETER(DB1.Bill_to_Address_Line_3);
 PARAMETER(DB1.Bill_to_City);
 PARAMETER(DB1.Bill_to_State_Code);
 PARAMETER(DB1.Bill_to_Zip_Postal_Code);
 PARAMETER(DB1.Customer_Purchase_Order_#);
 PARAMETER(DB1.Order_Date);
 PARAMETER(DB1.Requested_Ship_Date);
 PARAMETER(DB1.Actual_Shipped_Date);
 PARAMETER(DB1.Cancel_Date);
 PARAMETER(DB1.Terms_Code);
 PARAMETER(DB1.Special_Instructions);
 PARAMETER(DB1.Special_Instructions_2);
 PARAMETER(DB1.Carrier_Code);
 PARAMETER(DB1.Comment_Print_Acknowledge);
 PARAMETER(DB1.Comment_Print_Inv_Cr_Memo);
 PARAMETER(DB1.Comment_Print_Pick_Slip);
 PARAMETER(DB1.Comment_Print_Ship_Doc);
 PARAMETER(DB1.Reason_Code);
 PARAMETER(DB1.Order_in_Use);
 PARAMETER(DB1.Header_Status);
 PARAMETER(DB1.Header_Status_Last);
 PARAMETER(DB1.Order_Type_Print_Status);
 PARAMETER(DB1.Scheduled_Ship_Date);
 PARAMETER(DB1.User_Original_Entry);
 PARAMETER(DB1.Date_of_Original_Entry);
 PARAMETER(DB1.Order_Value_Total);
 PARAMETER(DB1.Order_Weight_Total);
 PARAMETER(DB1.Credit_Hold);
 PARAMETER(DB1.Production_Hold);
 PARAMETER(DB1.New_Customer_Hold);
 PARAMETER(DB1.Requested_Delivery_Date);
 PARAMETER(DB1.Requested_Delivery_Time);
 PARAMETER(DB1.Accounts_Receiv_Ent_1);
 PARAMETER(DB1.Accounts_Receiv_Ent_2);
 PARAMETER(DB1.Load_ID);
 PARAMETER(DB1.Absorbed_Freight_Rate_CWT);
 PARAMETER(DB1.Rated_Freight);
 PARAMETER(DB1.LTL_Flag);
 PARAMETER(DB1.Price_Audit);
 PARAMETER(DB1.Price_Status);
 PARAMETER(DB1.Shipping_Method);
 PARAMETER(DB1.Export_Status);
 PARAMETER(DB1.Palletize);
 PARAMETER(DB1.Shrink_Wrap);
 PARAMETER(DB1.Slip_Sheet);
 PARAMETER(DB1.Age_Code);
 PARAMETER(DB1.Reefer_Temperature);
 PARAMETER(DB1.Load_Type);
 PARAMETER(DB1.Attach_to_Invoice_Number);
 PARAMETER(DB1.Load_Plan_Order);
 PARAMETER(DB1.Print_Pick_Slip);
 PARAMETER(DB1.Resell_Reference_Number);
 PARAMETER(DB1.Special_Comment_1);
 PARAMETER(DB1.Special_Comment_2);
 PARAMETER(DB1.Affect_Auto_Accruals);
 PARAMETER(DB1.Sales_Route_Code);
 PARAMETER(DB1.Manager_Level_Code);
 PARAMETER(DB1.VP_Level_Code);
 PARAMETER(DB1.Attach_to_Order_Number);
 PARAMETER(DB1.Reason_for_Price_Audit);
 PARAMETER(DB1.Invoice_Number);
 PARAMETER(DB1.Invoice_Suffix);
 PARAMETER(DB1.Invoice_Date);
 PARAMETER(DB1.Event_Code);
 PARAMETER(DB1.Trans_Contol_AS400_Plant);
 PARAMETER(DB1.Modified_Flag);
 PARAMETER(DB1.A_R_order_Value_Total);
 PARAMETER(DB1.Billing_Activity_Type);
 PARAMETER(DB1.Block_Order_Flag);
 PARAMETER(DB1.Order_Certification_Flag);
 PARAMETER(DB1.Invoice_Order_Value_Tot);
 PARAMETER(DB1.Process_Sts_for_3C);
 PARAMETER(DB1.Order_Conf_Fax_Sts);
 PARAMETER(DB1.Manifest_Fax_Sts);
 PARAMETER(DB1.Invoice_Fax_Sts);
 PARAMETER(DB1.Transfer_in_Storage_Ind);
 PARAMETER(DB1.Email_Cust_On_Order_Ship);
 PARAMETER(DB1.Order_Emailed);
 PARAMETER(DB1.Export_Docs_Go_w_Driver);
 PARAMETER(DB1.Shipping_Temp_Code_C_F);
 PARAMETER(DB1.Broker_Order_Status);
 PARAMETER(DB1.Air_Freight_Order);
 PARAMETER(DB1.Order_Requires_Review);
 PARAMETER(DB1.OH_Load_Plan_Ready);
 PARAMETER(DB1.Export_USDA_Approved);
 PARAMETER(DB1.HPB_Ship_to_Warehouse);
 PARAMETER(DB1.OH_TF_Exempt_Code);
 PARAMETER(DB1.OH_Appt_Confirmation_Dt);
 PARAMETER(DB1.JPN_Invoice_Issuance_Date);
 PARAMETER(DB1.Load_Actual_Shipped_Date);
 PARAMETER(DB1.Load_BOL_Complete_Date);
 PARAMETER(DB1.Load_Truck_Departure_Date);
 PARAMETER(DB1.Maximum_Gross_Weight);
 PARAMETER(DB1.Time_of_Original_Entry);
 PARAMETER(DB1.OH_Appt_Confirmation_Tm);
 PARAMETER(DB1.Load_BOL_Complete_Time);
 PARAMETER(DB1.Load_Truck_Departure_Time);
 PARAMETER(DB1.Act_Frt_Reference_Amount);
 PARAMETER(DB1.Act_Non_Ref_Frt_Amount);
 PARAMETER(DB1.OH_Fuel_Surcharge_Amount);
 PARAMETER(DB1.OH_Total_Non_Ref_Frt_Amt);
 PARAMETER(DB1.OH_Total_Ref_Frt_Amt);
 PARAMETER(DB1.Claim_Number);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);

}


//?S17054 DN 04/07/21-Count Cases as Boxes. Replaced function with
//?  'RTV UM/Whs Code-Add CS RT'.
EXECUTE FUNCTION(RTV UM/Whs Code-Add CS RT) TYPE(RTVOBJ) FILE(OPBGWKP)          AC2196569;
PARAMETER(DB1.Company_Number);
PARAMETER(DB1.Order_Number);
PARAMETER(*ZERO);
PARAMETER(*ZERO);
PARAMETER(DTL.Warehouse_Code);
PARAMETER(DTL.U_M_Ordered);
{
 //?USER: Initialize routine

 // WRK.First Time Flag = CND.Yes
 WRK.First_Time_Flag = 'Y';

 // LCL.Boxes Total Quantity = CON.*ZERO
 LCL.Boxes_Total_Quantity = *ZERO;

 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 MOVE *ALL (To: PAR From: CON);

 QUIT;

 //?USER: Process Data record

 //?PF3280 -- add "Cases" to the case-stmt
 // PAR.Warehouse Code = DB1.Warehouse Code
 PAR.Warehouse_Code = DB1.Warehouse_Code;

 CASE;

 // IF DB1.U/M - Ordered is Combos
 IF DB1.U_M_Ordered = 'CB';

 // OR DB1.U/M - Ordered is EQ Boxes
 OR DB1.U_M_Ordered = 'BX';

 // OR DB1.U/M - Ordered is Mixed
 OR DB1.U_M_Ordered = 'MX';

 // OR DB1.U/M - Ordered is Cases
 OR DB1.U_M_Ordered = 'CS';

 CASE;

 // IF DB1.Detail Line Status is Cancelled
 IF DB1.Detail_Line_Status = 'X';

 // IF *OTHERWISE
 IF *OTHERWISE;

 //?S17054 DN 04/06/21-Beyond this point, changed all 'U/M - Ordered'
 //?  to reference LCL Context instead of DB1.
 //?S17054 DN 04/06/21-Count Type 'Cases' (CS) as 'Boxes' (BX).
 CASE;

 // IF *OTHERWISE
 IF *OTHERWISE;

 // LCL.U/M - Ordered = DB1.U/M - Ordered
 LCL.U_M_Ordered = DB1.U_M_Ordered;

 CASE;

 // IF LCL.U/M - Ordered is Cases
 IF LCL.U_M_Ordered = 'CS';

 // LCL.U/M - Ordered = CND.EQ Boxes
 LCL.U_M_Ordered = 'BX';

 ENDIF;

 ENDIF;

 //?Sum for later check
 CASE;

 // IF LCL.U/M - Ordered is EQ Boxes
 IF LCL.U_M_Ordered = 'BX';

 // LCL.Boxes Total Quantity = LCL.Boxes Total Quantity + DB1.Quantity Ordered
 LCL.Boxes_Total_Quantity = LCL.Boxes_Total_Quantity + DB1.Quantity_Ordered;

 ENDIF;

 CASE;

 // IF PAR.USR Unit of Measure is *Blank
 IF PAR.USR_Unit_of_Measure = *BLANK;

 // PAR.USR Unit of Measure = LCL.U/M - Ordered
 PAR.USR_Unit_of_Measure = LCL.U_M_Ordered;

 // IF *OTHERWISE
 IF *OTHERWISE;

 CASE;

 // IF LCL.U/M - Ordered EQ PAR.USR Unit of Measure
 IF LCL.U_M_Ordered = PAR.USR_Unit_of_Measure;

 // IF *OTHERWISE
 IF *OTHERWISE;

 // WRK.U/M - Ordered = CND.Mixed
 WRK.U_M_Ordered = 'MX';

 // PAR.USR Unit of Measure = WRK.U/M - Ordered
 PAR.USR_Unit_of_Measure = WRK.U_M_Ordered;

 ENDIF;

 ENDIF;

 ENDIF;

 ENDIF;

 //?USER: Exit processing

 //?E2709 RMC 9/12/13  Classify as BX/CB - never MX
 CASE;

 // IF PAR.USR Unit of Measure is Mixed
 IF PAR.USR_Unit_of_Measure = 'MX';

 EXECUTE FUNCTION(RTV Numeric Value      RT) TYPE(RTVOBJ) FILE(PDKMREP)          AC1394480;
 PARAMETER(DB1.Company_Number);
 PARAMETER('BOXLOAD');
 PARAMETER(LCL.Box_Load_Min_Box_Qty_USR);
 {
  //?USER: Processing if Data record not found

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 CASE;

 // IF LCL.Boxes Total Quantity LT LCL.Box Load Min Box Qty USR
 IF LCL.Boxes_Total_Quantity < LCL.Box_Load_Min_Box_Qty_USR;

 // PAR.USR Unit of Measure = CND.Combos
 PAR.USR_Unit_of_Measure = 'CB';

 // IF *OTHERWISE
 IF *OTHERWISE;

 // PAR.USR Unit of Measure = CND.Boxed
 PAR.USR_Unit_of_Measure = 'BX';

 ENDIF;

 ENDIF;

}


EXECUTE FUNCTION(RTV Whse Descrip       RT) TYPE(RTVOBJ) FILE(CAADREP)          AC1257603;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(DTL.Warehouse_Description);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 // PAR.Warehouse Description = DB1.Warehouse Description
 PAR.Warehouse_Description = DB1.Warehouse_Description;

}


EXECUTE FUNCTION(RTV Warehouse Location RT) TYPE(RTVOBJ) FILE(CAADREP)          AC1564246;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(PAR.Warehouse_Location);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 QUIT;

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

 QUIT;

}


//?E5557 JJH 04/08/16 - Retrieve current Wareshouse Shipping Company
EXECUTE FUNCTION(Rtv Warehouse SHP     RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1801521;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(NLL.Trans_Contol_AS400_Plant);
PARAMETER(NLL.Warehouse_Location);
PARAMETER(LCL.Shipping_Company_USR);
PARAMETER(NLL.Accounting_Company);
PARAMETER(NLL.WHS_Live_with_Carlisle);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// DTL.USR Warehouse Code = DTL.Warehouse Code
DTL.USR_Warehouse_Code = DTL.Warehouse_Code;

// DTL.Scheduled Ship Date USR = DTL.Scheduled Ship Date
DTL.Scheduled_Ship_Date_USR = DTL.Scheduled_Ship_Date;

// DTL.USR Requested Deliver Dte = DTL.Requested Delivery Date
DTL.USR_Requested_Deliver_Dte = DTL.Requested_Delivery_Date;

//?E5557 JJH 04/08/16 Save initial Requested Delivery Time
// LCL.Requested Delivery TimeUS = DTL.Requested Delivery Time
LCL.Requested_Delivery_TimeUS = DTL.Requested_Delivery_Time;

// DTL.Sched Delivery Time USR = DTL.Requested Delivery Time
DTL.Sched_Delivery_Time_USR = DTL.Requested_Delivery_Time;

//?E3796 JJH 03/02/15 - Save Requested Ship Date
// DTL.Requested Ship Date USR = DTL.Requested Ship Date
DTL.Requested_Ship_Date_USR = DTL.Requested_Ship_Date;

CASE;

// IF DTL.U/M - Ordered is Mixed
IF DTL.U_M_Ordered = 'MX';

// DTL.Condition Desc. 1  USR = CON.Mixed
DTL.Condition_Desc_1_USR = 'Mixed';

// IF *OTHERWISE
IF *OTHERWISE;

EXECUTE FUNCTION(Rtv UOM Description    RT) TYPE(RTVOBJ) FILE(CAAMREP)          AC1216290;
PARAMETER(DTL.U_M_Ordered);
PARAMETER(DTL.Condition_Desc_1_USR);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 MOVE *ALL (To: PAR From: DB1);

}


ENDIF;

// WRK.Order Number = DTL.Order Number
WRK.Order_Number = DTL.Order_Number;

// WRK.Company Number = DTL.Company Number
WRK.Company_Number = DTL.Company_Number;

//?** Save Ship To City and State for DDD/T testing      W288
// WRK.City = DB1.Ship To City
WRK.City = DB1.Ship_To_City;

// WRK.State Code = DB1.Ship To State Code
WRK.State_Code = DB1.Ship_To_State_Code;

// Call program CLC Deadln Depart Dt  XF.
CALL PROGRAM(CLC Deadln Depart Dt  XF) ('POSCXFR');
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Order_Number);
PARAMETER(WRK.City);
PARAMETER(WRK.State_Code);
PARAMETER(DTL.Requested_Delivery_Date);
PARAMETER(DTL.Requested_Delivery_Time);
PARAMETER(DTL.Deadline_Departure_Date);
PARAMETER(DTL.Deadline_Departure_Time);

// DTL.OH Load Plan Ready = DB1.OH Load Plan Ready
DTL.OH_Load_Plan_Ready = DB1.OH_Load_Plan_Ready;

//?** Default DDD/T for exports w/no state code          W288
CASE;

// IF DTL.Deadline Departure Date is not entered
IF DTL.Deadline_Departure_Date = *ZERO;

CASE;

// IF WRK.State Code is International Accounts
IF WRK.State_Code = '.';

// AND DTL.Export Status is yes
AND DTL.Export_Status = 'Y';

// DTL.Deadline Departure Date = DTL.Scheduled Ship Date
DTL.Deadline_Departure_Date = DTL.Scheduled_Ship_Date;

// DTL.Deadline Departure Time = CON.80000
DTL.Deadline_Departure_Time = 80000;

ENDIF;

ENDIF;

CASE;

// IF DTL.Deadline Departure Date is not entered
IF DTL.Deadline_Departure_Date = *ZERO;

// DTL.Deadline Departure Date = DTL.Scheduled Ship Date
DTL.Deadline_Departure_Date = DTL.Scheduled_Ship_Date;

ENDIF;

CASE;

// IF DTL.Deadline Departure Time is Not Entered
IF DTL.Deadline_Departure_Time = *ZERO;

// DTL.Deadline Departure Time = CON.80000
DTL.Deadline_Departure_Time = 80000;

ENDIF;

//?USER: Validate detail screen fields

//?E5557 JJH 04/08/16 - Select Record by Warehouse Shipping Company
//?SEL: Warehouse Code by Shipping Company
CASE;

// IF CTL.*CMD key is *Prompt
IF CTL.*CMD_key = '04';

CASE;

// IF PGM.*Cursor field <IS> DTL.Warehouse Code
IF PGM.*Cursor_field = DTL.Warehouse_Code;

EXECUTE FUNCTION(Sel Warehouse Shp Com IF) TYPE(EXCINTFUN)                      AC2121708;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(LCL.Application_WHS_Restrict);
PARAMETER('O/P');
PARAMETER(LCL.Shipping_Company_USR);
{
 //?Execute internal function

 CASE;

 // IF PAR.Application WHS Restrict is yes
 IF PAR.Application_WHS_Restrict = 'Y';

 // Call program Sel User Appl Whs     SR.
 CALL PROGRAM(Sel User Appl Whs     SR) ('PNMMSRR');
 PARAMETER(JOB.*USER);
 PARAMETER(PAR.Application_Code);
 PARAMETER(PAR.Warehouse_Code);

 // IF *OTHERWISE
 IF *OTHERWISE;

 // Call program SEL Warehouse Shp Com SR.
 CALL PROGRAM(SEL Warehouse Shp Com SR) ('PBWXSRR');
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(PAR.Shipping_Company);

 ENDIF;

}


ENDIF;

ENDIF;

//?E5557 JJH 04/08/16 - Whse change must be same Shipping Company
//?SNDERRMSG if changed Warehouse not in same Shipping Company¦
CASE;

// IF DTL.Warehouse Code NE DTL.USR Warehouse Code
IF DTL.Warehouse_Code <> DTL.USR_Warehouse_Code;

EXECUTE FUNCTION(Rtv Warehouse SHP     RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1801521;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(NLL.Trans_Contol_AS400_Plant);
PARAMETER(NLL.Warehouse_Location);
PARAMETER(LCL.Shipping_Company);
PARAMETER(NLL.Accounting_Company);
PARAMETER(NLL.WHS_Live_with_Carlisle);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


CASE;

// IF LCL.Shipping Company NE LCL.Shipping Company USR
IF LCL.Shipping_Company <> LCL.Shipping_Company_USR;

// Send error message - '&1 not allowed.  Must be in the same Shipping Company &2.'
ERROR(USR4919);
MSGPARM(DTL.Warehouse_Code);
MSGPARM(LCL.Shipping_Company_USR);

ENDIF;

ENDIF;

EXECUTE FUNCTION(Val Warehouse         IF) TYPE(EXCINTFUN)                      AC1961537;
PARAMETER(LCL.Application_WHS_Restrict);
PARAMETER(DTL.Warehouse_Code);
PARAMETER('O/P');
{
 //?Execute internal function

 //?VAL: Warehouse Code
 CASE;

 // IF PAR.Application WHS Restrict is yes
 IF PAR.Application_WHS_Restrict = 'Y';

 CASE;

 // IF PAR.Warehouse Code is Blanks
 IF PAR.Warehouse_Code = *BLANK;

 // Send error message - 'Warehouse Code is required.'
 ERROR(USR2015);
 MSGPARM(PAR.Warehouse_Code);

 QUIT;

 // IF *OTHERWISE
 IF *OTHERWISE;

 // Call program Val App Whs Itm Acs   XF.
 CALL PROGRAM(Val App Whs Itm Acs   XF) ('PNMOXFR');
 PARAMETER(JOB.*USER);
 PARAMETER(PAR.Application_Code);
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(*ZERO);
 PARAMETER(LCL.WHS_Item_Access_Sts_USR);

 CASE;

 // IF LCL.WHS/Item Access Sts USR is Access Denied
 IF LCL.WHS_Item_Access_Sts_USR = 'D';

 // Send error message - 'Access Denied to &1 for Warehouse &2.'
 ERROR(USR2776);
 MSGPARM(JOB.*USER);
 MSGPARM(PAR.Warehouse_Code);

 QUIT;

 ENDIF;

 ENDIF;

 //?VAL: Warehouse Code
 // IF *OTHERWISE
 IF *OTHERWISE;

 CASE;

 // IF PAR.Warehouse Code is Not Blanks
 IF PAR.Warehouse_Code <> *BLANK;

 EXECUTE FUNCTION(Val Warehouse Exists   RT) TYPE(RTVOBJ) FILE(CAADREP)          AC1323885;
 PARAMETER(PAR.Warehouse_Code);
 {
  //?USER: Processing if Data record not found

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

  //?USER: Process Data record

  // PGM.*Return code = CND.*Record already exists
  PGM.*Return_code = 'Y2U0003';

 }

 CASE;

 // IF PGM.*Return code is *Record does not exist
 IF PGM.*Return_code = 'Y2U0005';

 // Send error message - 'Warehouse Codes not found.'
 ERROR(USR0007);
 MSGPARM(PAR.Warehouse_Code);

 QUIT;

 ENDIF;

 ENDIF;

 ENDIF;

}


//?Edit Scheduled Ship Date
CASE;

// IF DTL.Scheduled Ship Date LT JOB.*Job date
IF DTL.Scheduled_Ship_Date < JOB.*Job_date;

// Send error message - '&1 entered must be equal to or greater than &2.'
ERROR(USR2018);
MSGPARM(DTL.Scheduled_Ship_Date);
MSGPARM(JOB.*Job_date);

//?Edit Scheduled Ship Date
// IF DTL.Scheduled Ship Date GT DTL.Requested Delivery Date
IF DTL.Scheduled_Ship_Date > DTL.Requested_Delivery_Date;

// AND DTL.Requested Delivery Date is entered
AND DTL.Requested_Delivery_Date <> *ZERO;

// Send error message - 'Delivery Date is before Scheduled Ship Date'
ERROR(USR2063);
MSGPARM(DTL.Requested_Delivery_Date);

ENDIF;

//?Edit Requested Delivery Date cannot be before sched ship date
CASE;

// IF DTL.Requested Delivery Date LT JOB.*Job date
IF DTL.Requested_Delivery_Date < JOB.*Job_date;

// Send error message - '&1 entered must be equal to or greater than &2.'
ERROR(USR2018);
MSGPARM(DTL.Requested_Delivery_Date);
MSGPARM(JOB.*Job_date);

//?Edit Requested Delivery Date cannot be before sched ship date
// IF DTL.Requested Delivery Date LT DTL.Scheduled Ship Date
IF DTL.Requested_Delivery_Date < DTL.Scheduled_Ship_Date;

// AND DTL.Requested Delivery Date is entered
AND DTL.Requested_Delivery_Date <> *ZERO;

// Send error message - 'Delivery Date is before Scheduled Ship Date'
ERROR(USR2063);
MSGPARM(DTL.Requested_Delivery_Date);

ENDIF;

//?01/18/18 DN T12340-Req Delivery Time cannot exceed 2400 or 59 for minutes.
CASE;

// IF DTL.Requested Delivery Time is Entered
IF DTL.Requested_Delivery_Time <> 0;

CASE;

// IF DTL.Requested Delivery Time is GT 24 Hour Day
IF DTL.Requested_Delivery_Time > 2400;

// Send error message - 'Time Field GT 24 Hours.  Correct time and re-enter.'
ERROR(USR1712);
MSGPARM(DTL.Requested_Delivery_Time);

// IF *OTHERWISE
IF *OTHERWISE;

// LCL.USR Remainder= DTL.Requested Delivery Time\CON.100
LCL.USR_Remainder = MODULO(DTL.Requested_Delivery_Time 100 1);

CASE;

// IF LCL.USR Remainder is GT 59 Minutes
IF LCL.USR_Remainder > 59;

// Send error message - 'Time Field minutes GT 59.  Correct time and re-enter.'
ERROR(USR2175);
MSGPARM(DTL.Requested_Delivery_Time);

ENDIF;

ENDIF;

ENDIF;

//?Edit Requested Ship Date
CASE;

// IF DTL.Requested Ship Date LT JOB.*Job date
IF DTL.Requested_Ship_Date < JOB.*Job_date;

// Send error message - 'Requested Ship Date cannot be earlier than today'
ERROR(USR4797);
MSGPARM(DTL.Requested_Ship_Date);

//?Edit Requested Ship Date
// IF DTL.Requested Ship Date GT DTL.Scheduled Ship Date
IF DTL.Requested_Ship_Date > DTL.Scheduled_Ship_Date;

// Send error message - 'Requested Ship Date cannot be greater than Scheduled Ship Date.'
ERROR(USR4781);
MSGPARM(DTL.Requested_Ship_Date);
MSGPARM(DTL.Scheduled_Ship_Date);

ENDIF;

EXECUTE FUNCTION(RTV Whse Descrip       RT) TYPE(RTVOBJ) FILE(CAADREP)          AC1257603;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(DTL.Warehouse_Description);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 // PAR.Warehouse Description = DB1.Warehouse Description
 PAR.Warehouse_Description = DB1.Warehouse_Description;

}


//?** error if no mileage record                        FP1251
//?Ensure that dates are in correct sequence
CASE;

// IF DTL.Shipping Method is Buyers Truck
IF DTL.Shipping_Method = 'CR'/'CT';

//?       don't edit dates for buyers truck orders/loads
//?Ensure that dates are in correct sequence
// IF DTL.Scheduled Ship Date LT JOB.*Job date
IF DTL.Scheduled_Ship_Date < JOB.*Job_date;

//?this is already an error
//?Ensure that dates are in correct sequence
// IF DTL.Scheduled Ship Date USR NE DTL.Scheduled Ship Date
IF DTL.Scheduled_Ship_Date_USR <> DTL.Scheduled_Ship_Date;

// OR DTL.USR Warehouse Code NE DTL.Warehouse Code
OR DTL.USR_Warehouse_Code <> DTL.Warehouse_Code;

// OR DTL.USR Requested Deliver Dte NE DTL.Requested Delivery Date
OR DTL.USR_Requested_Deliver_Dte <> DTL.Requested_Delivery_Date;

// Call program CLC Must Ship Date     XF.
CALL PROGRAM(CLC Must Ship Date     XF) ('PDJBXFR');
PARAMETER(WRK.Must_Ship_Error);
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Order_Number);
PARAMETER(DTL.Ship_To_City);
PARAMETER(DTL.Ship_To_State_Code);
PARAMETER(DTL.Requested_Ship_Date);
PARAMETER(DTL.Scheduled_Ship_Date);
PARAMETER(DTL.Requested_Delivery_Date);
PARAMETER(DTL.Requested_Delivery_Time);
PARAMETER(DTL.Load_ID);
PARAMETER(DTL.Warehouse_Code);
PARAMETER(WRK.Must_Ship_Date_USR);
PARAMETER(WRK.Must_Ship_Time_USR);

//?Process date order error for must ship
CASE;

// IF WRK.Must Ship Error is No Error
IF ( WRK.Must_Ship_Error = *BLANK;

// OR WRK.Must Ship Error is Miles to Next=Zeros
OR WRK.Must_Ship_Error = 'MTN';

// OR WRK.Must Ship Error is Req Ship should =Must Shp
OR WRK.Must_Ship_Error = 'RSD' );

//?RMC rmv 'AND live with tpm=Not Live'  chk  9/29/16
//?Process date order error for must ship
// IF *OTHERWISE
IF *OTHERWISE;

EXECUTE FUNCTION(PMT Must Ship Dt Accpt IF) TYPE(EXCINTFUN)                     AC1510968;
PARAMETER(DTL.Requested_Delivery_Date);
PARAMETER(DTL.Requested_Delivery_Time);
PARAMETER(WRK.Must_Ship_Date_USR);
PARAMETER(WRK.Must_Ship_Time_USR);
PARAMETER(DTL.Requested_Ship_Date);
PARAMETER(PAR.STATUS);
PARAMETER(DTL.Scheduled_Ship_Date);
PARAMETER(WRK.Must_Ship_Error);
PARAMETER(DTL.Order_Number);
{
 //?Execute internal function

 // Call program PMT Must Ship Dt Accpt PV.
 CALL PROGRAM(PMT Must Ship Dt Accpt PV) ('PDJFPVR');
 PARAMETER(PAR.Requested_Delivery_Date);
 PARAMETER(PAR.Must_Ship_Date_USR);
 PARAMETER(PAR.Requested_Ship_Date);
 PARAMETER(PAR.STATUS);
 PARAMETER(PAR.Must_Ship_Time_USR);
 PARAMETER(PAR.Requested_Delivery_Time);
 PARAMETER(PAR.Must_Ship_Error);
 PARAMETER(PAR.Order_Number);

 CASE;

 // IF PAR.STATUS is No
 IF PAR.STATUS = 'N';

 // Send error message - 'Order must be shipped by &1 to be delivered on time.'
 ERROR(USR2662);
 MSGPARM(PAR.Must_Ship_Date_USR);

 ENDIF;

}


ENDIF;

ENDIF;

// Call program CLC Deadln Depart Dt  XF.
CALL PROGRAM(CLC Deadln Depart Dt  XF) ('POSCXFR');
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Order_Number);
PARAMETER(WRK.City);
PARAMETER(WRK.State_Code);
PARAMETER(DTL.Requested_Delivery_Date);
PARAMETER(DTL.Requested_Delivery_Time);
PARAMETER(DTL.Deadline_Departure_Date);
PARAMETER(DTL.Deadline_Departure_Time);

//?** If export and no state, put new SSD into DDD       W288
CASE;

// IF DTL.Export Status is yes
IF DTL.Export_Status = 'Y';

CASE;

// IF DTL.Ship To State Code is International Accounts
IF DTL.Ship_To_State_Code = '.';

// DTL.Deadline Departure Date = DTL.Scheduled Ship Date
DTL.Deadline_Departure_Date = DTL.Scheduled_Ship_Date;

// DTL.Deadline Departure Time = CON.80000
DTL.Deadline_Departure_Time = 80000;

// WRK.Must Ship Error = CND.No Error
WRK.Must_Ship_Error = *BLANK;

ENDIF;

ENDIF;

//?Deadline Departure Date/Time and Shipping Restrictions  W288
DO;

//?** Test DDD/T if Access Limited is Yes             W288
CASE;

// IF PAR.Access Limited Sts USR is yes
IF PAR.Access_Limited_Sts_USR = 'Y';

//?Seaboard only
CASE;

// IF PAR.Company Organization is Seaboard
IF PAR.Company_Organization = 'S';

//?RMC 9/12/17 comment this error
//?** Retrieve the hours that Shipping is restricted from loading
//?** (this is maintained by scheduling)
// Call program RTV Dock Unavail Range XF.
CALL PROGRAM(RTV Dock Unavail Range XF) ('PNNIXFR');
PARAMETER(DTL.Warehouse_Code);
PARAMETER(WRK.Dock_Unavail_Start_Time);
PARAMETER(WRK.Dock_Unavail_End_Time);

//?** DDT cannot be during Shipping Restricted Hours     W288
CASE;

// IF PGM.*Return code is *Record does not exist
IF PGM.*Return_code = 'Y2U0005';

//?      skip - not an error if no record
//?** DDT cannot be during Shipping Restricted Hours     W288
// IF WRK.Dock Unavail Start Time is Zeros
IF WRK.Dock_Unavail_Start_Time = *ZERO;

// AND WRK.Dock Unavail End Time is Zeros
AND WRK.Dock_Unavail_End_Time = *ZERO;

//?      skip - not an error if times are zeros
//?** DDT cannot be during Shipping Restricted Hours     W288
// IF *OTHERWISE
IF *OTHERWISE;

//?** If SSD = DDD then enforce the Restricted Time Range   W288
CASE;

// IF DTL.Deadline Departure Date EQ DTL.Scheduled Ship Date
IF DTL.Deadline_Departure_Date = DTL.Scheduled_Ship_Date;

//?** Error if DDT falls within Shipping Restricted hours   W288
CASE;

// IF DTL.Deadline Departure Time GE WRK.Dock Unavail Start Time
IF DTL.Deadline_Departure_Time >= WRK.Dock_Unavail_Start_Time;

// AND DTL.Deadline Departure Time LE WRK.Dock Unavail End Time
AND DTL.Deadline_Departure_Time <= WRK.Dock_Unavail_End_Time;

// Send error message - 'Invalid SSD & DDD/T - during Restricted Hours-chg Dlvry Time, see Schedulin
ERROR(USR4223);
MSGPARM(DTL.Requested_Delivery_Time);

ENDIF;

ENDIF;

ENDIF;

//?** DDD/T cannot be in the past. Truck will not have time to load
//?** and leave.
// Call program RTV System Date/Time   UP.
CALL PROGRAM(RTV System Date/Time   UP) ('PDGFUPC');
PARAMETER(WRK.Current_System_Date);
PARAMETER(WRK.Current_System_Time);

//?** Error if DDD = Today & DDT is LT now - 1st order   W288
CASE;

// IF DTL.Deadline Departure Date EQ WRK.Current System Date
IF DTL.Deadline_Departure_Date = WRK.Current_System_Date;

// AND DTL.Deadline Departure Time LE WRK.Current System Time
AND DTL.Deadline_Departure_Time <= WRK.Current_System_Time;

// Send error message - 'DDD/Time must be later than NOW, Chg Ship Date or Deliv Time'
ERROR(USR4233);
MSGPARM(DTL.Scheduled_Ship_Date);

ENDIF;

ENDIF;

ENDIF;

ENDDO;

//?HPB Only - check whse vs. customer type, and vs. orig whse location
CASE;

// IF PAR.Company Organization is High Plains Biodiesel
IF PAR.Company_Organization = 'H';

EXECUTE FUNCTION(Rtv Customer Type     RT) TYPE(RTVOBJ) FILE(CAEOREP)           AC1585599;
PARAMETER(DTL.Ship_To_Customer);
PARAMETER(WRK.Type_Code);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

 QUIT;

}


EXECUTE FUNCTION(Rtv Acct&Ship Co      RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1814475;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(WRK.Shipping_Company);
PARAMETER(WRK.Accounting_Company);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


EXECUTE FUNCTION(Rtv HPB fields        RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1855470;
PARAMETER(DTL.Warehouse_Code);
PARAMETER(LCL.Production_Warehouse_Code);
PARAMETER(LCL.Warehouse_Location);
PARAMETER(LCL.WHS_Req_Meter_Reading_Shp);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


//?HPB Only - P00579 if ship co <> acctng co, then ship to whse is required
CASE;

// IF WRK.Shipping Company NE WRK.Accounting Company
IF WRK.Shipping_Company <> WRK.Accounting_Company;

//?Prevent shipping from hp1/hp2 directly to musket/outside
CASE;

// IF WRK.Type Code is Marketing
IF WRK.Type_Code = 'MK';

//?hpb biodiesel cust will be a MK type
//?Prevent shipping from hp1/hp2 directly to musket/outside
// IF *OTHERWISE
IF *OTHERWISE;

// Send error message - 'Marketing customer # is required for Warehouse &1'
ERROR(USR4246);
MSGPARM(DTL.Warehouse_Code);

ENDIF;

//?HPB Only - P00579 if ship co <> acctng co, then ship to whse is required
// IF *OTHERWISE
IF *OTHERWISE;

CASE;

// IF WRK.Type Code is Marketing
IF WRK.Type_Code = 'MK';

CASE;

// IF DTL.Order Type - Sales is Not a Transfer Order
IF DTL.Order_Type_Sales <> 'TR';

// Send error message - 'Marketing customer # is not valid for Warehouse &1'
ERROR(USR4247);
MSGPARM(DTL.Warehouse_Code);

ENDIF;

ENDIF;

// LCL.Count USR = CON.*ZERO
LCL.Count_USR = *ZERO;

EXECUTE FUNCTION(RTV Count for BOL     RT) TYPE(RTVOBJ) FILE(OMFNCPP)           AC2003791;
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Order_Number);
PARAMETER(*ZERO);
PARAMETER(*ZERO);
PARAMETER(LCL.Count_USR);
{
 //?USER: Process Data record

 // PAR.Count USR = CON.1 + PAR.Count USR
 PAR.Count_USR = 1 + PAR.Count_USR;

}


//?If location is changing, or both are External, dont allow
CASE;

// IF LCL.Warehouse Location NE PAR.Warehouse Location
IF LCL.Warehouse_Location <> PAR.Warehouse_Location;

// OR LCL.Warehouse Location is External
OR LCL.Warehouse_Location = 'E';

//?If manifest dtl exists, dont allow chg
CASE;

// IF LCL.Count USR is GE 1
IF LCL.Count_USR >= 1;

// Send error message - 'Warehouse change invalid, delete manifest dtl first.'
ERROR(USR4538);
MSGPARM(DTL.Warehouse_Code);
MSGPARM(DTL.Company_Number);

ENDIF;

ENDIF;

ENDIF;

//?HPB Transfer order tests
CASE;

// IF DTL.Order Type - Sales is Transfer Order
IF DTL.Order_Type_Sales = 'TR';

CASE;

// IF LCL.Warehouse Location is Internal (Plant)
IF LCL.Warehouse_Location = 'I';

// Send error message - 'Warehouse must be an external warehouse.'
ERROR(USR4207);
MSGPARM(DTL.Warehouse_Code);

ENDIF;

CASE;

// IF DTL.Warehouse Code EQ DTL.HPB Ship to Warehouse
IF DTL.Warehouse_Code = DTL.HPB_Ship_to_Warehouse;

// Send error message - 'To Warehouse &1 must be diff than from warehouse.'
ERROR(USR3654);
MSGPARM(DTL.Warehouse_Code);

ENDIF;

ENDIF;

ENDIF;

//?SBD Only - check Ship Date & Requested Delivery in Order Detail
CASE;

// IF PAR.Company Organization is Seaboard
IF PAR.Company_Organization = 'S';

// WRK.Error Status  3 = CND.No
WRK.Error_Status_3 = 'N';

CASE;

// IF DTL.Load ID is GT Zero
IF DTL.Load_ID > *ZERO;

// Call program Val ShpDt Allc By LD  XF.
CALL PROGRAM(Val ShpDt Allc By LD  XF) ('PNS0XFR');
PARAMETER(DTL.Load_ID);
PARAMETER(DTL.Scheduled_Ship_Date_USR);
PARAMETER(JOB.*PROGRAM);
PARAMETER(WRK.Error_Status_3);

ENDIF;

CASE;

// IF WRK.Error Status  3 is Yes
IF WRK.Error_Status_3 = 'Y';

// Send error message - 'Age Days/OvrDate Invalid'
ERROR(USR4355);

ENDIF;

ENDIF;

//?USER: Change DBF record

// Call program Upd ShpDtRqDte&Whs/Alc XF.
CALL PROGRAM(Upd ShpDtRqDte&Whs/Alc XF) ('PDZMXFR')                             AC2003791;
PARAMETER(DTL.Load_ID);
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Scheduled_Ship_Date);
PARAMETER(DTL.Warehouse_Code);
PARAMETER(DTL.Order_Number);
PARAMETER(DTL.Ship_To_City);
PARAMETER(DTL.Ship_To_State_Code);
PARAMETER(DTL.Requested_Ship_Date);
PARAMETER(DTL.Requested_Delivery_Date);
PARAMETER(DTL.Requested_Delivery_Time);
PARAMETER(DTL.OH_Load_Plan_Ready);
PARAMETER(DTL.Scheduled_Ship_Date_USR);
PARAMETER(DTL.USR_Warehouse_Code);
PARAMETER(DTL.USR_Requested_Deliver_Dte);
PARAMETER(LCL.Requested_Delivery_TimeUS);
PARAMETER(DTL.Sched_Delivery_Time_USR);
PARAMETER(DTL.Requested_Ship_Date_USR);

//?USER: Process command keys

//?   So... the log file needs to be written
//?*
//?RMC E00223 09/05/08 HPB - chg manifest dtl whse if there
CASE;

// IF PAR.Company Organization is High Plains Biodiesel
IF PAR.Company_Organization = 'H';

CASE;

// IF DTL.Warehouse Code NE DTL.USR Warehouse Code
IF DTL.Warehouse_Code <> DTL.USR_Warehouse_Code;

//?order detail may have an R sts already, so read ALL details
EXECUTE FUNCTION(Upd WHS/Alc by Ord 2 RT) TYPE(RTVOBJ) FILE(OPBGWKP)            AC1898479;
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Order_Number);
PARAMETER(DTL.Warehouse_Code);
{
 //?USER: Initialize routine

 //?***** PA PROCESS - USE REQUESTED SHIP DATE FOR Ship Date USR *****
 //?USER: Process Data record

 // PAR.Quantity Scheduled = DB1.Quantity Scheduled
 PAR.Quantity_Scheduled = DB1.Quantity_Scheduled;

 // PAR.Weight Scheduled = DB1.Weight Scheduled
 PAR.Weight_Scheduled = DB1.Weight_Scheduled;

 // Call program UPD Avail-To-Sell  ORD XF.
 CALL PROGRAM(UPD Avail-To-Sell  ORD XF) ('PDQNXFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Requested_Ship_Date);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(PAR.Quantity_Scheduled);
 PARAMETER(PAR.Weight_Scheduled);
 PARAMETER('OD');
 PARAMETER('CHGWHS');
 PARAMETER(DB1.Item_Age_Days);
 PARAMETER(DB1.Production_Ovr_AgeDte_Fr);
 PARAMETER(DB1.Production_Ovr_AgeDte_To);

 // PAR.Quantity Scheduled = CON.*ZERO
 PAR.Quantity_Scheduled = *ZERO;

 // PAR.Weight Scheduled = CON.*ZERO
 PAR.Weight_Scheduled = *ZERO;

 // Call program UPD Avail-To-Sell  ORD XF.
 CALL PROGRAM(UPD Avail-To-Sell  ORD XF) ('PDQNXFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(DB1.Item_Code);
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(DB1.Requested_Ship_Date);
 PARAMETER(DB1.Quantity_Scheduled);
 PARAMETER(DB1.Weight_Scheduled);
 PARAMETER(PAR.Quantity_Scheduled);
 PARAMETER(PAR.Weight_Scheduled);
 PARAMETER('OA');
 PARAMETER('CHGWHS');
 PARAMETER(DB1.Item_Age_Days);
 PARAMETER(DB1.Production_Ovr_AgeDte_Fr);
 PARAMETER(DB1.Production_Ovr_AgeDte_To);

 //?Schedule As Ordered.
 CASE;

 // IF PAR.Quantity Scheduled NE DB1.Quantity Scheduled
 IF PAR.Quantity_Scheduled <> DB1.Quantity_Scheduled;

 // Call program UPD Avail-To-Sell  ORD XF.
 CALL PROGRAM(UPD Avail-To-Sell  ORD XF) ('PDQNXFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(DB1.Item_Code);
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(DB1.Requested_Ship_Date);
 PARAMETER(DB1.Quantity_Scheduled);
 PARAMETER(DB1.Weight_Scheduled);
 PARAMETER(PAR.Quantity_Scheduled);
 PARAMETER(PAR.Weight_Scheduled);
 PARAMETER('AO');
 PARAMETER('CHGWHS');
 PARAMETER(DB1.Item_Age_Days);
 PARAMETER(DB1.Production_Ovr_AgeDte_Fr);
 PARAMETER(DB1.Production_Ovr_AgeDte_To);

 ENDIF;

 //?FP1054 upd prod warehouse
 EXECUTE FUNCTION(Rtv Productin Whs     RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1498428;
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(LCL.Production_Warehouse);
 PARAMETER(NLL.Accounting_Company);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 EXECUTE FUNCTION(Chg Warehouse         CH) TYPE(CHGOBJ) FILE(OPBGWKP)           AC1468517;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(LCL.Production_Warehouse);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1255766;
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

 }

}


EXECUTE FUNCTION(RTV Chg Whse          RT) TYPE(RTVOBJ) FILE(OMFNCPP)           AC1898450;
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Order_Number);
PARAMETER(DTL.Warehouse_Code);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(CHG OM Manifest Detail CH) TYPE(CHGOBJ) FILE(OMFNCPP)          AC1402363;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(DB1.Case_Sequence_Number);
 PARAMETER(DB1.Case_Quantity);
 PARAMETER(DB1.Case_Weight);
 PARAMETER(DB1.Inventory_Updated_Flag);
 PARAMETER(DB1.Label_Date);
 PARAMETER(DB1.PT_Serial_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(PAR.Warehouse_Code);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Manifest_Gross_Weight);
 PARAMETER(DB1.Manifest_Lot_ID);
 PARAMETER(DB1.Manifest_Total_Tare);
 PARAMETER(DB1.Manifest_Co_Park_Lot_Nbr);
 PARAMETER(DB1.Manifest_Pallet_Number);
 PARAMETER(DB1.Manifest_Shift);
 PARAMETER(DB1.HPB_Meter_Net_Gallon);
 PARAMETER(DB1.Manifest_Net_Weight_Kg);
 PARAMETER(DB1.Manifest_Unused_Status_1A);
 PARAMETER(DB1.Manifest_Unused_Status_2A);
 PARAMETER(DB1.Manifest_Unused_Date);
 PARAMETER(DB1.HPB_COA_Batch_Number);
 PARAMETER(DB1.HPB_Meter_Start_Gallon);
 PARAMETER(DB1.HPB_Meter_Ending_Gallon);
 PARAMETER(DB1.HPB_Meter_Total_Gallon);
 PARAMETER(DB1.HPB_Meter_Net_Weight);
 PARAMETER(DB1.HPB_Density_Ref_Gravity);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 PARAMETER(*MISSING);
 PARAMETER(WRK.USR_Update_Flag);
 PARAMETER(WRK.COA_RIN_Modified_Sts);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  //?USER: Processing after Data update

  // PAR.USR Update Flag = CND.Yes
  PAR.USR_Update_Flag = 'Y';

  // PAR.COA RIN Modified Sts = CND.yes
  PAR.COA_RIN_Modified_Sts = 'Y';

 }

}


ENDIF;

ENDIF;

//?*
// DTL.Scheduled Ship Date USR = DTL.Scheduled Ship Date
DTL.Scheduled_Ship_Date_USR = DTL.Scheduled_Ship_Date;

// DTL.USR Warehouse Code = DTL.Warehouse Code
DTL.USR_Warehouse_Code = DTL.Warehouse_Code;

//?*
//?** Log the change to the Requested Delivery Date, as well  E00127
//?*
// DTL.USR Requested Deliver Dte = DTL.Requested Delivery Date
DTL.USR_Requested_Deliver_Dte = DTL.Requested_Delivery_Date;

//?USER: Exit program processing

CASE;

// IF DTL.*CMD key is *Exit
IF DTL.*CMD_key = '03';

EXECUTE FUNCTION(CHG Order in Use       CH) TYPE(CHGOBJ) FILE(OPBFCPP)          AC1316259;
PARAMETER(WRK.Company_Number);
PARAMETER(WRK.Order_Number);
PARAMETER('N');
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Date/Time Stamp.PgmIF) TYPE(EXCINTFUN)                     AC1425284;
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 {
  //?Execute internal function

  // PAR.Job Time = JOB.*Job time
  PAR.Job_Time = JOB.*Job_time;

  // PAR.User Id = JOB.*USER
  PAR.User_Id = JOB.*USER;

  // PAR.Job Name = JOB.*PROGRAM
  PAR.Job_Name = JOB.*PROGRAM;

  // PAR.Job Date = JOB.*Job date
  PAR.Job_Date = JOB.*Job_date;

 }

 // Call program TRG Order Hdr CHG Trig XT.
 CALL PROGRAM(TRG Order Hdr CHG Trig XT) ('PDW9XFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Type_Sales);
 PARAMETER(DB1.AR_Customer_Number);
 PARAMETER(DB1.Ship_To_Customer);
 PARAMETER(DB1.Ship_To_Name);
 PARAMETER(DB1.Ship_To_Address_Line_1);
 PARAMETER(DB1.Ship_To_Address_Line_2);
 PARAMETER(DB1.Ship_To_Address_Line_3);
 PARAMETER(DB1.Ship_To_City);
 PARAMETER(DB1.Ship_To_State_Code);
 PARAMETER(DB1.Ship_To_Zip_Postal_Code);
 PARAMETER(DB1.Bill_to_Customer);
 PARAMETER(DB1.Bill_to_Name);
 PARAMETER(DB1.Bill_to_Address_Line_1);
 PARAMETER(DB1.Bill_to_Address_Line_2);
 PARAMETER(DB1.Bill_to_Address_Line_3);
 PARAMETER(DB1.Bill_to_City);
 PARAMETER(DB1.Bill_to_State_Code);
 PARAMETER(DB1.Bill_to_Zip_Postal_Code);
 PARAMETER(DB1.Customer_Purchase_Order_#);
 PARAMETER(DB1.Order_Date);
 PARAMETER(DB1.Requested_Ship_Date);
 PARAMETER(DB1.Actual_Shipped_Date);
 PARAMETER(DB1.Cancel_Date);
 PARAMETER(DB1.Terms_Code);
 PARAMETER(DB1.Special_Instructions);
 PARAMETER(DB1.Special_Instructions_2);
 PARAMETER(DB1.Carrier_Code);
 PARAMETER(DB1.Comment_Print_Acknowledge);
 PARAMETER(DB1.Comment_Print_Inv_Cr_Memo);
 PARAMETER(DB1.Comment_Print_Pick_Slip);
 PARAMETER(DB1.Comment_Print_Ship_Doc);
 PARAMETER(DB1.Reason_Code);
 PARAMETER(DB1.Order_in_Use);
 PARAMETER(DB1.Header_Status);
 PARAMETER(DB1.Header_Status_Last);
 PARAMETER(DB1.Order_Type_Print_Status);
 PARAMETER(DB1.Scheduled_Ship_Date);
 PARAMETER(DB1.User_Original_Entry);
 PARAMETER(DB1.Date_of_Original_Entry);
 PARAMETER(DB1.Order_Value_Total);
 PARAMETER(DB1.Order_Weight_Total);
 PARAMETER(DB1.Credit_Hold);
 PARAMETER(DB1.Production_Hold);
 PARAMETER(DB1.New_Customer_Hold);
 PARAMETER(DB1.Requested_Delivery_Date);
 PARAMETER(DB1.Requested_Delivery_Time);
 PARAMETER(DB1.Accounts_Receiv_Ent_1);
 PARAMETER(DB1.Accounts_Receiv_Ent_2);
 PARAMETER(DB1.Load_ID);
 PARAMETER(DB1.Absorbed_Freight_Rate_CWT);
 PARAMETER(DB1.Rated_Freight);
 PARAMETER(DB1.LTL_Flag);
 PARAMETER(DB1.Price_Audit);
 PARAMETER(DB1.Price_Status);
 PARAMETER(DB1.Shipping_Method);
 PARAMETER(DB1.Export_Status);
 PARAMETER(DB1.Palletize);
 PARAMETER(DB1.Shrink_Wrap);
 PARAMETER(DB1.Slip_Sheet);
 PARAMETER(DB1.Age_Code);
 PARAMETER(DB1.Reefer_Temperature);
 PARAMETER(DB1.Load_Type);
 PARAMETER(DB1.Attach_to_Invoice_Number);
 PARAMETER(DB1.Load_Plan_Order);
 PARAMETER(DB1.Print_Pick_Slip);
 PARAMETER(DB1.Resell_Reference_Number);
 PARAMETER(DB1.Special_Comment_1);
 PARAMETER(DB1.Special_Comment_2);
 PARAMETER(DB1.Affect_Auto_Accruals);
 PARAMETER(DB1.Sales_Route_Code);
 PARAMETER(DB1.Manager_Level_Code);
 PARAMETER(DB1.VP_Level_Code);
 PARAMETER(DB1.Attach_to_Order_Number);
 PARAMETER(DB1.Reason_for_Price_Audit);
 PARAMETER(DB1.Invoice_Number);
 PARAMETER(DB1.Invoice_Suffix);
 PARAMETER(DB1.Invoice_Date);
 PARAMETER(DB1.Event_Code);
 PARAMETER(DB1.Trans_Contol_AS400_Plant);
 PARAMETER(DB1.Modified_Flag);
 PARAMETER(DB1.A_R_order_Value_Total);
 PARAMETER(DB1.Billing_Activity_Type);
 PARAMETER(DB1.Block_Order_Flag);
 PARAMETER(DB1.Order_Certification_Flag);
 PARAMETER(DB1.Invoice_Order_Value_Tot);
 PARAMETER(DB1.Process_Sts_for_3C);
 PARAMETER(DB1.Order_Conf_Fax_Sts);
 PARAMETER(DB1.Manifest_Fax_Sts);
 PARAMETER(DB1.Invoice_Fax_Sts);
 PARAMETER(DB1.Transfer_in_Storage_Ind);
 PARAMETER(DB1.Email_Cust_On_Order_Ship);
 PARAMETER(DB1.Order_Emailed);
 PARAMETER(DB1.Export_Docs_Go_w_Driver);
 PARAMETER(DB1.Shipping_Temp_Code_C_F);
 PARAMETER(DB1.Broker_Order_Status);
 PARAMETER(DB1.Air_Freight_Order);
 PARAMETER(DB1.Order_Requires_Review);
 PARAMETER(DB1.OH_Load_Plan_Ready);
 PARAMETER(DB1.Export_USDA_Approved);
 PARAMETER(DB1.HPB_Ship_to_Warehouse);
 PARAMETER(DB1.OH_TF_Exempt_Code);
 PARAMETER(DB1.OH_Appt_Confirmation_Dt);
 PARAMETER(DB1.JPN_Invoice_Issuance_Date);
 PARAMETER(DB1.Load_Actual_Shipped_Date);
 PARAMETER(DB1.Load_BOL_Complete_Date);
 PARAMETER(DB1.Load_Truck_Departure_Date);
 PARAMETER(DB1.Maximum_Gross_Weight);
 PARAMETER(DB1.Time_of_Original_Entry);
 PARAMETER(DB1.OH_Appt_Confirmation_Tm);
 PARAMETER(DB1.Load_BOL_Complete_Time);
 PARAMETER(DB1.Load_Truck_Departure_Time);
 PARAMETER(DB1.Act_Frt_Reference_Amount);
 PARAMETER(DB1.Act_Non_Ref_Frt_Amount);
 PARAMETER(DB1.OH_Fuel_Surcharge_Amount);
 PARAMETER(DB1.OH_Total_Non_Ref_Frt_Amt);
 PARAMETER(DB1.OH_Total_Ref_Frt_Amt);
 PARAMETER(DB1.Claim_Number);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);

}


ENDIF;

