     H/TITLE EXC Invalid Pallet ID Pro Execute external functio
     H DATFMT(*YMD) DATEDIT(*YMD) DEBUG(*YES)
     Z* CRTBNDRPG
     Z* DFTACTGRP(*NO) BNDDIR(YBNDDIR) DBGVIEW(*SOURCE)
     Z* CVTOPT(*DATETIME) ACTGRP(*CALLER) OPTIMIZE(*BASIC)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by CA 2E release 8.7.1 (1635)
     H* Function type : Execute external function
     H* Object type   : *PGM
      *
     H* Company       : OMS Development Model
     H* System        : OMS Development Model
     H* User name     : ISJMIST
     H* Date          : 12/26/24  Time  : 02:54:04
     H* Copyright     : OMS Development Model
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FECP057L5  IF   E           K DISK
      * RSQ : EDI WHS Shipping Adv HDR  Srrrogate ERR Processed
      *
     FCADPREL1  IF   E           K DISK
      * RTV : System Values             Retrieval index       NV
      *
     FECP059L2  IF   E           K DISK
      * RSQ : EDI WHS Shipping Adv NAME Surrogate
      *
     FPNG0REL3  IF   E           K DISK
      * RSQ : EDI WHS Interchange       Interchg/Class/Duns#/Whs
      *
     FPVCKREL1  IF   E           K DISK
      * RTV : Trade Partner Control 3PL Retrieval index
      *
     FOPBFCPLO  IF   E           K DISK
      * RSQ : Order Header TRG          Ord-D/Co
      *
     FPMAMREL1  IF   E           K DISK
      * RTV : Order Header Extension    Retrieval index
      *
      * Long constants
     D @CN#            S              6    DIM(17)CTDATA PERRCD(1)
     D @CN             S             25    DIM(17) ALT(@CN#)
      /EJECT
      * Data structures:
     D PGMDS         ESDS                  EXTNAME(Y2PGDSP)
      * Modified Program data structure
     D JBDTTM          DS
      * Job date/time
     D  ##JDT                  1      7  0
     D  ##JCC                  1      1  0
     D  ##JYY                  2      3  0
     D  ##JMM                  4      5  0
     D  ##JDD                  6      7  0
     D  ##JTM                  8     13  0
     D  ##JHH                  8      9  0
     D  ##JNN                 10     11  0
     D  ##JSS                 12     13  0
     D YL0016          DS           500
      *
      * Declared stand-alone variables
     D  P0RTN          S              7
     D  W0ICL          S              1
     D  W0RTN          S              7
     D  W0RSL          S              1
     D  W0RSF          S              1
     D  W0RTW          S              9  0
     D  W0ENV          S              3
     D  ##TME          S              6  0
     D  YL0001         S             10
     D  YN0001         S             10
     D  YL0002         S              1
     D  YL0003         S              1
     D  YL0004         S             20
     D  WQSC01         S                   LIKE(WCH9NY)
     D  WQSC02         S                   LIKE(WCTYPC)
     D  YL0005         S              6
     D  WQSD01         S                   LIKE(WDM4AA)
     D  WQSD02         S                   LIKE(WDM7AA)
     D  WQSD03         S                   LIKE(WDX2T1)
     D  YL0006         S             30
     D  YL0007         S              1
     D  YL0008         S              1
     D  Y0CX01         S              1
     D  YL0009         S              7
     D  YL0010         S              7
     D  YL0011         S              3  0
     D  YN0002         S              7  0
     D  YN0003         S              2
     D  WQSF01         S                   LIKE(WFC4NB)
     D  YL0012         S              3
     D  YN0004         S              5  0
     D  YN0005         S              3
     D  YN0006         S             20
     D  YN0007         S             25
     D  YN0008         S             30
     D  YN0009         S             15
     D  YN0010         S             15
     D  YN0011         S             20
     D  YN0012         S              7  0
     D  YN0013         S              7  0
     D  YN0014         S              7  0
     D  YN0015         S              3
     D  YN0016         S              1
     D  YN0017         S             12
     D  YN0018         S             35
     D  YN0019         S             75
     D  YN0020         S             11  0
     D  YN0021         S             11  0
     D  YN0022         S             11  0
     D  YN0023         S             11  0
     D  YN0024         S             11  2
     D  YN0025         S             11  2
     D  YN0026         S             11  2
     D  YN0027         S              7  0
     D  YN0028         S              7  0
     D  YN0029         S              7  0
     D  YN0030         S              7  0
     D  YN0031         S              4
     D  YN0032         S              4
     D  YN0033         S              4
     D  YN0034         S              2
     D  YN0035         S              2
     D  YN0036         S              2
     D  YN0037         S              3
     D  YN0038         S              3
     D  YN0039         S              3
     D  YL0013         S              5
     D  YN0040         S              5
     D  YN0041         S              5  0
     D  YN0042         S             38
     D  YN0043         S              6
     D  YN0044         S              6
     D  YN0045         S              6
     D  YN0046         S              6
     D  YL0014         S              6
     D  YN0047         S              1
     D  YN0048         S              1
     D  YN0049         S             10
     D  YN0050         S             10
     D  YN0051         S             10
     D  YN0052         S             15
     D  YN0053         S             15
     D  YN0054         S             15
     D  YN0055         S             30
     D  YN0056         S             30
     D  YN0057         S             30
     D  YN0058         S             50
     D  YN0059         S             50
     D  YN0060         S              3  0
     D  YN0061         S              3  0
     D  YN0062         S              3  0
     D  YN0063         S              5  2
     D  YN0064         S              5  2
     D  YN0065         S              5  0
     D  YN0066         S              6  0
     D  YN0067         S              6  0
     D  YN0068         S              6  0
     D  YN0069         S              6  0
     D  YN0070         S              9  0
     D  YN0071         S              9  0
     D  YN0072         S              9  0
     D  YN0073         S              9  6
     D  YN0074         S             15
     D  YN0075         S              1
     D  YN0076         S              1
     D  YN0077         S              2
     D  YN0078         S              2
     D  YN0079         S              5
     D  YN0080         S              5
     D  YN0081         S             15
     D  YN0082         S             15
     D  YN0083         S             30
     D  YN0084         S              7  0
     D  YN0085         S              7  0
     D  YN0086         S              1
     D  YN0087         S              1
     D  YN0088         S              1
     D  YN0089         S              1
     D  YL0015         S             80
     D  ZQ             S              5  0
     D  WQ0001         S             50
     D  WQ0002         S             80
     D  WQ0003         S            500
     D  W0CLPG         S             10
     D  ZAPGMQ         S             10
     D  ZAPGRL         S              5
     D  ZAMSID         S              7
     D  ZAMSGF         S             10
     D  ZAMSTP         S              7
     D  YILE           S              1
     D  W0PMT          S              1
      /EJECT
      * Parameter declarations
     D P1PARM          DS           105
      * RCD: EDI WHS Shipping Adv HDR  Retrieval index
      * I :  EDI SURROGATE NUMBER
     D  P1H9NY                 1      5P 0
     D                 DS
     D  ZAMSDA                 1    132
     I@P057WA
      * EDI WHS Shipping Adv HDR  Srrrogate ERR Processed
      * Renamed input format fields
     I              G7H9NY                      WAH9NY
     I              G7MVST                      WAMVST
     I              G7T7NY                      WAT7NY
     I              G7T8DT                      WAT8DT
     I              G7T8NY                      WAT8NY
     I              G7X3T1                      WAX3T1
     I              G7TUNA                      WATUNA
     I              G7HKSC                      WAHKSC
     I              G7MXST                      WAMXST
     I              G7X4T1                      WAX4T1
     I              G7T9NY                      WAT9NY
     I              G7MGVL                      WAMGVL
     I              G7N3AA                      WAN3AA
     I              G7JKU1                      WAJKU1
     I              G7JLU1                      WAJLU1
     I              G7XZAA                      WAXZAA
     I              G7JMU1                      WAJMU1
     I              G7DQNZ                      WADQNZ
     I              G7G8SC                      WAG8SC
     I              G7A0ST                      WAA0ST
     I              G7WHAA                      WAWHAA
      *
     I@DPRETD
      * System Values             Retrieval index       NV
      * Renamed input format fields
     I              DPDOCD                      WBDOCD
     I              DPAUNA                      WBAUNA
     I              DPI5ST                      WBI5ST
     I              DPBXTX                      WBBXTX
     I              DPM8NB                      WBM8NB
     I              DPUVST                      WBUVST
     I              DPUWST                      WBUWST
     I              DPUXST                      WBUXST
     I              DPVSST                      WBVSST
     I              DPAATM                      WBAATM
     I              DPAYNA                      WBAYNA
     I              DPA0NA                      WBA0NA
     I              DPAXDT                      WBAXDT
      *
     I@P059DS
      * EDI WHS Shipping Adv NAME Surrogate
      * Renamed input format fields
     I              G8TYPC                      WCTYPC
     I              G8H9NY                      WCH9NY
     I              G8AMEX                      WCAMEX
     I              G8DCDQ                      WCDCDQ
     I              G8DCDE                      WCDCDE
      *
     I@G0REWE
      * EDI WHS Interchange       Interchg/Class/Duns#/Whs
      * Renamed input format fields
     I              G0AJCD                      WDAJCD
     I              G0M4AA                      WDM4AA
     I              G0M7AA                      WDM7AA
     I              G0J5NX                      WDJ5NX
     I              G0X2T1                      WDX2T1
     I              G0JBSC                      WDJBSC
     I              G0JCSC                      WDJCSC
     I              G0JDSC                      WDJDSC
     I              G0JESC                      WDJESC
     I              G0QGU1                      WDQGU1
     I              G0F5NZ                      WDF5NZ
     I              G0LSSC                      WDLSSC
     I              G0LTSC                      WDLTSC
     I              G0AHAB                      WDAHAB
     I              G0F6NZ                      WDF6NZ
     I              G0VSST                      WDVSST
     I              G0MJDT                      WDMJDT
     I              G0BETM                      WDBETM
     I              G0CCVN                      WDCCVN
     I              G0CDVN                      WDCDVN
     I              G0MKDT                      WDMKDT
     I              G0BFTM                      WDBFTM
     I              G0CEVN                      WDCEVN
     I              G0CFVN                      WDCFVN
      *
     I@CKREWD
      * Trade Partner Control 3PL Retrieval index
      * Renamed input format fields
     I              CKJ5NX                      WEJ5NX
     I              CKXWU1                      WEXWU1
     I              CKQJSC                      WEQJSC
     I              CKVSST                      WEVSST
     I              CKUVST                      WEUVST
     I              CKUWST                      WEUWST
     I              CKUXST                      WEUXST
     I              CKAATM                      WEAATM
     I              CKAYNA                      WEAYNA
     I              CKA0NA                      WEA0NA
     I              CKAXDT                      WEAXDT
      *
     I@BFCPY2
      * Order Header TRG          Ord-D/Co
      * Renamed input format fields
     I              BEAIC3                      WFAIC3
     I              BEC4NB                      WFC4NB
     I              BEJNCD                      WFJNCD
     I              BEANC7                      WFANC7
     I              BEBKC7                      WFBKC7
     I              BEBRTX                      WFBRTX
     I              BEHMNA                      WFHMNA
     I              BEHONA                      WFHONA
     I              BEHPNA                      WFHPNA
     I              BEHNNA                      WFHNNA
     I              BEDBCD                      WFDBCD
     I              BECKTX                      WFCKTX
     I              BEB0C7                      WFB0C7
     I              BEAETX                      WFAETX
     I              BEB1NA                      WFB1NA
     I              BEB3NA                      WFB3NA
     I              BEB4NA                      WFB4NA
     I              BEB2NA                      WFB2NA
     I              BEBHCD                      WFBHCD
     I              BEC8TX                      WFC8TX
     I              BEBCNA                      WFBCNA
     I              BEA0DT                      WFA0DT
     I              BEA5DT                      WFA5DT
     I              BEGNDT                      WFGNDT
     I              BEACDT                      WFACDT
     I              BEAQCD                      WFAQCD
     I              BEB6NA                      WFB6NA
     I              BEBYNA                      WFBYNA
     I              BEBZNA                      WFBZNA
     I              BEGTST                      WFGTST
     I              BEGVST                      WFGVST
     I              BEGUST                      WFGUST
     I              BEQFST                      WFQFST
     I              BECQCD                      WFCQCD
     I              BEGJST                      WFGJST
     I              BEGWST                      WFGWST
     I              BEGXST                      WFGXST
     I              BEGYST                      WFGYST
     I              BEAODT                      WFAODT
     I              BEAIVN                      WFAIVN
     I              BECXDT                      WFCXDT
     I              BEJZVA                      WFJZVA
     I              BEA1WG                      WFA1WG
     I              BEXIST                      WFXIST
     I              BEXJST                      WFXJST
     I              BEXKST                      WFXKST
     I              BEEIDT                      WFEIDT
     I              BEAFTM                      WFAFTM
     I              BEE8CD                      WFE8CD
     I              BEE9CD                      WFE9CD
     I              BERMNB                      WFRMNB
     I              BETBNB                      WFTBNB
     I              BER1NB                      WFR1NB
     I              BEPJST                      WFPJST
     I              BEU0ST                      WFU0ST
     I              BEU1ST                      WFU1ST
     I              BEQ2CD                      WFQ2CD
     I              BEU2ST                      WFU2ST
     I              BEVEST                      WFVEST
     I              BEVFST                      WFVFST
     I              BEVGST                      WFVGST
     I              BERPCD                      WFRPCD
     I              BERNNB                      WFRNNB
     I              BEVDST                      WFVDST
     I              BEATIN                      WFATIN
     I              BEU4ST                      WFU4ST
     I              BEU5ST                      WFU5ST
     I              BERSRN                      WFRSRN
     I              BEMHNA                      WFMHNA
     I              BEMINA                      WFMINA
     I              BEWBST                      WFWBST
     I              BER4CD                      WFR4CD
     I              BEBFCD                      WFBFCD
     I              BEQ4CD                      WFQ4CD
     I              BET3NB                      WFT3NB
     I              BESICD                      WFSICD
     I              BECONB                      WFCONB
     I              BECEST                      WFCEST
     I              BEAWDT                      WFAWDT
     I              BEJPCD                      WFJPCD
     I              BEXUST                      WFXUST
     I              BEZ1ST                      WFZ1ST
     I              BEVRVA                      WFVRVA
     I              BEOBST                      WFOBST
     I              BEBCST                      WFBCST
     I              BEBDST                      WFBDST
     I              BEB7VL                      WFB7VL
     I              BEGASX                      WFGASX
     I              BEGBSX                      WFGBSX
     I              BEGCSX                      WFGCSX
     I              BEGDSX                      WFGDSX
     I              BEFNSX                      WFFNSX
     I              BEFOSX                      WFFOSX
     I              BEFPSX                      WFFPSX
     I              BEFQSX                      WFFQSX
     I              BEFRSX                      WFFRSX
     I              BEFSSX                      WFFSSX
     I              BEFTSX                      WFFTSX
     I              BEFUSX                      WFFUSX
     I              BEFVSX                      WFFVSX
     I              BEFWSX                      WFFWSX
     I              BEFXSX                      WFFXSX
     I              BEFYSX                      WFFYSX
     I              BENODT                      WFNODT
     I              BENPDT                      WFNPDT
     I              BENQDT                      WFNQDT
     I              BENRDT                      WFNRDT
     I              BENSDT                      WFNSDT
     I              BEBPTM                      WFBPTM
     I              BEBQTM                      WFBQTM
     I              BEBRTM                      WFBRTM
     I              BEBSTM                      WFBSTM
     I              BEBTTM                      WFBTTM
     I              BEH0NX                      WFH0NX
     I              BEH1NX                      WFH1NX
     I              BEH2NX                      WFH2NX
     I              BEH3NX                      WFH3NX
     I              BEH4NX                      WFH4NX
     I              BEC0C7                      WFC0C7
     I              BEUVST                      WFUVST
     I              BEUWST                      WFUWST
     I              BEUXST                      WFUXST
     I              BEAATM                      WFAATM
     I              BEAYNA                      WFAYNA
     I              BEA0NA                      WFA0NA
     I              BEAXDT                      WFAXDT
      *
     I@AMREJF
      * Order Header Extension    Retrieval index
      * Renamed input format fields
     I              AMAIC3                      WGAIC3
     I              AMC4NB                      WGC4NB
     I              AMRMNB                      WGRMNB
     I              AMRUNB                      WGRUNB
     I              AMXACD                      WGXACD
     I              AMOANA                      WGOANA
     I              AMHBAA                      WGHBAA
     I              AMJ0T1                      WGJ0T1
     I              AMGENY                      WGGENY
     I              AMJ1T1                      WGJ1T1
     I              AMHCAA                      WGHCAA
     I              AMQWDT                      WGQWDT
     I              AMQXDT                      WGQXDT
     I              AMQYDT                      WGQYDT
     I              AMHDAA                      WGHDAA
     I              AMCCTX                      WGCCTX
     I              AMJ2T1                      WGJ2T1
     I              AMRLNA                      WGRLNA
     I              AMRMNA                      WGRMNA
     I              AMGINY                      WGGINY
     I              AMGFNY                      WGGFNY
     I              AMGGNY                      WGGGNY
     I              AMGHNY                      WGGHNY
     I              AMHEVL                      WGHEVL
     I              AMHFVL                      WGHFVL
     I              AMHGVL                      WGHGVL
     I              AMQZDT                      WGQZDT
     I              AMQ0DT                      WGQ0DT
     I              AMQ1DT                      WGQ1DT
     I              AMQ2DT                      WGQ2DT
     I              AMC2TX                      WGC2TX
     I              AMC3TX                      WGC3TX
     I              AMC6TX                      WGC6TX
     I              AMCHTX                      WGCHTX
     I              AMCITX                      WGCITX
     I              AMCLTX                      WGCLTX
     I              AMB4TX                      WGB4TX
     I              AMCUTX                      WGCUTX
     I              AMCVTX                      WGCVTX
     I              AMB9TX                      WGB9TX
     I              AMJWSC                      WGJWSC
     I              AMITNY                      WGITNY
     I              AMLMT1                      WGLMT1
     I              AMLWAA                      WGLWAA
     I              AMFVST                      WGFVST
     I              AMF0ST                      WGF0ST
     I              AMF2ST                      WGF2ST
     I              AMF3ST                      WGF3ST
     I              AMJUSC                      WGJUSC
     I              AMJVSC                      WGJVSC
     I              AMV3T1                      WGV3T1
     I              AMV4T1                      WGV4T1
     I              AMV5T1                      WGV5T1
     I              AMV6T1                      WGV6T1
     I              AMV7T1                      WGV7T1
     I              AMV8T1                      WGV8T1
     I              AMV9T1                      WGV9T1
     I              AMWAT1                      WGWAT1
     I              AMWBT1                      WGWBT1
     I              AMWCT1                      WGWCT1
     I              AMWDT1                      WGWDT1
     I              AMQJNY                      WGQJNY
     I              AMQKNY                      WGQKNY
     I              AMQLNY                      WGQLNY
     I              AMP8NY                      WGP8NY
     I              AMP9NY                      WGP9NY
     I              AMQANY                      WGQANY
     I              AMQCNY                      WGQCNY
     I              AMQDNY                      WGQDNY
     I              AMQENY                      WGQENY
     I              AMQFNY                      WGQFNY
     I              AMQGNY                      WGQGNY
     I              AMQHNY                      WGQHNY
     I              AMQINY                      WGQINY
     I              AMQMNY                      WGQMNY
     I              AMMYU1                      WGMYU1
     I              AMJXSC                      WGJXSC
     I              AMJYSC                      WGJYSC
     I              AMJZSC                      WGJZSC
     I              AMJ0SC                      WGJ0SC
     I              AMMZU1                      WGMZU1
     I              AMM0U1                      WGM0U1
     I              AMM1U1                      WGM1U1
     I              AMM2U1                      WGM2U1
     I              AMM3U1                      WGM3U1
     I              AMW5DT                      WGW5DT
     I              AMW6DT                      WGW6DT
     I              AMUVST                      WGUVST
     I              AMUWST                      WGUWST
     I              AMUXST                      WGUXST
     I              AMVSST                      WGVSST
     I              AMAATM                      WGAATM
     I              AMAYNA                      WGAYNA
     I              AMA0NA                      WGA0NA
     I              AMAXDT                      WGAXDT
      *
      /EJECT
      *****************************************************************
      * Entry parameters
     C     *ENTRY        PLIST
     C                   PARM                    P0RTN
     C                   PARM                    P1PARM                         RCD: EDI WHS Sh
      *****************************************************************
      * Initialize
     C                   EXSR      ZZINIT
      *
      * EXC Pro Invalid Pallet XF
      * RTV Select processed   RT - EDI WHS Shipping Adv HDR  * 
     C                   EXSR      SARVGN
      *----------------------------------------------------------------
      * Exit program
     C     AAEXIT        TAG
     C                   EVAL      P0RTN = ' '
     C                   EXSR      ZYEXPG
      *================================================================
      /EJECT
     CSR   SARVGN        BEGSR
      *================================================================
      * RTV Select processed   RT - EDI WHS Shipping Adv HDR  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * USER: Initialize routine
      * RTV Data Libraries     RT - System Values  * In TEST or PROD
     C                   EXSR      SBRVGN
     C                   MOVEL     'Y'           YL0002                         First Time Thro
     C                   MOVEL     'N'           YL0003                         Send Email USR
      * Define keylist
     C     KPSSA         KLIST
     C                   KFLD                    WAH9NY                         EDI SURROGATE N
      * Setup key
     C                   Z-ADD     P1H9NY        WAH9NY                         EDI SURROGATE N
      * Establish starting position
     C     KPSSA         SETLL     @P057WA                                      *
     C                   READ      @P057WA                                90    *
      * Data record not found
     C   90              MOVEL     'USR4424'     W0RTN
      * USER: Process Data record
      * RTV Get WHS Duns NumberRT - EDI WHS Shipping Adv NAME  * 
     C                   DOW       NOT *IN90
     C                   EXSR      SCRVGN
      * RTV Get EDT Trad PartneRT - EDI WHS Interchange  * 
     C                   EXSR      SDRVGN
      * RTV Get SSCC Pallet ID RT - Trade Partner Control 3PL  * 
     C                   EXSR      SERVGN
      * CASE:
      *  - c1 AND c2
      *   |- c1    : LCL.Check SSCC Pallet ID is Yes
      *   |- c2    : LCL.Record Status is Active
      *   '-
     C                   MOVEL     '0'           Y0CX01
     C                   IF        YL0007 = 'Y'
     C                   IF        YL0008 = 'A'
     C                   MOVEL     '1'           Y0CX01
     C                   END                                                    *FI
     C                   END                                                    *FI
      * CASE: LCL.EDI Trading Partner No is NorAm
     C                   IF        Y0CX01 = '1'
      * Get order & company
      * CASE: *OTHERWISE
     C                   IF        YL0005 = 'NORAM'
     C                   MOVEL     WAT8NY        YL0009                         Load ID Alpha U
     C                   MOVEL     WAT7NY        YL0010                         Order Number Al
      * Rtv Co and Load       RT - Order Header TRG  * 
     C                   EXSR      SFRVGN
      * CASE:
      *  - c1 OR c2 OR c3
      *   |- c1    : LCL.Company Number is Guymon
      *   |- c2    : LCL.Company Number is Sioux City
      *   |- c3    : LCL.Company Number is St. Joseph
      *   '-
     C                   IF        YL0011 = 360 OR
     C                             YL0011 = 440 OR
     C                             YL0011 = 960
     C                   EVAL      YL0012 = ' '                                 Company Number
     C                   MOVEL     YL0011        YL0012                         Company Number
      * Rtv All fields        RT - Order Header Extension  * 
     C                   EXSR      SGRVGN
     C                   ELSE
      * CASE: *OTHERWISE
     C                   MOVEL     '000'         YL0012                         Company Number
     C                   END                                                    *FI
      * CASE:
      *  - c1 AND c2 AND c3
      *   |- c1    : LCL.Company Number Alpha is Not Zero
      *   |- c2    : LCL.OHE EDI Error Reasons is Invalid Pallet SSCID
      *   |- c3    : LCL.OHE EDI 945 Action is Received
      *   '-
     C                   MOVEL     '0'           Y0CX01
     C                   IF        YL0012 <> '000'
     C                   IF        YL0013 = 'SSCID'
     C                   IF        YL0014 = 'R'
     C                   MOVEL     '1'           Y0CX01
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   END                                                    *FI
      * Format Email Data.
      * CASE: LCL.First Time Through USR is Yes
     C                   IF        Y0CX01 = '1'
     C                   IF        YL0002 = 'Y'
     C                   MOVEL     'N'           YL0002                         First Time Thro
     C                   MOVEL     'Y'           YL0003                         Send Email USR
      * Format Email Subject Line.
      * CASE: *OTHERWISE
     C                   Z-ADD     1             ZQ
     C     @CN(003)      CAT(P)    @CN(004):ZQ   YL0015                         Email Subject 2
      * If Not PROD Then Append 'TEST' to Email Subject Line.
      * CASE: LCL.Library List Code is Not PRKFLIB
     C                   IF        YL0001 <> @CN(005)
     C                   Z-ADD     1             ZQ
     C     YL0015        CAT(P)    @CN(006):ZQ   YL0015                         Email Subject 2
     C                   END                                                    *FI
      * Format Email Message.
      * CASE: *OTHERWISE
     C                   Z-ADD     0             ZQ
     C     YL0016        CAT(P)    @CN(007):ZQ   YL0016                         Email Message 2
      * Force New Line.
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    '&N':ZQ       YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    @CN(008):ZQ   YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    @CN(009):ZQ   YL0016                         Email Message 2
     C                   Z-ADD     0             ZQ
     C     YL0016        CAT(P)    @CN(010):ZQ   YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    @CN(011):ZQ   YL0016                         Email Message 2
     C                   Z-ADD     0             ZQ
     C     YL0016        CAT(P)    @CN(012):ZQ   YL0016                         Email Message 2
      * Force New Line.
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    '&N':ZQ       YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    @CN(013):ZQ   YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    @CN(014):ZQ   YL0016                         Email Message 2
     C                   Z-ADD     0             ZQ
     C     YL0016        CAT(P)    @CN(015):ZQ   YL0016                         Email Message 2
     C                   Z-ADD     0             ZQ
     C     YL0016        CAT(P)    'ion.':ZQ     YL0016                         Email Message 2
      * Force New Line.Co/Load/Order.
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    '&N':ZQ       YL0016                         Email Message 2
      * Force New Line.
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    '&N':ZQ       YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    @CN(016):ZQ   YL0016                         Email Message 2
      * Force New Line.Co/Load/Order.
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    '&N':ZQ       YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    @CN(017):ZQ   YL0016                         Email Message 2
      * Force New Line.Co/Load/Order.
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    '&N':ZQ       YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    YL0012:ZQ     YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    '/':ZQ        YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    YL0009:ZQ     YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    '/':ZQ        YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    YL0010:ZQ     YL0016                         Email Message 2
     C                   ELSE
      * CASE: *OTHERWISE
      * Append additional Load/Order
      * CASE: *OTHERWISE
      * Force New Line.Co/Load/Order.
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    '&N':ZQ       YL0016                         Email Message 2
     C                   Z-ADD     1             ZQ
     C     YL0016        CAT(P)    YL0012:ZQ     YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    '/':ZQ        YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    YL0009:ZQ     YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    '/':ZQ        YL0016                         Email Message 2
     C                   Z-ADD     *ZERO         ZQ
     C     YL0016        CAT(P)    YL0010:ZQ     YL0016                         Email Message 2
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   READ      @P057WA                                90    *
     C                   ENDDO
      * USER: Exit processing
      * CASE: LCL.Send Email USR is Yes
      * Exc ESNDMAIL Generic2 CL - /UT User Programs  * 
     C                   IF        YL0003 = 'Y'
     C                   CALL      'PUX2UPC'                            90      Exc ESNDMAIL Ge
     C                   PARM      YL0006        WQ0001                         Email Address
     C                   PARM      YL0015        WQ0002                         Email Subject 2
     C                   PARM      YL0016        WQ0003                         Email Message 2
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'PUX2UPC'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   SETON                                        99        *
     C                   END
     C                   END                                                    *FI
      *================================================================
     CSR   SAEXIT        ENDSR
      /EJECT
     CSR   SBRVGN        BEGSR
      *================================================================
      * RTV Data Libraries     RT - System Values  * In TEST or PROD
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Define keylist
     C     KPSSB         KLIST
     C                   KFLD                    WBDOCD                         System Value Co
      * Setup key
     C                   EVALR     WBDOCD = ' '                                 System Value Co
     C                   MOVEL     'DTALIB'      WBDOCD                         System Value Co
      * Establish starting position
     C     KPSSB         SETLL     @DPRETD                                      *
     C                   READ      @DPRETD                                90    *
      * Data record not found
     C   90              MOVEL     'USR0759'     W0RTN
      * USER: Process Data record
      * CASE: DB1.System Value Code is Data File Library
     C                   DOW       NOT *IN90
     C                   IF        WBDOCD = @CN(001)
     C                   MOVEL     WBBXTX        YL0001                         Library List Co
     C                   ELSE
      * CASE: DB1.System Value Code is History File Library
     C                   IF        WBDOCD = @CN(002)
     C                   MOVEL     WBBXTX        YN0001                         @Library List C
     C                   GOTO      SBEXIT                                       *QUIT
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   READ      @DPRETD                                90    *
     C                   ENDDO
      *================================================================
     CSR   SBEXIT        ENDSR
      /EJECT
     CSR   SCRVGN        BEGSR
      *================================================================
      * RTV Get WHS Duns NumberRT - EDI WHS Shipping Adv NAME  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * USER: Initialize routine
      * PAR = CON By name
     C                   EVAL      YL0004 = ' '                                 N104-ID CODE
      * Declare restrictor key work fields
      * Define keylist
     C     KRSSC         KLIST
     C                   KFLD                    WQSC01                         EDI SURROGATE N
     C                   KFLD                    WQSC02                         N101-NAME TYPE
      * Setup key
     C                   Z-ADD     WAH9NY        WQSC01                         EDI SURROGATE N
     C                   EVALR     WQSC02 = ' '                                 N101-NAME TYPE
     C                   MOVEL     'WH'          WQSC02                         N101-NAME TYPE
      * Establish starting position
     C     KRSSC         SETLL     @P059DS                                      *
     C     KRSSC         READE     @P059DS                                90    *
      * Data record not found
     C   90              MOVEL     'USR4426'     W0RTN
      * USER: Process Data record
      * PAR = DB1 By name
     C                   DOW       NOT *IN90
     C                   MOVEL     WCDCDE        YL0004                         N104-ID CODE
     C     KRSSC         READE     @P059DS                                90    *
     C                   ENDDO
      *================================================================
     CSR   SCEXIT        ENDSR
      /EJECT
     CSR   SDRVGN        BEGSR
      *================================================================
      * RTV Get EDT Trad PartneRT - EDI WHS Interchange  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * USER: Initialize routine
      * PAR = CON By name
     C                   EVAL      YL0005 = ' '                                 EDI Trading Par
      * Declare restrictor key work fields
      * Define keylist
     C     KRSSD         KLIST
     C                   KFLD                    WQSD01                         Interchange Cod
     C                   KFLD                    WQSD02                         Class Code
     C                   KFLD                    WQSD03                         EDI Whs Duns Nu
      * Setup key
     C                   MOVEL     'WHSADV'      WQSD01                         Interchange Cod
     C                   MOVEL     '945'         WQSD02                         Class Code
     C                   MOVEL     YL0004        WQSD03                         EDI Whs Duns Nu
      * Establish starting position
     C     KRSSD         SETLL     @G0REWE                                      *
     C     KRSSD         READE     @G0REWE                                90    *
      * Data record not found
     C   90              MOVEL     'USR4409'     W0RTN
      * USER: Process Data record
      * PAR = DB1 By name
     C                   DOW       NOT *IN90
     C                   MOVEL     WDJ5NX        YL0005                         EDI Trading Par
     C                   GOTO      SDEXIT                                       *QUIT
     C     KRSSD         READE     @G0REWE                                90    *
     C                   ENDDO
      *================================================================
     CSR   SDEXIT        ENDSR
      /EJECT
     CSR   SERVGN        BEGSR
      *================================================================
      * RTV Get SSCC Pallet ID RT - Trade Partner Control 3PL  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * USER: Initialize routine
      * PAR = CON By name
     C                   EVAL      YL0006 = ' '                                 ESEND Distribut
     C                   EVAL      YL0007 = ' '                                 Check SSCC Pall
     C                   EVAL      YL0008 = ' '                                 Record Status
      * Define keylist
     C     KRSSE         KLIST
     C                   KFLD                    WEJ5NX                         EDI Trading Par
      * Setup key
     C                   MOVEL     YL0005        WEJ5NX                         EDI Trading Par
      * Establish starting position
     C     KRSSE         CHAIN     @CKREWD                            90        *
      * Data record not found
     C   90              MOVEL     'USR5507'     W0RTN
      * USER: Process Data record
      * PAR = DB1 By name
     C                   IF        NOT *IN90
     C                   MOVEL     WEXWU1        YL0006                         ESEND Distribut
     C                   MOVEL     WEQJSC        YL0007                         Check SSCC Pall
     C                   MOVEL     WEVSST        YL0008                         Record Status
     C                   ENDIF
      *================================================================
     CSR   SEEXIT        ENDSR
      /EJECT
     CSR   SFRVGN        BEGSR
      *================================================================
      * Rtv Co and Load       RT - Order Header TRG  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Declare restrictor key work fields
      * Define keylist
     C     KRSSF         KLIST
     C                   KFLD                    WQSF01                         Order Number
      * Setup key
     C                   Z-ADD     WAT7NY        WQSF01                         Order Number
      * Establish starting position
     C     KRSSF         SETLL     @BFCPY2                                      *
     C     KRSSF         READE     @BFCPY2                                90    *
      * Data record not found
     C                   IF        *IN90
     C                   MOVEL     'USR0176'     W0RTN
      * USER: Processing if Data record not found
      * PAR = CON By name
     C                   Z-ADD     *ZERO         YL0011                         Company Number
     C                   GOTO      SFEXIT
     C                   ENDIF
      *
      * USER: Process Data record
      * PAR = DB1 By name
     C                   DOW       NOT *IN90
     C                   Z-ADD     WFAIC3        YL0011                         Company Number
     C     KRSSF         READE     @BFCPY2                                90    *
     C                   ENDDO
      *================================================================
     CSR   SFEXIT        ENDSR
      /EJECT
     CSR   SGRVGN        BEGSR
      *================================================================
      * Rtv All fields        RT - Order Header Extension  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Define keylist
     C     KRSSG         KLIST
     C                   KFLD                    WGAIC3                         Company Number
     C                   KFLD                    WGC4NB                         Order Number
      * Setup key
     C                   Z-ADD     YL0011        WGAIC3                         Company Number
     C                   Z-ADD     WAT7NY        WGC4NB                         Order Number
      * Establish starting position
     C     KRSSG         CHAIN     @AMREJF                            90        *
      * Data record not found
     C                   IF        *IN90
     C                   MOVEL     'USR3697'     W0RTN
      * USER: Processing if Data record not found
      * PAR = CON By name
     C                   EVAL      YL0013 = ' '                                 OHE EDI Error R
     C                   EVAL      YL0014 = ' '                                 OHE EDI 945 Act
     C                   GOTO      SGEXIT
     C                   ENDIF
      *
      * USER: Process Data record
      * PAR = DB1 By name
     C                   IF        NOT *IN90
     C                   MOVEL     WGB9TX        YL0013                         OHE EDI Error R
     C                   MOVEL     WGF3ST        YL0014                         OHE EDI 945 Act
     C                   ENDIF
      *================================================================
     CSR   SGEXIT        ENDSR
      /EJECT
     CSR   ZASNMS        BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C                   IF        ZAPGMQ = ' '
     C                   MOVEL     ##PGM         ZAPGMQ
     C                   END
     C                   CALL      'Y2SNMGC'
     C                   PARM                    ZAPGMQ                         Program queue
     C                   PARM                    ZAPGRL                         Rel queue
     C                   PARM                    ZAMSID                         Message ID
     C                   PARM                    ZAMSGF                         Message file
     C                   PARM                    ZAMSDA                         Message data
     C                   PARM                    ZAMSTP                         Message type
     C                   PARM      'Y'           YILE
      * Clear all fields for default mechanism next time
     C                   EVAL      ZAPGMQ = ' '
     C                   EVAL      ZAPGRL = ' '
     C                   EVAL      ZAMSID = ' '
     C                   EVAL      ZAMSGF = ' '
     C                   EVAL      ZAMSDA = ' '
     C                   EVAL      ZAMSTP = ' '
      *================================================================
     CSR   ZAEXIT        ENDSR
      /EJECT
     CSR   ZXEXPG        BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                   EXSR      ZYEXPG
      *================================================================
     CSR   ZXEXIT        ENDSR
      /EJECT
     CSR   ZYEXPG        BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                   SETON                                        LR
      *
      * Exit program
     C                   RETURN
      *
      *================================================================
     CSR   ZYEXIT        ENDSR
      /EJECT
     CSR   ZZINIT        BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C                   IF        W0ICL = ' '
     C                   MOVEL     'Y'           W0ICL                          *Initial call
     C                   ELSE
     C                   MOVEL     'N'           W0ICL
     C                   END
     C                   EVALR     P0RTN = ' '
     C                   EVALR     W0RTN = ' '
     C                   EVAL      W0RSL = ' '
     C                   EVAL      W0RSF = ' '
     C                   MOVEL     *ZEROS        W0RTW
     C                   MOVEL     '400'         W0ENV
      *
      *
      * Retrieve job attributes
     C                   CALL      'Y2RTJCR'
     C                   PARM                    PGMDS
      * Setup job date/time
     C                   Z-ADD     ##SD7         ##JDT
     C                   TIME                    ##JTM
      * Update screen time
     C                   TIME                    ##TME
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WAH9NY                         EDI SURROGATE N
     C                   Z-ADD     *ZERO         WAT7NY                         W0602 Depositor
     C                   Z-ADD     *ZERO         WAT8NY                         W0604 Shipment
     C                   Z-ADD     *ZERO         WAT9NY                         W0301 Quantity
     C                   Z-ADD     *ZERO         WAMGVL                         W0302 Weight Sh
     C                   Z-ADD     *ZERO         WADQNZ                         W1002 Nbr Palle
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WBM8NB                         System Value Nu
     C                   Z-ADD     *ZERO         WBAATM                         Job Time
     C                   Z-ADD     *ZERO         WBAXDT                         Job Date
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WCH9NY                         EDI SURROGATE N
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WDF5NZ                         EDI Company # 9
     C                   Z-ADD     *ZERO         WDF6NZ                         Hold til ship w
     C                   Z-ADD     *ZERO         WDMJDT                         Create Date
     C                   Z-ADD     *ZERO         WDBETM                         Create Time
     C                   Z-ADD     *ZERO         WDMKDT                         Change Date
     C                   Z-ADD     *ZERO         WDBFTM                         Change Time
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WEAATM                         Job Time
     C                   Z-ADD     *ZERO         WEAXDT                         Job Date
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WFAIC3                         Company Number
     C                   Z-ADD     *ZERO         WFC4NB                         Order Number
     C                   Z-ADD     *ZERO         WFANC7                         AR Customer Num
     C                   Z-ADD     *ZERO         WFBKC7                         Ship To Custome
     C                   Z-ADD     *ZERO         WFB0C7                         Bill to Custome
     C                   Z-ADD     *ZERO         WFA0DT                         Order Date
     C                   Z-ADD     *ZERO         WFA5DT                         Requested Ship
     C                   Z-ADD     *ZERO         WFGNDT                         Actual Shipped
     C                   Z-ADD     *ZERO         WFACDT                         Cancel Date
     C                   Z-ADD     *ZERO         WFAODT                         Scheduled Ship
     C                   Z-ADD     *ZERO         WFCXDT                         Date of Origina
     C                   Z-ADD     *ZERO         WFJZVA                         Order Value Tot
     C                   Z-ADD     *ZERO         WFA1WG                         Order Weight To
     C                   Z-ADD     *ZERO         WFEIDT                         Requested Deliv
     C                   Z-ADD     *ZERO         WFAFTM                         Requested Deliv
     C                   Z-ADD     *ZERO         WFRMNB                         Load ID
     C                   Z-ADD     *ZERO         WFTBNB                         Absorbed Freigh
     C                   Z-ADD     *ZERO         WFR1NB                         Rated Freight
     C                   Z-ADD     *ZERO         WFRNNB                         Reefer Temperat
     C                   Z-ADD     *ZERO         WFATIN                         Attach to Invoi
     C                   Z-ADD     *ZERO         WFRSRN                         Resell Referenc
     C                   Z-ADD     *ZERO         WFT3NB                         Attach to Order
     C                   Z-ADD     *ZERO         WFCONB                         Invoice Number
     C                   Z-ADD     *ZERO         WFAWDT                         Invoice Date
     C                   Z-ADD     *ZERO         WFVRVA                         A_R order Value
     C                   Z-ADD     *ZERO         WFB7VL                         Invoice Order V
     C                   Z-ADD     *ZERO         WFNODT                         OH Appt Confirm
     C                   Z-ADD     *ZERO         WFNPDT                         JPN Invoice Iss
     C                   Z-ADD     *ZERO         WFNQDT                         Load Actual Shi
     C                   Z-ADD     *ZERO         WFNRDT                         Load BOL Comple
     C                   Z-ADD     *ZERO         WFNSDT                         Load Truck Depa
     C                   Z-ADD     *ZERO         WFBPTM                         Maximum Gross W
     C                   Z-ADD     *ZERO         WFBQTM                         Time of Origina
     C                   Z-ADD     *ZERO         WFBRTM                         OH Appt Confirm
     C                   Z-ADD     *ZERO         WFBSTM                         Load BOL Comple
     C                   Z-ADD     *ZERO         WFBTTM                         Load Truck Depa
     C                   Z-ADD     *ZERO         WFH0NX                         Act Frt Referen
     C                   Z-ADD     *ZERO         WFH1NX                         Act Non_Ref Frt
     C                   Z-ADD     *ZERO         WFH2NX                         OH Fuel Surchar
     C                   Z-ADD     *ZERO         WFH3NX                         OH Total Non_Re
     C                   Z-ADD     *ZERO         WFH4NX                         OH Total Ref Fr
     C                   Z-ADD     *ZERO         WFC0C7                         Claim Number
     C                   Z-ADD     *ZERO         WFAATM                         Job Time
     C                   Z-ADD     *ZERO         WFAXDT                         Job Date
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WGAIC3                         Company Number
     C                   Z-ADD     *ZERO         WGC4NB                         Order Number
     C                   Z-ADD     *ZERO         WGRMNB                         Load ID
     C                   Z-ADD     *ZERO         WGRUNB                         Stop_Drop Seque
     C                   Z-ADD     *ZERO         WGQWDT                         OHE Sail_Flight
     C                   Z-ADD     *ZERO         WGQXDT                         OHE Port Cut Da
     C                   Z-ADD     *ZERO         WGQYDT                         OHE Arrival Dat
     C                   Z-ADD     *ZERO         WGGINY                         OHE Unused Numb
     C                   Z-ADD     *ZERO         WGGFNY                         OHE Unused Numb
     C                   Z-ADD     *ZERO         WGGGNY                         OHE Unused Numb
     C                   Z-ADD     *ZERO         WGGHNY                         OHE Unused Numb
     C                   Z-ADD     *ZERO         WGHEVL                         OHE HPB RIN Equ
     C                   Z-ADD     *ZERO         WGHFVL                         OHE HPB RIN Pri
     C                   Z-ADD     *ZERO         WGHGVL                         Transload Termi
     C                   Z-ADD     *ZERO         WGQZDT                         OHE Est Arrv at
     C                   Z-ADD     *ZERO         WGQ0DT                         OHE Backhaul ET
     C                   Z-ADD     *ZERO         WGQ1DT                         OHE Port_Pier P
     C                   Z-ADD     *ZERO         WGQ2DT                         OHE Actual Ship
     C                   Z-ADD     *ZERO         WGITNY                         HPB COA Batch N
     C                   Z-ADD     *ZERO         WGQJNY                         OHE Backhaul Re
     C                   Z-ADD     *ZERO         WGQKNY                         LD Stop_Drop
     C                   Z-ADD     *ZERO         WGQLNY                         OHE Unused Numb
     C                   Z-ADD     *ZERO         WGP8NY                         OHE Pier Pass F
     C                   Z-ADD     *ZERO         WGP9NY                         OHE Port Check
     C                   Z-ADD     *ZERO         WGQANY                         OHE Port Cut Ti
     C                   Z-ADD     *ZERO         WGQCNY                         OHE Backhaul Tr
     C                   Z-ADD     *ZERO         WGQDNY                         OHE Load Sched
     C                   Z-ADD     *ZERO         WGQENY                         Original Appoin
     C                   Z-ADD     *ZERO         WGQFNY                         Original Appoin
     C                   Z-ADD     *ZERO         WGQGNY                         OHE PowerPro Lo
     C                   Z-ADD     *ZERO         WGQHNY                         OHE PowerPro Lo
     C                   Z-ADD     *ZERO         WGQINY                         OHE Unused Nume
     C                   Z-ADD     *ZERO         WGQMNY                         OHE Orig ABS Fr
     C                   Z-ADD     *ZERO         WGW5DT                         OHE Unused Date
     C                   Z-ADD     *ZERO         WGW6DT                         OHE Unused Date
     C                   Z-ADD     *ZERO         WGAATM                         Job Time
     C                   Z-ADD     *ZERO         WGAXDT                         Job Date
      * Dummy move for compiler
     C                   MOVE      '0'           @CN#(1)
     C                   MOVEL     @CN(1)        @CN(1)
     C                   MOVEL     'N'           W0PMT
      * Define local work field Library List Code
     C                   EVAL      YL0001 = ' '
      * Define null work field @Library List Code
     C                   EVAL      YN0001 = ' '
      * Define local work field First Time Through USR
     C                   EVAL      YL0002 = ' '
      * Define local work field Send Email USR
     C                   EVAL      YL0003 = ' '
      * Define local work field EDI Whs Duns Number
     C                   EVAL      YL0004 = ' '
      * Define local work field EDI Trading Partner No
     C                   EVAL      YL0005 = ' '
      * Define local work field ESEND Distribution List
     C                   EVAL      YL0006 = ' '
      * Define local work field Check SSCC Pallet ID
     C                   EVAL      YL0007 = ' '
      * Define local work field Record Status
     C                   EVAL      YL0008 = ' '
      * Define local work field Load ID Alpha USR
     C                   EVAL      YL0009 = ' '
      * Define local work field Order Number Alpha
     C                   EVAL      YL0010 = ' '
      * Define local work field Company Number
     C                   Z-ADD     *ZERO         YL0011
      * Define null work field Load ID
     C                   Z-ADD     *ZERO         YN0002
      * Define null work field Event Code
     C                   EVAL      YN0003 = ' '
      * Define local work field Company Number Alpha
     C                   EVAL      YL0012 = ' '
      * Define null work field Stop_Drop Sequence Number
     C                   Z-ADD     *ZERO         YN0004
      * Define null work field Shipping Line
     C                   EVAL      YN0005 = ' '
      * Define null work field Port Delv Terminal
     C                   EVAL      YN0006 = ' '
      * Define null work field OHE City
     C                   EVAL      YN0007 = ' '
      * Define null work field OHE Vessel_Airline
     C                   EVAL      YN0008 = ' '
      * Define null work field OHE Voyage_Flight
     C                   EVAL      YN0009 = ' '
      * Define null work field OHE Booking Number
     C                   EVAL      YN0010 = ' '
      * Define null work field OHE Discharge Port_Airprt
     C                   EVAL      YN0011 = ' '
      * Define null work field OHE Sail_Flight Date
     C                   Z-ADD     *ZERO         YN0012
      * Define null work field OHE Port Cut Date
     C                   Z-ADD     *ZERO         YN0013
      * Define null work field OHE Arrival Date
     C                   Z-ADD     *ZERO         YN0014
      * Define null work field OHE Late Delivery Code
     C                   EVAL      YN0015 = ' '
      * Define null work field OHE Ship Status
     C                   EVAL      YN0016 = ' '
      * Define null work field OHE Container Number
     C                   EVAL      YN0017 = ' '
      * Define null work field OHE Comment 1
     C                   EVAL      YN0018 = ' '
      * Define null work field OHE Comment 2
     C                   EVAL      YN0019 = ' '
      * Define null work field OHE Unused Number 1_11_0
     C                   Z-ADD     *ZERO         YN0020
      * Define null work field OHE Unused Number 2_11_0
     C                   Z-ADD     *ZERO         YN0021
      * Define null work field OHE Unused Number 3_11_0
     C                   Z-ADD     *ZERO         YN0022
      * Define null work field OHE Unused Number 4_11_0
     C                   Z-ADD     *ZERO         YN0023
      * Define null work field OHE HPB RIN Equiv Value
     C                   Z-ADD     *ZERO         YN0024
      * Define null work field OHE HPB RIN Price
     C                   Z-ADD     *ZERO         YN0025
      * Define null work field Transload Terminal Fees
     C                   Z-ADD     *ZERO         YN0026
      * Define null work field OHE Est Arrv at Dest Date
     C                   Z-ADD     *ZERO         YN0027
      * Define null work field OHE Backhaul ETA RtrnDate
     C                   Z-ADD     *ZERO         YN0028
      * Define null work field OHE Port_Pier Paid Date
     C                   Z-ADD     *ZERO         YN0029
      * Define null work field OHE Actual Ship Date
     C                   Z-ADD     *ZERO         YN0030
      * Define null work field OHE Carrier SCAC Code
     C                   EVAL      YN0031 = ' '
      * Define null work field OHE Spot Buy
     C                   EVAL      YN0032 = ' '
      * Define null work field OHE PO ACK Flag
     C                   EVAL      YN0033 = ' '
      * Define null work field OHE Override Type Code
     C                   EVAL      YN0034 = ' '
      * Define null work field OHE Backhaul Status
     C                   EVAL      YN0035 = ' '
      * Define null work field OHE Backhaul ETA AM_PM
     C                   EVAL      YN0036 = ' '
      * Define null work field OHE Load Haul Type
     C                   EVAL      YN0037 = ' '
      * Define null work field OHE Backhaul Carrier Code
     C                   EVAL      YN0038 = ' '
      * Define null work field OHE Bookings Confirmed
     C                   EVAL      YN0039 = ' '
      * Define local work field OHE EDI Error Reasons
     C                   EVAL      YL0013 = ' '
      * Define null work field OHE EDI Error Reasons 2
     C                   EVAL      YN0040 = ' '
      * Define null work field HPB COA Batch Number
     C                   Z-ADD     *ZERO         YN0041
      * Define null work field Delivery P_O  Number
     C                   EVAL      YN0042 = ' '
      * Define null work field OHE Intended for ExportCC
     C                   EVAL      YN0043 = ' '
      * Define null work field OHE EDI 943 Action
     C                   EVAL      YN0044 = ' '
      * Define null work field OHE EDI 944 Action
     C                   EVAL      YN0045 = ' '
      * Define null work field OHE EDI 940 Action
     C                   EVAL      YN0046 = ' '
      * Define local work field OHE EDI 945 Action
     C                   EVAL      YL0014 = ' '
      * Define null work field OHE EDI 856 Action
     C                   EVAL      YN0047 = ' '
      * Define null work field OHE EDI 824 Action
     C                   EVAL      YN0048 = ' '
      * Define null work field OHE Transload Seal Nbr
     C                   EVAL      YN0049 = ' '
      * Define null work field OHE Abs Rate Override Rsn
     C                   EVAL      YN0050 = ' '
      * Define null work field OHE Appt Confirmation #
     C                   EVAL      YN0051 = ' '
      * Define null work field OHE Backhaul Container#
     C                   EVAL      YN0052 = ' '
      * Define null work field OHE Backhaul Chassis #
     C                   EVAL      YN0053 = ' '
      * Define null work field OHE Transload Container#
     C                   EVAL      YN0054 = ' '
      * Define null work field OHE Pier Pass Invoice
     C                   EVAL      YN0055 = ' '
      * Define null work field OHE Carrier Nm
     C                   EVAL      YN0056 = ' '
      * Define null work field OHE Appt Confirmation Nm
     C                   EVAL      YN0057 = ' '
      * Define null work field OHE Backhaul Comment
     C                   EVAL      YN0058 = ' '
      * Define null work field Letter of Credit Number
     C                   EVAL      YN0059 = ' '
      * Define null work field OHE Backhaul Return to Co
     C                   Z-ADD     *ZERO         YN0060
      * Define null work field LD Stop_Drop
     C                   Z-ADD     *ZERO         YN0061
      * Define null work field OHE Unused Number 3_0
     C                   Z-ADD     *ZERO         YN0062
      * Define null work field OHE Pier Pass Fee Amount
     C                   Z-ADD     *ZERO         YN0063
      * Define null work field OHE Port Check Fee Amount
     C                   Z-ADD     *ZERO         YN0064
      * Define null work field OHE Port Cut Time
     C                   Z-ADD     *ZERO         YN0065
      * Define null work field OHE Backhaul Truck Number
     C                   Z-ADD     *ZERO         YN0066
      * Define null work field OHE Load Sched Seq Num
     C                   Z-ADD     *ZERO         YN0067
      * Define null work field Original Appointment Date
     C                   Z-ADD     *ZERO         YN0068
      * Define null work field Original Appointment Time
     C                   Z-ADD     *ZERO         YN0069
      * Define null work field OHE PowerPro Load#_Outbnd
     C                   Z-ADD     *ZERO         YN0070
      * Define null work field OHE PowerPro Load#_Bckhl
     C                   Z-ADD     *ZERO         YN0071
      * Define null work field OHE Unused Numeric 9_0_3
     C                   Z-ADD     *ZERO         YN0072
      * Define null work field OHE Orig ABS Freight Rate
     C                   Z-ADD     *ZERO         YN0073
      * Define null work field OHE Genset Number
     C                   EVAL      YN0074 = ' '
      * Define null work field OHE Email BOL_Sent
     C                   EVAL      YN0075 = ' '
      * Define null work field OHE EDI Order Automated
     C                   EVAL      YN0076 = ' '
      * Define null work field OHE EDI 601 Action
     C                   EVAL      YN0077 = ' '
      * Define null work field OHE Unused Status 4
     C                   EVAL      YN0078 = ' '
      * Define null work field OHE Unused Text 1
     C                   EVAL      YN0079 = ' '
      * Define null work field OHE Unused Text 2
     C                   EVAL      YN0080 = ' '
      * Define null work field OHE Customer Vendor f_PO
     C                   EVAL      YN0081 = ' '
      * Define null work field OHE EDI 824 AES ITN #
     C                   EVAL      YN0082 = ' '
      * Define null work field OHE Unused Text 5
     C                   EVAL      YN0083 = ' '
      * Define null work field OHE Unused Date 1
     C                   Z-ADD     *ZERO         YN0084
      * Define null work field OHE Unused Date 2
     C                   Z-ADD     *ZERO         YN0085
      * Define null work field EDI Status 1
     C                   EVAL      YN0086 = ' '
      * Define null work field EDI Status 2
     C                   EVAL      YN0087 = ' '
      * Define null work field EDI Status 3
     C                   EVAL      YN0088 = ' '
      * Define null work field Record Status
     C                   EVAL      YN0089 = ' '
      * Define local work field Email Subject 2 USR
     C                   EVAL      YL0015 = ' '
      * Define local work field Email Message 2 USR
     C                   EVAL      YL0016 = ' '
      *================================================================
     CSR   ZZEXIT        ENDSR
** @CN
00001 DTALIB
00002 HISLIB
00003 EDI 945 NorAm Pallet ID
00004 Error Received
00005 PRKFLIB
00006 - TEST
00007 From: Seaboard Foods
00008 The inbound EDI 945 sent
00009 to Seaboard Foods consist
00010 s of Pallet ID not valid.
00011 As a result an EDI 856 AS
00012 N cannot be generated.
00013 Resolution: Supply Chain
00014 to work with 3PL to deter
00015 mine root cause & resolut
00016 Seaboard Co/Load/Order:
00017 -------------------------
