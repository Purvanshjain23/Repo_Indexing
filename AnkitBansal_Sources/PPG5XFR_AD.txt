// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPG5XFR
// ?Date: 14.08.2025 Time: 03:40:34
// ?------------------------------------------------------------------------------------------------

//?Execute user function

// PAR.Company Number     041405 = CON.*ZERO
PAR.Company_Number_041405 = *ZERO;

// PAR.Status - Y or N = CND.yes
PAR.Status_Y_or_N = 'Y';

// PAR.Status Flag 1  Y/N = CND.No
PAR.Status_Flag_1_Y_N = 'N';

// DOW PAR.Status - Y or N is yes
DOW PAR.Status_Y_or_N = 'Y';

// Call program DSP A/R Summary Inq    PV.
CALL PROGRAM(DSP A/R Summary Inq    PV) ('PDJDPVR');
PARAMETER(PAR.AR_Customer_Number);
PARAMETER(PAR.Company_Number_041405);
PARAMETER('A/R');
PARAMETER(PAR.Status_Y_or_N);
PARAMETER(PAR.Status_Flag_1_Y_N);
PARAMETER(PAR.USR_Check_Y_N_Status);

CASE;

// IF PAR.Status Flag 1  Y/N is Yes
IF PAR.Status_Flag_1_Y_N = 'Y';

EXECUTE FUNCTION(Rtv Next Co for Cust  RT) TYPE(RTVOBJ) FILE(CAEOREP)           AC1708411;
PARAMETER(PAR.Company_Number_041405);
PARAMETER(PAR.AR_Customer_Number);
{
 //?USER: Initialize routine

 // PAR.Record Found USR = CND.Record Not Found
 PAR.Record_Found_USR = 'N';

 //?USER: Processing if Data record not found

 // PAR.Record Found USR = CND.Record Not Found
 PAR.Record_Found_USR = 'N';

 //?USER: Process Data record

 //?-----------------
 //?02/05/07 PKD Removed hard coding of Company Number.
 EXECUTE FUNCTION(Rtv Plant Co Status   RT) TYPE(RTVOBJ) FILE(PDJYREP)           AC1761084;
 PARAMETER(DB1.Company_Number);
 PARAMETER(LCL.Plant_Company_Sts);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 CASE;

 // IF DB1.Company Number NE PAR.Company Number
 IF DB1.Company_Number <> PAR.Company_Number;

 // AND LCL.Plant Company Sts is Plant Company
 AND LCL.Plant_Company_Sts = 'P';

 CASE;

 // IF PAR.Record Found USR is Record Not Found
 IF PAR.Record_Found_USR = 'N';

 MOVE *ALL (To: PAR From: DB1);

 // PAR.Record Found USR = CND.Record Found
 PAR.Record_Found_USR = 'Y';

 ENDIF;

 ENDIF;

 //?-----------------
 //?USER: Exit processing

 //?02/05/07 PKD Commented out hard coding of Company Number.
 CASE;

 // IF PAR.Record Found USR is Record Not Found
 IF PAR.Record_Found_USR = 'N';

 // PAR.Company Number = CON.*ZERO
 PAR.Company_Number = 0;

 ENDIF;

}


ENDIF;

ENDDO;

//?***** Change Log
//?** 03/27/2006 LJB
//?** A new input "check y/n flag" parm was added to this program.
//?** If an "N" is passed in then the Display A/R Summary Inquiry
//?** program will call the program that does NOT allow update
//?** of notes, otherwise, it will call the program that DOES
//?** allow update of notes.
//?*****
//?** 05/19/2006 LJB T00009
//?** Recompile to accept change to Days to Pay user field size.
//?*****
