// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLUGXFR
// ?Date: 14.08.2025 Time: 02:55:28
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?MODIFICATIONS
//?11/02/2020 ISE H16853 - CHANGE BUY ORDER NUMBER FIELD LENGTH FROM 5 TO 7
// Call program Chg THdr/Rd TstkRc/WtRAXF.
CALL PROGRAM(Chg THdr/Rd TstkRc/WtRAXF) ('PLUHXFR');
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.BOH_Buy_Order_Number);
PARAMETER(PAR.BOL_Load_Number);
PARAMETER(PAR.TH_Tattoo_Number);
PARAMETER(PAR.TH_Kill_Date);

EXECUTE FUNCTION(Rtv BOL Rcvd Hd/WgtRAPPRT) TYPE(RTVOBJ) FILE(PKA1CPP)          AB1318775;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.BOH_Buy_Order_Number);
PARAMETER(PAR.BOL_Load_Number);
{
 //?USER: Initialize routine

 // WRK.BOL Head Received = WRK.BOL Head Received + CON.*ZERO
 WRK.BOL_Head_Received = WRK.BOL_Head_Received + *ZERO;

 // WRK.BOL Live Wgt Received = WRK.BOL Live Wgt Received + CON.*ZERO
 WRK.BOL_Live_Wgt_Received = WRK.BOL_Live_Wgt_Received + *ZERO;

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 // WRK.BOL Head Received = WRK.BOL Head Received + DB1.TH Head Received
 WRK.BOL_Head_Received = WRK.BOL_Head_Received + DB1.TH_Head_Received;

 // WRK.BOL Live Wgt Received = WRK.BOL Live Wgt Received + DB1.TH Live Wgt
 WRK.BOL_Live_Wgt_Received = WRK.BOL_Live_Wgt_Received + DB1.TH_Live_Wgt;

 EXECUTE FUNCTION(Chg Buy Ord Ld Hd/WgRapCh) TYPE(CHGOBJ) FILE(PKAXCPP)          AB1318769;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(WRK.BOL_Head_Received);
 PARAMETER(WRK.BOL_Live_Wgt_Received);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

}


