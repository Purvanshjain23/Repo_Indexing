// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDE9PFR
// ?Date: 14.08.2025 Time: 12:03:46
// ?------------------------------------------------------------------------------------------------

//?USER: Record selection processing

CASE;

// IF DB1.Load ID EQ WRK.ZERO
IF DB1.Load_ID = WRK.ZERO;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

CASE;

// IF DB1.U/M - Ordered is NE Boxes
IF DB1.U_M_Ordered <> 'BX';

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

//?USER: Print required level headings

// SUPPRESSED PRINT Actual Shipped Date header format

// SUPPRESSED PRINT Company Number header format

// SUPPRESSED PRINT Parent Customer header format

// SUPPRESSED PRINT A/R Customer Number header format

// SUPPRESSED PRINT Original Salesperson header format

//?USER: On print of detail format

CASE;

// IF PAR.Load ID NE CUR.Load ID
IF PAR.Load_ID <> CUR.Load_ID;

// PAR.Count USR = PAR.Count USR + CON.1
PAR.Count_USR = PAR.Count_USR + 1;

ENDIF;

// PAR.Load ID = CUR.Load ID
PAR.Load_ID = CUR.Load_ID;

//?USER: Print required level totals

// SUPPRESSED PRINT Original Salesperson totals format

// SUPPRESSED PRINT A/R Customer Number totals format

// SUPPRESSED PRINT Parent Customer totals format

// SUPPRESSED PRINT Company Number totals format

CASE;

IF NEW Actual_Shipped_Date;
// Print Actual Shipped Date totals format
PRINT Actual Shipped Date totals format;

// PAR.Count USR = CON.*ZERO
PAR.Count_USR = *ZERO;

ENDIF;

