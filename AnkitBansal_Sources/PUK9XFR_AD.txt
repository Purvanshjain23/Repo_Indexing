// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUK9XFR
// ?Date: 14.08.2025 Time: 03:50:42
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?**************************************************************************
//?** PR1 Parms Represent Old Record Fields (Will be blank for Insert).
//?** PR2 Parms Represent New Record Fields (Will be blank for Delete).
//?**************************************************************************
//?Trigger Processing for Insert Event.
CASE;

// IF PR3.TRG Database Event is Insert
IF PR3.TRG_Database_Event = '1';

EXECUTE FUNCTION(Crt Packaging BOM TRG CR) TYPE(CRTOBJ) FILE(PUA9CPP)           AC2165672;
PARAMETER(PR2.Company_Number);
PARAMETER(PR2.Item_Code);
PARAMETER(PR2.Packaging_Item_Code);
PARAMETER(JOB.*System_timestamp);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.PBT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

//?Trigger Processing for Update Event.
CASE;

// IF PR3.TRG Database Event is Update
IF PR3.TRG_Database_Event = '3';

//?Ensure If Something Did Change Then Create Record.
CASE;

// IF PR1.Company Number NE PR2.Company Number
IF PR1.Company_Number <> PR2.Company_Number;

// OR PR1.Item Code NE PR2.Item Code
OR PR1.Item_Code <> PR2.Item_Code;

// OR PR1.Packaging Item Code NE PR2.Packaging Item Code
OR PR1.Packaging_Item_Code <> PR2.Packaging_Item_Code;

// OR PR1.Packaging Item Quantity NE PR2.Packaging Item Quantity
OR PR1.Packaging_Item_Quantity <> PR2.Packaging_Item_Quantity;

// OR PR1.Pckg Item Type NE PR2.Pckg Item Type
OR PR1.Pckg_Item_Type <> PR2.Pckg_Item_Type;

// OR PR1.Pckg Reporting Group NE PR2.Pckg Reporting Group
OR PR1.Pckg_Reporting_Group <> PR2.Pckg_Reporting_Group;

// OR PR1.Pckg Group Category NE PR2.Pckg Group Category
OR PR1.Pckg_Group_Category <> PR2.Pckg_Group_Category;

// OR PR1.Pckg BOM Unused Sts 1 NE PR2.Pckg BOM Unused Sts 1
OR PR1.Pckg_BOM_Unused_Sts_1 <> PR2.Pckg_BOM_Unused_Sts_1;

// OR PR1.Pckg BOM Unused Sts 2 NE PR2.Pckg BOM Unused Sts 2
OR PR1.Pckg_BOM_Unused_Sts_2 <> PR2.Pckg_BOM_Unused_Sts_2;

// OR PR1.Record Status NE PR2.Record Status
OR PR1.Record_Status <> PR2.Record_Status;

EXECUTE FUNCTION(Crt Packaging BOM TRG CR) TYPE(CRTOBJ) FILE(PUA9CPP)           AC2165672;
PARAMETER(PR2.Company_Number);
PARAMETER(PR2.Item_Code);
PARAMETER(PR2.Packaging_Item_Code);
PARAMETER(JOB.*System_timestamp);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.PBT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

ENDIF;

//?Trigger Processing for Delete Event.
CASE;

// IF PR3.TRG Database Event is Delete
IF PR3.TRG_Database_Event = '2';

EXECUTE FUNCTION(Crt Packaging BOM TRG CR) TYPE(CRTOBJ) FILE(PUA9CPP)           AC2165672;
PARAMETER(PR1.Company_Number);
PARAMETER(PR1.Item_Code);
PARAMETER(PR1.Packaging_Item_Code);
PARAMETER(JOB.*System_timestamp);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.PBT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

