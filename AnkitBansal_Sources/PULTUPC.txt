/**************************************************************************/
/*  SYSTEM    - ORDER MANAGEMENT SYSTEM                                   */
/*  PROGRAM   - PULTUPC - EXC CPY DTL 4/CARLISLE CL EXECUTE USER PROGRAM  */
/*  PROJECT   - R14444 - CARLISLE BALANCE & FALLOUT EXPORT                */
/*  BY        - DANNY NGUYEN                                              */
/*  DATE      - 02/19/2019                                                */
/*  PURPOSE   - Copy the PFS Balance Fallout Dtl (PUBDCPP) file to        */
/*              Carlisle's staging filename based on Company:             */
/*              PUBDCPPGUY - 360                                          */
/*              PUBDCPPSTF - 440                                          */
/*              PUBDCPPSTJ - 960                                          */
/*              Data will be replaced.                                    */
/*                                                                        */
/*  PARAMETERS:                                                           */
/*     I    &COMP       - Company Number                                  */
/*     I    &BATCHDT    - Batch Date                                      */
/*     I    &BATCHTM    - Batch Time                                      */
/*     I    &PRODDTE    - Production Date                                 */
/*                                                                        */
/**************************************************************************/
/* MODIFICATION HISTORY                                                   */
/*========================================================================*/
/* DATE     INT  PROJECT DESCRIPTION                                      */
/* -------- ---- ------- -------------------------------------------------*/
/* MM/DD/YY BY   XXXXXX                                                   */
/**************************************************************************/

             PGM        PARM(&COMP &BATCHDT &BATCHTM &PRODDTE)

   /*-------------------*/
   /* Declare Variables */
   /*-------------------*/
             /* Parameter Fields */
             DCL        VAR(&COMP) TYPE(*CHAR) LEN(3)
             DCL        VAR(&BATCHDT) TYPE(*CHAR) LEN(8)
             DCL        VAR(&BATCHTM) TYPE(*CHAR) LEN(6)
             DCL        VAR(&PRODDTE) TYPE(*CHAR) LEN(8)

             /* Other Variables  */
             DCL        VAR(&TOFILE) TYPE(*CHAR) LEN(10)

   /*-------------------------------*/
   /* Set &TOFILE based on Company  */
   /*-------------------------------*/
             IF         COND(&COMP *EQ '360') THEN(DO)
             CHGVAR     VAR(&TOFILE) VALUE('PUBDCPPGUY')
             ENDDO

             IF         COND(&COMP *EQ '440') THEN(DO)
             CHGVAR     VAR(&TOFILE) VALUE('PUBDCPPSTF')
             ENDDO

             IF         COND(&COMP *EQ '960') THEN(DO)
             CHGVAR     VAR(&TOFILE) VALUE('PUBDCPPSTJ')
             ENDDO

   /*------------------------------------*/
   /* Execute the Copy File with Replace */
   /*------------------------------------*/
             CPYF       FROMFILE(*LIBL/PUBDCPP) +
                          TOFILE(*LIBL/&TOFILE) MBROPT(*REPLACE) +
                          INCREL((*IF  BDY1NX *EQ &COMP)    +
                                 (*AND BDASD8 *EQ &BATCHDT)    +
                                 (*AND BDAOTS *EQ &BATCHTM)    +
                                 (*AND BDP7DT *EQ &PRODDTE))

             MONMSG MSGID(CPF0000)

 ENDPGM:
             ENDPGM
