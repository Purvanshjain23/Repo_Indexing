// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDS1XFR
// ?Date: 14.08.2025 Time: 03:36:02
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Tmp Re-Calc AvlShpDte RT) TYPE(RTVOBJ) FILE(PDL5CPP)           AC1544104;
{
 //?USER: Process Data record

 CASE;

 // IF DB1.ILL Item Qty On-Hand is GT Zero
 IF DB1.ILL_Item_Qty_On_Hand > *ZERO;

 EXECUTE FUNCTION(Clc Loc Avail Shp Dte IF) TYPE(EXCINTFUN)                      AC1510130;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Location_Code);
 PARAMETER(PAR.ILL_Avail_Ship_Date);
 {
  //?Execute internal function

  EXECUTE FUNCTION(Rtv Loc Type          RT) TYPE(RTVOBJ) FILE(PDL2REP)           AC1510129;
  PARAMETER(PAR.Warehouse_Code);
  PARAMETER(PAR.Location_Code);
  PARAMETER(PAR.WLT_Type_Code);
  {
   //?USER: Processing if Data record not found

   MOVE *ALL (To: PAR From: CON);

   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  EXECUTE FUNCTION(Rtv Chill Time        RT) TYPE(RTVOBJ) FILE(PDL3REP)           AC1510134;
  PARAMETER(PAR.WLT_Type_Code);
  PARAMETER(PAR.WLT_Type_Chill_Time);
  {
   //?USER: Processing if Data record not found

   MOVE *ALL (To: PAR From: CON);

   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  // PAR.ILL Avail Ship Date = PAR.Production Date + PAR.WLT Type Chill Time *DAYS
  PAR.ILL_Avail_Ship_Date = DATEINCR(PAR.Production_Date PAR.WLT_Type_Chill_Time 'DY'
  1111111 'NONE' 'N' 1);

 }

 EXECUTE FUNCTION(Tmp Re-Calc AvlShpDte CH) TYPE(CHGOBJ) FILE(PDL5CPP)           AC1544105;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Lot_Number);
 PARAMETER(DB1.Location_Code);
 PARAMETER(DB1.Location_Level);
 PARAMETER(PAR.ILL_Avail_Ship_Date);
 ENDIF;

}


