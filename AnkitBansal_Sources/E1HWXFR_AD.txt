// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for E1HWXFR
// ?Date: 14.08.2025 Time: 02:43:42
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?SDN 465 JDE to E1 RMC 4/24/2020
//?  Read staged table from E1 for the address book and update E1IDEVMDL
//?   table E10115- process ADDS and CHANGES
EXECUTE FUNCTION(Rtv Prc From F0115    RT) TYPE(RTVOBJ) FILE(EZ0115)            AA1101859;
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Rtv CrtChg from Stage RT) TYPE(RTVOBJ) FILE(E10115)            AA1101860;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
 PARAMETER(DB1.Line_Number_ID);
 PARAMETER(DB1.Related_Person_ID);
 PARAMETER(DB1.Phone_Number_Type);
 PARAMETER(DB1.Phone_Prefix);
 PARAMETER(DB1.Phone_Number);
 PARAMETER(DB1.User_ID);
 PARAMETER(DB1.Program_ID);
 PARAMETER(DB1.Date_Updated_1);
 PARAMETER(DB1.Work_Station_ID);
 PARAMETER(DB1.Time_Last_Updated_1);
 PARAMETER(DB1.Generic_Number_1);
 PARAMETER(DB1.Generic_Information_1);
 PARAMETER(DB1.Future_Flag_Use);
 PARAMETER(DB1.Synchronization_Status);
 PARAMETER(DB1.Server_Status);
 {
  //?USER: Processing if Data record not found

  //?dont create rcd if Address Master doesnt exist
  EXECUTE FUNCTION(Rtv Val Addr Nbr      RT) TYPE(RTVOBJ) FILE(E10101)            AA1103672;
  PARAMETER(PAR.Address_Number);
  {
   //?USER: Processing if Data record not found

   // PGM.*Return code = CND.*Record does not exist
   PGM.*Return_code = 'Y2U0005';

   //?USER: Process Data record

   // PGM.*Return code = CND.*Normal
   PGM.*Return_code = *BLANK;

  }

  CASE;

  // IF PGM.*Return code is *Normal
  IF PGM.*Return_code = *BLANK;

  EXECUTE FUNCTION(Crt E10115 from Stg   CR) TYPE(CRTOBJ) FILE(E10115)            AA1101715;
  PARAMETER(PAR.Address_Number);
  PARAMETER(PAR.Who_s_Who_Line_Nbr_ID);
  PARAMETER(PAR.Line_Number_ID);
  PARAMETER(PAR.Related_Person_ID);
  PARAMETER(PAR.Phone_Number_Type);
  PARAMETER(PAR.Phone_Prefix);
  PARAMETER(PAR.Phone_Number);
  PARAMETER(PAR.User_ID);
  PARAMETER(PAR.Program_ID);
  PARAMETER(PAR.Date_Updated_1);
  PARAMETER(PAR.Work_Station_ID);
  PARAMETER(PAR.Time_Last_Updated_1);
  PARAMETER(PAR.Generic_Number_1);
  PARAMETER(PAR.Generic_Information_1);
  PARAMETER(PAR.Future_Flag_Use);
  PARAMETER(PAR.Synchronization_Status);
  PARAMETER(PAR.Server_Status);
  ENDIF;

  //?USER: Process Data record

  EXECUTE FUNCTION(Chg E10115 from Stg  CH) TYPE(CHGOBJ) FILE(E10115)             AA1101716;
  PARAMETER(DB1.Address_Number);
  PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
  PARAMETER(DB1.Line_Number_ID);
  PARAMETER(PAR.Related_Person_ID);
  PARAMETER(PAR.Phone_Number_Type);
  PARAMETER(PAR.Phone_Prefix);
  PARAMETER(PAR.Phone_Number);
  PARAMETER(PAR.User_ID);
  PARAMETER(PAR.Program_ID);
  PARAMETER(PAR.Date_Updated_1);
  PARAMETER(PAR.Work_Station_ID);
  PARAMETER(PAR.Time_Last_Updated_1);
  PARAMETER(PAR.Generic_Number_1);
  PARAMETER(PAR.Generic_Information_1);
  PARAMETER(PAR.Future_Flag_Use);
  PARAMETER(PAR.Synchronization_Status);
  PARAMETER(PAR.Server_Status);
 }

 EXECUTE FUNCTION(Chg EZ0115 to Prcd    CH) TYPE(CHGOBJ) FILE(EZ0115)            AA1101854;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
 PARAMETER(DB1.Line_Number_ID);
 PARAMETER(DB1.Date_Time_Stamp);
 PARAMETER(DB1.Related_Person_ID);
 PARAMETER(DB1.Phone_Number_Type);
 PARAMETER(DB1.Phone_Prefix);
 PARAMETER(DB1.Phone_Number);
 PARAMETER(DB1.User_ID);
 PARAMETER(DB1.Program_ID);
 PARAMETER(DB1.Date_Updated_1);
 PARAMETER(DB1.Work_Station_ID);
 PARAMETER(DB1.Time_Last_Updated_1);
 PARAMETER(DB1.Generic_Number_1);
 PARAMETER(DB1.Generic_Information_1);
 PARAMETER(DB1.Future_Flag_Use);
 PARAMETER(DB1.Synchronization_Status);
 PARAMETER(DB1.Server_Status);
 PARAMETER(1);
 PARAMETER(JOB.*Job_date);
 PARAMETER(JOB.*Job_time);
}


