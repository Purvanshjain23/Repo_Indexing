/**************************************************************************/
/*  PROGRAM:       PVDAUPC                                                */
/*  PROGRAM DESC:  CPY MANHDRDTL TO DL SFXCL                              */
/*  PROGRAMMER:    DANNY NGUYEN                                           */
/*  CREATE DATE:   03/28/2024                                             */
/*  PROJECT:       WI616 - CARLISLE PALLET ID SCAN INTO INVENTORY         */
/*                                                                        */
/*  PURPOSE:       ADD RECORDS TO THE SUFFIXED FILE FOR PFS MANIFEST      */
/*                 HEADER & PFS MANIFEST DETAIL TABLES:                   */
/*                 PPBRCPPGUY                                             */
/*                 PPBRCPPSTF                                             */
/*                 PPBRCPPSTJ                                             */
/*                 PPBNCPPGUY                                             */
/*                 PPBNCPPSTF                                             */
/*                 PPBNCPPSTJ                                             */
/*                                                                        */
/* -----------------------------------------------------------------------*/
/*  PARMS:                                                                */
/*  Usage   Field       Field Description                                 */
/*  -----   ---------   ------------------------------------------        */
/*    I     &MANFSTID   PFS MANIFEST ID                                   */
/*    I     &MANFSTID2  PFS MANIFEST DETAIL ID                            */
/*    I     &FILENAME   FILE NAME                                         */
/*    I     &DLSFXFIL   DOWNLOAD SUFFIXED FILE                            */
/*                                                                        */
/**************************************************************************/
/* MODIFICATION HISTORY                                                   */
/**************************************************************************/
/* DATE     INT  PROJECT DESCRIPTION                                      */
/* -------- ---- ------- -------------------------------------------------*/
/* MM/DD/YY                                                               */
/**************************************************************************/

             PGM        PARM(&MANFSTID &MANFSTID2 &FILENAME &DLSFXFIL)

   /*-------------------*/
   /* Declare Variables */
   /*-------------------*/

             /* Parameter Fields */
             DCL        VAR(&MANFSTID) TYPE(*CHAR) LEN(20)
             DCL        VAR(&MANFSTID2) TYPE(*CHAR) LEN(20)
             DCL        VAR(&FILENAME) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DLSFXFIL) TYPE(*CHAR) LEN(10)


   /*-----------------------------------------------------------------------*/
   /* Execute the Copy File Command - Add Records to Suffixed HDR/DTL Files */
   /*-----------------------------------------------------------------------*/
         /* PFS MANIFEST HEADER */
             IF         COND(&FILENAME *EQ 'PPBRCPP') THEN(DO)
             CPYF       FROMFILE(*LIBL/&FILENAME) +
                          TOFILE(QTEMP/&DLSFXFIL) MBROPT(*ADD) +
                          INCREL((*IF BRKENZ *EQ &MANFSTID))
             MONMSG MSGID(CPF0000)
             ENDDO

         /* PFS MANIFEST DETAIL */
             IF         COND(&FILENAME *EQ 'PPBNCPP') THEN(DO)
             CPYF       FROMFILE(*LIBL/&FILENAME) +
                          TOFILE(QTEMP/&DLSFXFIL) MBROPT(*ADD) +
                          INCREL((*IF BNKENZ *EQ &MANFSTID) (*AND +
                          BNKFNZ *EQ &MANFSTID2))
             MONMSG MSGID(CPF0000)
             ENDDO

 END:        ENDPGM
