/********************************************************************/
/*                                                                   */
/*  SYNOPSIS -  EDI DISTRIBUTION ALLOWANCE RECORDS                   */
/*                                                                   */
/*  SYSTEM    - ORDER MANAGEMENT SYSTEM                              */
/*  DATE      - 01/21/2009                                           */
/*  AUTHOR    - SHARON ZURN                                          */
/*  SYNOPSIS  - THIS PGM WILL BE CALLED FROM A MENU OPTION SELECT    */
/*              TO SEND THE RECORDS VIA EDI TO BROKER OR BUYER GRP   */
/*                                                                   */
/*  MODIFICATIONS:                                                   */
/*   06/03/13 SZ ADD CODE TO PROCESS GOLBON.                         */
/*                                                                   */
/*      PARAMETERS:                                                  */
/*                                                                   */
/*     I   &RETRN       RETURN CODE                                  */
/*     I   &TRDPTR      TRADE PARTNER                                */
/*                                                                   */
/*********************************************************************/
 PMUXUPC:    PGM        PARM(&RETRN &TRDPTR)
/* PARMS                                                           */
             DCL        VAR(&RETRN) TYPE(*CHAR) LEN(7) /* RETURN +
                          CODE      */
             DCL        VAR(&TRDPTR) TYPE(*CHAR) LEN(6) /* TRADE +
                          PARTNER  */
             DCL        VAR(&SYSNAM) TYPE(*CHAR) LEN(8) /* SYSTEM +
                          NAME    */

/********************************************************************/
/*MAIN                                                              */
/********************************************************************/

             RTVNETA    SYSNAME(&SYSNAM)   /* RTV Network Attributes */
             ADDLIBLE   LIB(EDIPLIB)
             MONMSG     MSGID(CFP0000)

  /*BUILD REMOTE COMMAND                            */

  /*NEED TO KNOW WHERE JOB IS RUNNING               */

             IF COND(&SYSNAM = 'MARINE')  THEN(DO)

             IF COND(&TRDPTR = 'DUPRO')  THEN(DO)
             /* 363 - UNIPRO */
             SBMJOB     CMD(CALL PGM(OB867) PARM("363" "UNIPRO")) +
                          JOBD(DPMFLIB/EXTRNJOBD) INLLIBL(*JOBD)
             /* 363 - UNIPR2 */
             SBMJOB     CMD(CALL PGM(OB867) PARM("363" "UNIPR2")) +
                          JOBD(DPMFLIB/EXTRNJOBD) INLLIBL(*JOBD)
             /* 364 - UNIPRO */
             SBMJOB     CMD(CALL PGM(OB867) PARM("364" "UNIPRO")) +
                          JOBD(DPMFLIB/EXTRNJOBD) INLLIBL(*JOBD)
             /* 364 - UNIPR2 */
             SBMJOB     CMD(CALL PGM(OB867) PARM("364" "UNIPR2")) +
                          JOBD(DPMFLIB/EXTRNJOBD) INLLIBL(*JOBD)
             ENDDO     /*IF COND(&TRDPTR = 'DUPRO')  */

             IF COND(&TRDPTR = 'DGOLBN')  THEN(DO)
             SBMJOB     CMD(CALL PGM(OB867) PARM("363" "GOLBON")) +
                          JOBD(DPMFLIB/EXTRNJOBD) INLLIBL(*JOBD)
             /* 364 - */
             SBMJOB     CMD(CALL PGM(OB867) PARM("364" "GOLBON")) +
                          JOBD(DPMFLIB/EXTRNJOBD) INLLIBL(*JOBD)
             ENDDO  /*IF COND(&TRDPTR = 'GOLBON') */
             ENDDO  /*IF COND(&SYSNAM = 'MARINE')*/

             ELSE (DO)

             IF COND(&TRDPTR = 'DUPRO')  THEN(DO)
             /* 363 - UNIPRO */
             SBMRMTCMD  CMD('SBMJOB  CMD(CALL PGM(OB867) PARM("363" +
                          "UNIPRO")) JOBD(DPMFLIB/EXTRNJOBD) +
                          INLLIBL(*JOBD)') DDMFILE(SBDSYS/SBDDDMMAR)
             /* 363 - UNIPR2 */
             SBMRMTCMD  CMD('SBMJOB  CMD(CALL PGM(OB867) PARM("363" +
                          "UNIPR2")) JOBD(DPMFLIB/EXTRNJOBD) +
                          INLLIBL(*JOBD)') DDMFILE(SBDSYS/SBDDDMMAR)
             /* 364 - UNIPRO */
             SBMRMTCMD  CMD('SBMJOB  CMD(CALL PGM(OB867) PARM("364" +
                          "UNIPRO")) JOBD(DPMFLIB/EXTRNJOBD) +
                          INLLIBL(*JOBD)') DDMFILE(SBDSYS/SBDDDMMAR)
             /* 364 - UNIPR2 */
             SBMRMTCMD  CMD('SBMJOB  CMD(CALL PGM(OB867) PARM("364" +
                          "UNIPR2")) JOBD(DPMFLIB/EXTRNJOBD) +
                          INLLIBL(*JOBD)') DDMFILE(SBDSYS/SBDDDMMAR)
             ENDDO     /*IF COND(&TRDPTR = 'DUPRO')  */

             IF COND(&TRDPTR = 'DGOLBN')  THEN(DO)
             /* 363 - GOLBON */
             SBMRMTCMD  CMD('SBMJOB  CMD(CALL PGM(OB867) PARM("363" +
                          "GOLBON")) JOBD(DPMFLIB/EXTRNJOBD) +
                          INLLIBL(*JOBD)') DDMFILE(SBDSYS/SBDDDMMAR)
             /* 364 - GOLBON*/
             SBMRMTCMD  CMD('SBMJOB  CMD(CALL PGM(OB867) PARM("364" +
                          "GOLBON")) JOBD(DPMFLIB/EXTRNJOBD) +
                          INLLIBL(*JOBD)') DDMFILE(SBDSYS/SBDDDMMAR)

             ENDDO  /*IF COND(&TRDPTR = 'DGOLBN') */
             ENDDO  /*IF COND(&SYSNAM = 'MARINE')*/


 END:        ENDPGM
