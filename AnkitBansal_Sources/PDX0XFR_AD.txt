// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDX0XFR
// ?Date: 14.08.2025 Time: 03:33:33
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(FIX Load Miles 1 stops RT) TYPE(RTVOBJ) FILE(OMFJCPP)          AC1460497;
{
 //?USER: Initialize routine

 //?***** Change Log and Comments
 DO;

 //?** 08/14/2008 LJB E00207
 //?** Use override miles if entered, otherwise use total load miles
 ENDDO;

 //?USER: Process Data record

 CASE;

 // IF DB1.Total Stops is One Stop
 IF DB1.Total_Stops = 1;

 //?** Use override miles if entered, else total miles   E00207
 CASE;

 // IF DB1.Override Total Load Miles is Entered
 IF DB1.Override_Total_Load_Miles <> *ZERO;

 // WRK.Total Load Miles = DB1.Override Total Load Miles
 WRK.Total_Load_Miles = DB1.Override_Total_Load_Miles;

 //?** Use override miles if entered, else total miles   E00207
 // IF *OTHERWISE
 IF *OTHERWISE;

 // WRK.Total Load Miles = DB1.Total Load Miles
 WRK.Total_Load_Miles = DB1.Total_Load_Miles;

 ENDIF;

 EXECUTE FUNCTION(FIX Load Miles 1 stops RT) TYPE(RTVOBJ) FILE(OMFLCPP)          AC1460498;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Load_ID);
 PARAMETER(WRK.Total_Load_Miles);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(CHG Mileage            CH) TYPE(CHGOBJ) FILE(OMFLCPP)          AC1454202;
  PARAMETER(DB1.Load_ID);
  PARAMETER(DB1.Stop_Drop_Sequence_Number);
  PARAMETER(DB1.Stop_Drop);
  PARAMETER(PAR.Total_Load_Miles);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Date/Time Stamp.PgmIF) TYPE(EXCINTFUN)                     AC1425284;
   PARAMETER(DB1.Job_Time);
   PARAMETER(DB1.User_Id);
   PARAMETER(DB1.Job_Name);
   PARAMETER(DB1.Job_Date);
   {
    //?Execute internal function

    // PAR.Job Time = JOB.*Job time
    PAR.Job_Time = JOB.*Job_time;

    // PAR.User Id = JOB.*USER
    PAR.User_Id = JOB.*USER;

    // PAR.Job Name = JOB.*PROGRAM
    PAR.Job_Name = JOB.*PROGRAM;

    // PAR.Job Date = JOB.*Job date
    PAR.Job_Date = JOB.*Job_date;

   }

  }

 }

 ENDIF;

}


