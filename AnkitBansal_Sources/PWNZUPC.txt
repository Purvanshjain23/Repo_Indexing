/* PROGRAM:      PWNZUPC                                              */
/* PROGRAM NAME: Dlt PrdcrSite FmToLib CL                             */
/*  Copied from: CPY PrdcrSite FmToLib CL                             */
/* PROGRAMMER:   Brad Baden                                           */
/* CREATE DATE:   7/26/2021                                           */
/*                                                                    */
/* FUNCTION:     This CLP will delete the Producer Site record from   */
/*               the Producer Site To Library (STP).                  */
/**********************************************************************/
/* Modification History                                               */
/*                                                                    */
/**********************************************************************/
             PGM        PARM(&PRDCR &PRDCRSITE &PRDSTFMLIB &PRDSTTOLIB)
/*--------------------------------------------------------------------*/
/*                      PARAMETER                                     */
/*--------------------------------------------------------------------*/
/* Function Specific                                                  */
             DCL        VAR(&PRDCR) TYPE(*CHAR) LEN(6)
             DCL        VAR(&PRDCRSITE) TYPE(*CHAR) LEN(10)
             DCL        VAR(&PRDSTFMLIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&PRDSTTOLIB) TYPE(*CHAR) LEN(10)
/*-------------------------------------------------------------------*/
/* Add Producer Site To Library                                      */
             ADDLIBLE   LIB(&PRDSTTOLIB) POSITION(*LAST)
             MONMSG     MSGID(CPF2103) /* Library already exists     */
/*-------------------------------------------------------------------*/
/* Override Access Paths to use Producer Site To Library             */
/*                      Producer Site - Update Index                 */
             OVRDBF     FILE(PLATREL0) TOFILE(&PRDSTTOLIB/PLATREL0)
/*                      Producer Site - Retrieval Index 2            */
             OVRDBF     FILE(PLATREL6) TOFILE(&PRDSTTOLIB/PLATREL6)
/*--------------------------------------------------------------------*/
/* Delete Producer Site from Producer Site To Library                 */
             CALL       PGM(PWN0XFR) PARM('' &PRDCR &PRDCRSITE)
/*--------------------------------------------------------------------*/
/* Clean Up                                                           */
             DLTOVR     FILE(*ALL)
             RMVLIBLE   LIB(&PRDSTTOLIB)
/*--------------------------------------------------------------------*/
/*                      PROGRAM END                                   */
             ENDPGM
