// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKDLSRR
// ?Date: 14.08.2025 Time: 02:49:02
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?Modification history
DO;

//? 6/11/2019 JBB E15107 - Select Active or Inactive Trucker records
ENDDO;

// LCL.RS Record Status = CND.Active
LCL.RS_Record_Status = 'A';

//?USER: Load subfile record from DBF record

//?Record selection: Active or Inactive
CASE;

// IF RCD.RS Record Status is Flag for Purge
IF RCD.RS_Record_Status = 'D';

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

//?Record selection: Active or Inactive
// IF LCL.RS Record Status is InActive
IF LCL.RS_Record_Status = 'I';

// CTL.Text 8 USR = CON.Inactive
CTL.Text_8_USR = 'Inactive';

//?Do not select Active records
CASE;

// IF RCD.RS Record Status is Active
IF RCD.RS_Record_Status = 'A';

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

//?Record selection: Active or Inactive
// IF *OTHERWISE
IF *OTHERWISE;

// CTL.Text 8 USR = CON.Active
CTL.Text_8_USR = 'Active';

//?Do not select Inactive records
CASE;

// IF RCD.RS Record Status is InActive
IF RCD.RS_Record_Status = 'I';

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

ENDIF;

//?USER: Process command keys

//?F10 = Toggle Active/Inactive
CASE;

// IF CTL.*CMD key is CF10
IF CTL.*CMD_key = '10';

//?Change status
CASE;

// IF LCL.RS Record Status is Active
IF LCL.RS_Record_Status = 'A';

// LCL.RS Record Status = CND.InActive
LCL.RS_Record_Status = 'I';

//?Change status
// IF *OTHERWISE
IF *OTHERWISE;

// LCL.RS Record Status = CND.Active
LCL.RS_Record_Status = 'A';

ENDIF;

// PGM.*Reload subfile = CND.*YES
PGM.*Reload_subfile = 'Y';

ENDIF;

