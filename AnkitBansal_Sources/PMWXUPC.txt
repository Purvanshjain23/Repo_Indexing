/********************************************************************/
/*                                                                  */
/*  SYNOPSIS -  RECEIVE PARAMETERS AND PASS TO SEQUEL VIEW          */
/*              TO CREATE A WORK FILE OF JAPANESE CHILLED ORDERS    */
/*              IN QTEMP                                            */
/*------------------------------------------------------------------*/
/*  USED TO PRINT THE JAPANESE CHILLED ORDERS REPORT-PMW0PFR        */
/*------------------------------------------------------------------*/
/*                                                                  */
/*  SYSTEM    - ORDER MANAGEMENT SYSTEM                             */
/*  PROGRAM   - BUILD WF CUSTOMER PRICE HDR IN QTEMP                */
/*  DATE      - 07/21/2008                                          */
/*  PROGRAMMER- LARA BUSER                                          */
/*                                                                  */
/*  PARAMETERS:                                                     */
/*  I    &CUSTN      - CUSTOMER NUMBER 15.5                         */
/*  I    &COMPN      - COMPANY NUMBER 15.5                          */
/*  I    &FROMDTN    - SCHEDULED SHIP DATE 15.5                     */
/*  I    &TODTN      - SCHEDULED SHIP DATE 15.5                     */
/*  I    &FROMPRCDE  - FROM PRICE CODE                              */
/*  I    &TOPRCDE    - TO PRICE CODE                                */
/*==================================================================*/
/* 03/26/2013 LJB E002519  PRICE CODE IS NOW OPTIONAL. CREATE VIEWS */
/*    WITH PC AS ZEROS FOR EACH VERSION.                            */
/* 03/20/2012 L.BUSER  ADD 2 NEW VIEWS TO BUILD THE FILE WITH OR    */
/*    WITHOUT A COMPANY NUMBER. CHANGE ALL VIEWS TO SELECT BY       */
/*    REQUESTED SHIP DATE ONLY. SWITCH VIEW NAMES BACK. THEY WERE   */
/*    CORRECT. THIS BUILDS WF FOR THE REPORT ONLY.                  */
/* 10/18/2010 S.MASON  SWITCH VIEW NAMES, THEY WERE BACKWARDS       */
/********************************************************************/
 PMWXUPC:    PGM        PARM(&CUSTN &COMPN &FROMDTN &TODTN +
                          &FROMPRCDE &TOPRCDE &RTNCDE)

             DCL        VAR(&RTNCDE) TYPE(*CHAR) LEN(7)
             DCL        VAR(&CUSTN)     TYPE(*DEC)
             DCL        VAR(&CUST)      TYPE(*DEC)  LEN(7 0)
             DCL        VAR(&CUSTA)     TYPE(*CHAR) LEN(7)
             DCL        VAR(&COMPN)     TYPE(*DEC)
             DCL        VAR(&COMP)      TYPE(*DEC)  LEN(3 0)
             DCL        VAR(&COMPA)     TYPE(*CHAR) LEN(3)
             DCL        VAR(&FROMDTN)   TYPE(*DEC)
             DCL        VAR(&FROMDT)    TYPE(*DEC)  LEN(7 0)
             DCL        VAR(&FROMDTA)   TYPE(*CHAR) LEN(7)
             DCL        VAR(&TODTN)     TYPE(*DEC)
             DCL        VAR(&TODT)      TYPE(*DEC)  LEN(7 0)
             DCL        VAR(&TODTA)     TYPE(*CHAR) LEN(7)
             DCL        VAR(&FROMPRCDE) TYPE(*DEC)  LEN(6 0)
             DCL        VAR(&FROMPRCDA) TYPE(*CHAR) LEN(6)
             DCL        VAR(&TOPRCDE)   TYPE(*DEC)  LEN(6 0)
             DCL        VAR(&TOPRCDA)   TYPE(*CHAR) LEN(6)
             DCL        VAR(&SEL)       TYPE(*CHAR) LEN(500)

             MONMSG     MSGID(CPF0000 QRY0000)

/* SET ALPHA VALUES FOR THE SETVAR PARM IN THE EXECUTE COMMAND       */
             CHGVAR     VAR(&CUST) VALUE(&CUSTN)
             CHGVAR     VAR(&CUSTA) VALUE(&CUST)
             CHGVAR     VAR(&COMP) VALUE(&COMPN)
             CHGVAR     VAR(&COMPA) VALUE(&COMP)
             CHGVAR     VAR(&FROMDT) VALUE(&FROMDTN)
             CHGVAR     VAR(&FROMDTA) VALUE(&FROMDT)
             CHGVAR     VAR(&TODT) VALUE(&TODTN)
             CHGVAR     VAR(&TODTA) VALUE(&TODT)
             CHGVAR     VAR(&FROMPRCDA) VALUE(&FROMPRCDE)
             CHGVAR     VAR(&TOPRCDA) VALUE(&TOPRCDE)

/* CREATE PMD4CPP IN QTEMP                                           */
             CRTDUPOBJ  OBJ(PMD4CPP) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             MONMSG     MSGID(CPF2130)

/* BUILD WORK FILE FOR REQUEST WITH PRICE CODE NOT ZEROS             */
             IF         COND(&FROMPRCDE *NE 000000) THEN(DO)

/* EXECUTE VIEW: CUSTOMER=0, COMPANY=0 (SAME AS THE ORIGINAL)        */
/* ( THIS SHOULD NOT HAPPEN, BUT COULD CHANGE IN THE FUTURE.)        */
             IF         COND((&CUSTN *EQ 0000000) *AND (&COMP *EQ +
                          000)) THEN(EXECUTE VIEW(JCHILLD2.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&FROMPRCDE +
                          &FROMPRCDA) (&TOPRCDE &TOPRCDA) (&FROMDT +
                          &FROMDTA) (&TODT &TODTA)))

/* EXECUTE VIEW WITH CUSTOMER NOT=0, COMPANY=0 (SAME AS ORIGINAL)    */
             IF         COND((&CUSTN *NE 0000000) *AND (&COMP *EQ +
                          000)) THEN(EXECUTE VIEW(JCHILLDO.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&CUST +
                          &CUSTA) (&FROMPRCDE &FROMPRCDA) (&TOPRCDE +
                          &TOPRCDA) (&FROMDT &FROMDTA) (&TODT &TODTA)))

/* EXECUTE VIEW: CUSTOMER=0, COMPANY NOT=0   E001893                 */
             IF         COND((&CUSTN *EQ 0000000) *AND (&COMP *NE +
                          000)) THEN(EXECUTE VIEW(JCHILLD3.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&COMP +
                          &COMPA) (&FROMPRCDE &FROMPRCDA) (&TOPRCDE +
                          &TOPRCDA) (&FROMDT &FROMDTA) (&TODT &TODTA)))

/* EXECUTE VIEW: CUSTOMER NOT=0, COMPANY NOT=0  E001893              */
             IF         COND((&CUSTN *NE 0000000) *AND (&COMP *NE +
                          000)) THEN(EXECUTE VIEW(JCHILLD4.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&CUST +
                          &CUSTA) (&COMP &COMPA) (&FROMPRCDE +
                          &FROMPRCDA) (&TOPRCDE &TOPRCDA) (&FROMDT +
                          &FROMDTA) (&TODT &TODTA)))
             ENDDO      /* Price Code not zeros  */


/* BUILD WORK FILE FOR REQUEST WITH PRICE CODE NOT ZEROS             */
             IF         COND(&FROMPRCDE *EQ 000000) THEN(DO)

/* EXECUTE VIEW: CUSTOMER=0, COMPANY=0 (SAME AS THE ORIGINAL)        */
/* ( THIS SHOULD NOT HAPPEN, BUT COULD CHANGE IN THE FUTURE.)        */
             IF         COND((&CUSTN *EQ 0000000) *AND (&COMP *EQ +
                          000)) THEN(EXECUTE VIEW(JCHILLD5.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&FROMPRCDE +
                          &FROMPRCDA) (&TOPRCDE &TOPRCDA) (&FROMDT +
                          &FROMDTA) (&TODT &TODTA)))

/* EXECUTE VIEW WITH CUSTOMER NOT=0, COMPANY=0 (SAME AS ORIGINAL)    */
             IF         COND((&CUSTN *NE 0000000) *AND (&COMP *EQ +
                          000)) THEN(EXECUTE VIEW(JCHILLD6.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&CUST +
                          &CUSTA) (&FROMPRCDE &FROMPRCDA) (&TOPRCDE +
                          &TOPRCDA) (&FROMDT &FROMDTA) (&TODT &TODTA)))

/* EXECUTE VIEW: CUSTOMER=0, COMPANY NOT=0   E001893                 */
             IF         COND((&CUSTN *EQ 0000000) *AND (&COMP *NE +
                          000)) THEN(EXECUTE VIEW(JCHILLD7.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&COMP +
                          &COMPA) (&FROMPRCDE &FROMPRCDA) (&TOPRCDE +
                          &TOPRCDA) (&FROMDT &FROMDTA) (&TODT &TODTA)))

/* EXECUTE VIEW: CUSTOMER NOT=0, COMPANY NOT=0  E001893              */
             IF         COND((&CUSTN *NE 0000000) *AND (&COMP *NE +
                          000)) THEN(EXECUTE VIEW(JCHILLD8.V) +
                          OUTFILE(QTEMP/PMD4CPP) SETVAR((&CUST +
                          &CUSTA) (&COMP &COMPA) (&FROMPRCDE +
                          &FROMPRCDA) (&TOPRCDE &TOPRCDA) (&FROMDT +
                          &FROMDTA) (&TODT &TODTA)))
             ENDDO      /* Price Code not zeros  */
             CRTDUPOBJ  OBJ(PMD4CPL0) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP)
             MONMSG     MSGID(CPF2130)

             CRTDUPOBJ  OBJ(PMD4CPL1) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP)
             MONMSG     MSGID(CPF2130)

             CRTDUPOBJ  OBJ(PMD4CPL2) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP)
             MONMSG     MSGID(CPF2130)

             CRTDUPOBJ  OBJ(PMD4CPL3) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP)
             MONMSG     MSGID(CPF2130)

/**CPYF QTEMP/PMD4CPP LARAB/PMD4CPP MBROPT(*REPLACE) CRTFILE(*YES)**/

 END:        ENDPGM
