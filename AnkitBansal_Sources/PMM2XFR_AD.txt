// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMM2XFR
// ?Date: 14.08.2025 Time: 03:43:30
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV PO Header Purge   RT) TYPE(RTVOBJ) FILE(ECP004)            AC1846245;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.G5002-ORDER DATE LT PAR.G5002-ORDER DATE
 IF DB1.G5002_ORDER_DATE < PAR.G5002_ORDER_DATE;

 EXECUTE FUNCTION(DLT EDI-PO Header     DO) TYPE(DLTOBJ) FILE(ECP004)            AC1846246;
 PARAMETER(DB1.ST02_TRANS_SET_CONTROL_NU);
 EXECUTE FUNCTION(RTV DLT EDI-PO Dtl Purge) TYPE(RTVOBJ) FILE(ECP005)            AC1846254;
 PARAMETER(DB1.ST02_TRANS_SET_CONTROL_NU);
 PARAMETER(*ZERO);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Dlt EDI-Purch Ord     DL) TYPE(DLTOBJ) FILE(ECP005)            AC1638003;
  PARAMETER(DB1.ST02_TRANS_SET_CONTROL_NU);
  PARAMETER(DB1.ITEM_SEQUENCE_NUMBER);
 }

 EXECUTE FUNCTION(RTV DLT EDI-PO Name Purge) TYPE(RTVOBJ) FILE(ECP006)           AC1846233;
 PARAMETER(DB1.ST02_TRANS_SET_CONTROL_NU);
 PARAMETER(*BLANK);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Delete EDI-Purchase Order) TYPE(DLTOBJ) FILE(ECP006)           AC1638095;
  PARAMETER(DB1.ST02_TRANS_SET_CONTROL_NU);
  PARAMETER(DB1.N101_NAME_TYPE_CODE);
 }

 ENDIF;

}


