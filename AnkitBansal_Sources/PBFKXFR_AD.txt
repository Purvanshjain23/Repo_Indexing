// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBFKXFR
// ?Date: 14.08.2025 Time: 03:47:46
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV TPM Co-Located WhseIF) TYPE(EXCINTFUN)                     AC2052144;
PARAMETER(PAR.Record_Selected_USR);
PARAMETER(PAR.Warehouse_1_USR);
PARAMETER(PAR.Warehouse_2_USR);
PARAMETER(PAR.Warehouse_3_USR);
PARAMETER(PAR.Warehouse_4_USR);
PARAMETER(PAR.Warehouse_5_USR);
PARAMETER(PAR.Warehouse_6_USR);
PARAMETER(PAR.Warehouse_7_USR);
PARAMETER(PAR.Warehouse_8_USR);
PARAMETER(PAR.Warehouse_9_USR);
PARAMETER(PAR.Warehouse_10_USR);
PARAMETER(PAR.Warehouse_Code_PASS_USR);
{
 //?Execute internal function

 //?** Select warehouses associated with TPM Location Code, if exists
 CASE;

 // IF PAR.Warehouse Code PASS   USR is Not Blanks
 IF PAR.Warehouse_Code_PASS_USR <> *BLANK;

 //?** Set flag to No, RTV will set to yes if at least 1 whse is returned
 // PAR.Record Selected       USR = CND.no
 PAR.Record_Selected_USR = 'N';

 EXECUTE FUNCTION(RTV TPM Co-Located WhseRT) TYPE(RTVOBJ) FILE(CAADREP)          AC2052372;
 PARAMETER(PAR.Warehouse_Code_PASS_USR);
 PARAMETER(PAR.Warehouse_1_USR);
 PARAMETER(PAR.Warehouse_2_USR);
 PARAMETER(PAR.Warehouse_3_USR);
 PARAMETER(PAR.Warehouse_4_USR);
 PARAMETER(PAR.Warehouse_5_USR);
 PARAMETER(PAR.Warehouse_6_USR);
 PARAMETER(PAR.Warehouse_7_USR);
 PARAMETER(PAR.Warehouse_8_USR);
 PARAMETER(PAR.Warehouse_9_USR);
 PARAMETER(PAR.Warehouse_10_USR);
 PARAMETER(PAR.Record_Selected_USR);
 {
  //?USER: Processing if Data record not found

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

  // PAR.Record Selected       USR = CND.no
  PAR.Record_Selected_USR = 'N';

  //?USER: Process Data record

  CASE;

  // IF DB1.WHS TPM Location Code NE PAR.WHS TPM Location Code
  IF DB1.Inventory_Logic_Version <> PAR.Inventory_Logic_Version;

  // PAR.Record Selected       USR = CND.no
  PAR.Record_Selected_USR = 'N';

  RETURN;

  ENDIF;

  CASE;

  // IF PAR.Warehouse 1 USR is EQ Blank
  IF PAR.Warehouse_1_USR = *BLANK;

  // PAR.Warehouse 1 USR = DB1.Warehouse Code
  PAR.Warehouse_1_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 2 USR is EQ Blank
  IF PAR.Warehouse_2_USR = *BLANK;

  // PAR.Warehouse 2 USR = DB1.Warehouse Code
  PAR.Warehouse_2_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 3 USR is EQ Blank
  IF PAR.Warehouse_3_USR = *BLANK;

  // PAR.Warehouse 3 USR = DB1.Warehouse Code
  PAR.Warehouse_3_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 4 USR is EQ Blank
  IF PAR.Warehouse_4_USR = *BLANK;

  // PAR.Warehouse 4 USR = DB1.Warehouse Code
  PAR.Warehouse_4_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 5 USR is EQ Blank
  IF PAR.Warehouse_5_USR = *BLANK;

  // PAR.Warehouse 5 USR = DB1.Warehouse Code
  PAR.Warehouse_5_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 6 USR is EQ Blank
  IF PAR.Warehouse_6_USR = *BLANK;

  // PAR.Warehouse 6 USR = DB1.Warehouse Code
  PAR.Warehouse_6_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 7 USR is EQ Blank
  IF PAR.Warehouse_7_USR = *BLANK;

  // PAR.Warehouse 7 USR = DB1.Warehouse Code
  PAR.Warehouse_7_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 8 USR is EQ Blank
  IF PAR.Warehouse_8_USR = *BLANK;

  // PAR.Warehouse 8 USR = DB1.Warehouse Code
  PAR.Warehouse_8_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 9 USR is EQ Blank
  IF PAR.Warehouse_9_USR = *BLANK;

  // PAR.Warehouse 9 USR = DB1.Warehouse Code
  PAR.Warehouse_9_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  // IF PAR.Warehouse 10 USR is EQ Blank
  IF PAR.Warehouse_10_USR = *BLANK;

  // PAR.Warehouse 10 USR = DB1.Warehouse Code
  PAR.Warehouse_10_USR = DB1.Warehouse_Code;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  ENDIF;

 }

 ENDIF;

}


