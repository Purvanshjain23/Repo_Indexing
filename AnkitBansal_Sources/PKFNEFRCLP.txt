/********************************************************************/
/*                                                                  */
/*  SYNOPSIS - CALL WW YARD DEAD AND HELD OVER AFTER SENT TO KILL   */
/*                                                                  */
/*  SYSTEM    - HOG PROCURMENT SYSTEM                               */
/*  PROGRAM   - CLP TO PROCESS WW YARD DEAD & HELD OVER SENT TO KILL*/
/*  DATE      - 12/10/09                                            */
/*                                                                  */
/********************************************************************/
/*  MODIFICATION HISTORY                                            */
/*  12/01/2009 SLM CREATED WRAPPER FOR WW YARD DEAD AND HO ETC      */
/*              TATTOO DETAIL WORK FILE WILL BE USED IN QTEMP       */
/*   2/19/2021 JBB Changed Buy Order Number field length from 5.0   */
/*     H16853      to 7.0                                           */
/********************************************************************/

 PKFNERCLP:  PGM        PARM(&COMP &BUYO &BUYL &TATT &KILLD &OMS)

             DCL        VAR(&COMP) TYPE(*DEC) LEN(3 0)
/*           DCL        VAR(&BUYO) TYPE(*DEC) LEN(5 0)              */
             DCL        VAR(&BUYO) TYPE(*DEC) LEN(7 0)
             DCL        VAR(&BUYL) TYPE(*DEC) LEN(5 0)
             DCL        VAR(&TATT) TYPE(*DEC) LEN(5 0)
             DCL        VAR(&KILLD) TYPE(*DEC) LEN(7 0)
             DCL        VAR(&OMS) TYPE(*CHAR) LEN(40)
START:
             CHKOBJ     OBJ(QTEMP/PKDRCPP) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF0000) EXEC(DO)
             GOTO       CMDLBL(BUILDF)
             ENDDO
             GOTO       CMDLBL(RUNJOB)

BUILDF:
/* TATTOO DETAIL WORK FILE TO QTEMP    */

             CRTDUPOBJ  OBJ(PKDRCPP) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*YES)

             CRTDUPOBJ  OBJ(PKDRCPL0) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PKDRCPL1) FROMLIB(*LIBL) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)

RUNJOB:
             CALL       PGM(PKFNEFR) PARM(' ' &COMP &BUYO &BUYL +
                          &TATT &KILLD &OMS)

 ENDJOB:     ENDPGM
