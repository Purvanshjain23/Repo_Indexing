/***************************************************************** */
/*  PROGRAM NUMBER --> HP139BCL                                    */
/*  PROGRAM NAME ----> MAINTAIN TRANSFER                           */
/*                     COPY REJECT REASON FILE IN QTEMP            */
/*  PROGRAMMER ------> LEANNE FEDOR                                */
/*  DATE ------------> 06/20/94                                    */
/*                                                                 */
/*  PROGRAM PURPOSE -> THIS CL COPIES THE REJECT REASON RECORDS    */
/*                     FROM THE TEMPORARY FILE IN QTEMP TO THE     */
/*                     PRODUCTION FILE WHEN THE USER ACTUALLY      */
/*                     CREATES THE TRANSFER MOVEMENT. IT ALSO      */
/*                     CLEARS THE FILE.                            */
/*                                                                 */
/***************************************************************** */
/*  MODIFIED:                                                      */
/* 05/21/96  LEANNE FEDOR                                          */
/*           IN PREPARATION FOR HAVING TWO BOXES (CISC AND RISC),  */
/*           ADDED A 'FIND OBJECT' COMMAND THAT WAS CREATED BY     */
/*           JOHN ERICSON.  THIS COMMAND WILL RETRIEVE THE LIBRARY */
/*           THAT WILL BE USED IN THE STANDARD COPY FILE COMMAND.  */
/*           PRIOR TO THIS CHANGE, THE PRODUCTION LIBRARY          */
/*           WAS HARD-CODED ON THE COPY COMMAND.                   */
/*                                                                 */
/***************************************************************** */

             PGM


             DCL        VAR(&LIB) TYPE(*CHAR) LEN(10) VALUE(' ')

/* CHANGE THE JOB SO THAT THE STATUS MESSAGE FOR THE COPY WILL     */
/* NOT DISPLAY ON THE SCREEN                                       */

             CHGJOB STSMSG(*NONE)


/* RETRIEVE THE LIBRARY TO BE USED IN THE SUBSEQUENT COPY COMMAND  */

             FNDOBJ     OBJ(HSP065) OBJTYPE(*FILE) LIB(&LIB)

/* COPY THE RECORDS FROM THE TEMPORARY FILE TO THE PRODUCTION FILE */

             CPYF       FROMFILE(QTEMP/HSP078) TOFILE(&LIB/HSP078) +
                          MBROPT(*ADD)
             MONMSG     MSGID(CPF0000)

/* CHANGE THE JOB BACK TO ITS ORIGINAL STATE FOR STATUS MESSAGES   */

             CHGJOB STSMSG(*USRPRF)

             ENDPGM

