// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PVGQXFR
// ?Date: 14.08.2025 Time: 03:52:13
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Processing for Adjustment.
CASE;

// IF PAR.WIM Inventory Trans ID is Adjustment
IF PAR.WIM_Inventory_Trans_ID = 'A';

// PAR.Response Code USR = CND.WIM Manual Adj - SUCCESS
PAR.Response_Code_USR = 'SUCCESS';

// LCL.Inventory Trans ID = PAR.WIM Inventory Trans ID
LCL.Inventory_Trans_ID = PAR.WIM_Inventory_Trans_ID;

// LCL.Inventory Trans Type = PAR.WIM Inventory Trans Type
LCL.Inventory_Trans_Type = PAR.WIM_Inventory_Trans_Type;

// Call program Upd Balances Issue/Adj XF.
CALL PROGRAM(Upd Balances Issue/Adj XF) ('PDQRXFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Item_Code);
PARAMETER(PAR.Ship_From_Warehouse);
PARAMETER(LCL.Inventory_Trans_ID);
PARAMETER(LCL.Inventory_Trans_Type);
PARAMETER(PAR.Transaction_Date);
PARAMETER(PAR.Production_Date);
PARAMETER(PAR.Item_Transaction_Source);
PARAMETER(PAR.Transaction_Description);
PARAMETER(PAR.Transaction_Reason_Code);
PARAMETER(*BLANK);
PARAMETER(PAR.Order_Number);
PARAMETER(PAR.Shift_Number);
PARAMETER(PAR.Production_Date);
PARAMETER(PAR.Transaction_Weight);
PARAMETER(PAR.Transaction_Quantity);
PARAMETER(*BLANK);
PARAMETER('N');
PARAMETER(NLL.Inventory_Updated_USR);
PARAMETER(NLL.API_was_Called_U);
PARAMETER('PVGQXFR');

//?Set Return Code.
CASE;

// IF PGM.*Return code is *Normal
IF PGM.*Return_code = *BLANK;

// PAR.Response Code USR = CND.WIM Manual Adj - SUCCESS
PAR.Response_Code_USR = 'SUCCESS';

//?Set Return Code.
// IF *OTHERWISE
IF *OTHERWISE;

// PAR.Response Code USR = CND.WIM Manual Adj - ERROR
PAR.Response_Code_USR = 'ERROR';

ENDIF;

ENDIF;

//?Processing for Receipt.
CASE;

// IF PAR.WIM Inventory Trans ID is Receipt
IF PAR.WIM_Inventory_Trans_ID = 'R';

// Call program Prc Create Dtl Receipt2XF.
CALL PROGRAM(Prc Create Dtl Receipt2XF) ('PVGTXFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Item_Code);
PARAMETER(PAR.Ship_From_Warehouse);
PARAMETER(PAR.WIM_Inventory_Trans_ID);
PARAMETER(PAR.WIM_Inventory_Trans_Type);
PARAMETER(PAR.Transaction_Date);
PARAMETER(PAR.Production_Date);
PARAMETER(PAR.Item_Transaction_Source);
PARAMETER(PAR.Transaction_Description);
PARAMETER(PAR.Transaction_Reason_Code);
PARAMETER(PAR.Order_Number);
PARAMETER(PAR.Shift_Number);
PARAMETER(PAR.Transaction_Weight);
PARAMETER(PAR.Transaction_Quantity);
PARAMETER(PAR.Update_Program_Code_USR);

//?Set Return Code.
CASE;

// IF PGM.*Return code is *Normal
IF PGM.*Return_code = *BLANK;

// PAR.Response Code USR = CND.WIM Manual Adj - SUCCESS
PAR.Response_Code_USR = 'SUCCESS';

//?Set Return Code.
// IF *OTHERWISE
IF *OTHERWISE;

// PAR.Response Code USR = CND.WIM Manual Adj - ERROR
PAR.Response_Code_USR = 'ERROR';

ENDIF;

ENDIF;

