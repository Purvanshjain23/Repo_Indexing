/********************************************************************/
/*                                                                  */
/*  SYNOPSIS - FAX LOAD CONFIRMATION FROM WW LOADS AND WW ALL LOADS */
/*                                                                  */
/*  SYSTEM    - ORDER MANAGEMENT SYSTEM                             */
/*  PROGRAM   - FAX LOAD CONFIRMATION                               */
/*  DATE      -  1/14/97                                            */
/*                                                                  */
/*      PARAMETERS RECEIVED:                                        */
/*                                                                  */
/*          &RETURN     - RETURN CODE                               */
/*          &COMPNYN    - COMPANY NUMBER                            */
/*          &CARRIER    - ORDE NUMBER                               */
/*          &LOADN      - LOAD NUMBER                               */
/*          &JOBCDE     - JOB NAME CODE                             */
/*          &FAXCAR     - FAX TO CARRIER                           */
/*          &FAXDIS     - FAX TO DISPATCH OFFICE Y/N               */
/********************************************************************/
/* MODIFIED: RMC 5/24/02 ADDED FAX TO DISPATCH OFFICE PARM-&FAXDIS  */
/*                       AND FAX TO CARRIER PARM-&FAXCAR            */
/* MODIFIED: LJB 5/22/06 REMOVED LIBRARY QUALIFICATION FROM FAXQ    */
/*           OMS047      SO QUEUE IN THE LIBRARY LIST WILL BE       */
/*                       USED. FAXQ IN QUSRSYS HAS BEEN DELETED.    */
/* E00170  : LJB 9/04/08 ADDED HOLD(*YES) AND SAVE(*YES) TO THE     */
/*           PRINTER OVERRIDE SO THE SPOOLED FILE CAN BE DUPED.     */
/********************************************************************/
 PDVVPCLP:   PGM        PARM(&RETURN &COMPNYN &CARRIER &LOADN +
                          &JOBCDE &FAXCAR &FAXDIS)

/* PARMS                                                                      */
        DCL    &RETURN     *CHAR  (7)            /* RETURN CODE  */
        DCL    &COMPNYN    *DEC                  /* Company Number (Passed)   */
        DCL    &CARRIER    *CHAR  (3)            /* CARRIER CODE */
        DCL    &LOADN      *DEC                  /* LOAD ID        (Passed)   */
        DCL    &JOBCDE     *CHAR  (10)           /* JOB NAME CODE*/
        DCL    &FAXCAR     *CHAR  (1)            /* FAX TO CARRIER  */
        DCL    &FAXDIS     *CHAR  (1)            /* FAX TO DISPATCH */

/* INTERNAL FIELDS                                                            */
        DCL    &COMPANY    *DEC    (3 0)         /* Company Number            */
        DCL    &LOAD       *DEC    (7 0)         /* LOAD NUMBER               */

/********************************************************************/
/* CHANGE VARIABLES FOR USE IN PROGRAM                              */
/********************************************************************/

             CHGVAR     VAR(&COMPANY) VALUE(&COMPNYN)
             CHGVAR     VAR(&LOAD) VALUE(&LOADN)

/********************************************************************/
/*   SEND LOAD CONFIRMATION FAX                                     */
/********************************************************************/
/**** OMS047 OVRPRTF    FILE(PDDJPFR$) OUTQ(PRKFLIB/FAXQ)           */
/********************************************************************/
             OVRPRTF    FILE(PDDJPFR$) OUTQ(QPRINT2) HOLD(*YES) +
                          SAVE(*YES)

             CALL       PGM(PDAMXFR) PARM(&RETURN &COMPANY +
                          &JOBCDE 'F' &FAXCAR &FAXDIS)

 END:        ENDPGM
