// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLQRDFR
// ?Date: 14.08.2025 Time: 02:55:12
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

// WRK.Buy Order Number Alpha = CVTVAR(PAR.BOH Buy Order Number)
WRK.Buy_Order_Number_Alpha = CVTVAR(PAR.BOH_Buy_Order_Number);

// WRK.Blank Usr 2 char = CVTVAR(PAR.BOL Load Number)
WRK.Blank_Usr_2_char = CVTVAR(PAR.BOL_Load_Number);

// WRK.Movement Alpha USR = CONCAT(WRK.Buy Order Load Alpha,WRK.Blank Usr 2 char,CON.*ZERO)
WRK.Movement_Alpha_USR = WRK.Buy_Order_Load_Alpha + WRK.Blank_Usr_2_char (*ZERO);

// WRK.Movement number new usr = CVTVAR(WRK.Movement Alpha USR)
WRK.Movement_number_new_usr = CVTVAR(WRK.Movement_Alpha_USR);

//?USER: Initialize subfile control

// CTL.CC Company Number = PAR.BOH Company Number
CTL.CC_Company_Number = PAR.BOH_Company_Number;

// CTL.BOH Company Number = PAR.BOH Company Number
CTL.BOH_Company_Number = PAR.BOH_Company_Number;

// CTL.BOH Buy Order Number = PAR.BOH Buy Order Number
CTL.BOH_Buy_Order_Number = PAR.BOH_Buy_Order_Number;

// CTL.BOL Load Number = PAR.BOL Load Number
CTL.BOL_Load_Number = PAR.BOL_Load_Number;

// CTL.Movement Alpha USR = WRK.Movement Alpha USR
CTL.Movement_Alpha_USR = WRK.Movement_Alpha_USR;

//?USER: Initialize subfile record from DBF record

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

CASE;

// IF WRK.Movement number new usr EQ DB1.BOLW Movement Number
IF WRK.Movement_number_new_usr = DB1.BOLW_Movement_Number;

// PGM.*Record selected = CND.*YES
PGM.*Record_selected = 'Y';

ENDIF;

