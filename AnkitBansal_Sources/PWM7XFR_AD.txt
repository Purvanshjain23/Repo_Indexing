// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PWM7XFR
// ?Date: 14.08.2025 Time: 02:57:01
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Chk for Incmplt Repay RT) TYPE(RTVOBJ) FILE(PWAWCPP)           AB1366399;
PARAMETER(PAR.CC_Company_Number);
PARAMETER(PAR.TRH_Repayment_ID);
PARAMETER(PAR.TRH_Repayment_Status);
{
 //?USER: Initialize routine

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 //?If Tattoo Repayment Header Status <> Repaid
 CASE;

 // IF DB1.TRH Repayment Status is Repaid
 IF DB1.TRH_Repayment_Status = 'R';

 // OR DB1.TRH Repayment Status is Cancelled
 OR DB1.TRH_Repayment_Status = 'X';

 //?If Tattoo Repayment Header Status <> Repaid
 // IF *OTHERWISE
 IF *OTHERWISE;

 // PAR.TRH Repayment ID = DB1.TRH Repayment ID
 PAR.TRH_Repayment_ID = DB1.TRH_Repayment_ID;

 // PAR.TRH Repayment Status = DB1.TRH Repayment Status
 PAR.TRH_Repayment_Status = DB1.TRH_Repayment_Status;

 QUIT;

 ENDIF;

}


