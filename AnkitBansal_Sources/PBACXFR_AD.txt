// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBACXFR
// ?Date: 14.08.2025 Time: 03:47:12
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV OD Error from Upl RT) TYPE(RTVOBJ) FILE(OPBGWKP)           AC2027804;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Order_Number);
PARAMETER(*ZERO);
PARAMETER(*ZERO);
PARAMETER(PAR.Item_Age_Days);
PARAMETER(PAR.Order_Line_Error_Type);
PARAMETER(PAR.Status_Flag_20_Y_N);
{
 //?USER: Initialize routine

 // PAR.Status Flag 20 Y/N = CND.No
 PAR.Status_Flag_20_Y_N = 'N';

 //?USER: Process Data record

 //?** Error if at least one error remains, else no errors
 CASE;

 // IF DB1.Order Line Error Type is Upload Error Pending
 IF DB1.Order_Line_Error_Type = 'DD'/'HD'/'IT'/'AC'/'WT'/'PA'/'SL'/'DT'/'ME';

 // PAR.Status Flag 20 Y/N = CND.Yes
 PAR.Status_Flag_20_Y_N = 'Y';

 // PAR.Order Line Error Type = DB1.Order Line Error Type
 PAR.Order_Line_Error_Type = DB1.Order_Line_Error_Type;

 // PAR.Item Age Days = DB1.Item Age Days
 PAR.Item_Age_Days = DB1.Item_Age_Days;

 QUIT;

 ENDIF;

}


