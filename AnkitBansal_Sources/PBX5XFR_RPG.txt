     H/TITLE Cnv A/R Header Ext CrtXF  Execute external functio
     H            Y
     Z* CRTRPGPGM
     Z* CVTOPT(*DATETIME)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by CA 2E release 8.6 (1547)
     H* Function type : Execute external function
      *
     H* Company       : OMS Development Model
     H* System        : OMS Development Model
     H* User name     : ISDNGUY
     H* Date          : 09/27/16  Time  : 17:38:48
     H* Copyright     : OMS Development Model
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FARBDCPL1IF  E           K        DISK
      * RTV : A/R Header                Retrieval index       V
      *
     FARBECPL1IF  E           K        DISK
      * RTV : A/R Detail                Retrieval index       V
      *
     FOMHSTPN0IF  E           K        DISK
      * RSQ : Sales History             Inv#/Co
      *
     FOMHSTPOJIF  E           K        DISK
      * RSQ : Sales History             Co/Inv/InvSfx
      *
     FPBC0CPL1IF  E           K        DISK
      * RTV : A/R Header Ext            Retrieval index
      *
     FOMHSTPL1IF  E           K        DISK
      * RTV : Sales History             Retrieval index
      *
     FOPBFCPLOIF  E           K        DISK
      * RSQ : Order Header TRG          Ord-D/Co
      *
     FOMHSTPM6IF  E           K        DISK
      * RSQ : Sales History             Co/Ord/Itm/Whs
      *
     FPBC0CPL0IF  E           K        DISK                      A
      * UPD : A/R Header Ext            Update index
      *
     I@BDCPFH
      * A/R Header                Retrieval index       V
      * Renamed input format fields
     I              BDAIC3                          WAAIC3
     I              BDCONB                          WACONB
     I              BDCEST                          WACEST
     I              BDUHCD                          WAUHCD
     I              BDBSVA                          WABSVA
     I              BDAIVA                          WAAIVA
     I              BDAOVA                          WAAOVA
     I              BDBGVA                          WABGVA
     I              BDAJST                          WAAJST
     I              BDE3ST                          WAE3ST
     I              BDG4CD                          WAG4CD
     I              BDCKNB                          WACKNB
     I              BDCAC7                          WACAC7
     I              BDBKC7                          WABKC7
     I              BDBCCD                          WABCCD
     I              BDR4CD                          WAR4CD
     I              BDB4DT                          WAB4DT
     I              BDATDT                          WAATDT
     I              BDH0DT                          WAH0DT
     I              BDH3DT                          WAH3DT
     I              BDH4DT                          WAH4DT
     I              BDH5DT                          WAH5DT
     I              BDANC7                          WAANC7
     I              BDCPTX                          WACPTX
     I              BDBSDY                          WABSDY
     I              BDUVST                          WAUVST
     I              BDUWST                          WAUWST
     I              BDUXST                          WAUXST
     I              BDAATM                          WAAATM
     I              BDAYNA                          WAAYNA
     I              BDA0NA                          WAA0NA
     I              BDAXDT                          WAAXDT
      *
     I@BFCPFO
      * A/R Detail                Retrieval index       V
      * Renamed input format fields
     I              BFAIC3                          WBAIC3
     I              BFCONB                          WBCONB
     I              BFCEST                          WBCEST
     I              BFDXNB                          WBDXNB
     I              BFUHCD                          WBUHCD
     I              BFBSVA                          WBBSVA
     I              BFCPTX                          WBCPTX
     I              BFNGNA                          WBNGNA
     I              BFB4DT                          WBB4DT
     I              BFDVDT                          WBDVDT
     I              BFYXNX                          WBYXNX
     I              BFHYDT                          WBHYDT
     I              BFG4CD                          WBG4CD
     I              BFCKNB                          WBCKNB
     I              BFA5ST                          WBA5ST
     I              BFAJST                          WBAJST
     I              BFB1VN                          WBB1VN
     I              BFEAZT                          WBEAZT
     I              BFC1NY                          WBC1NY
     I              BFIZTX                          WBIZTX
     I              BFETSX                          WBETSX
     I              BFW3SX                          WBW3SX
     I              BFW4SX                          WBW4SX
     I              BFW5SX                          WBW5SX
     I              BFW6SX                          WBW6SX
     I              BFW7SX                          WBW7SX
     I              BFW8SX                          WBW8SX
     I              BFQHDT                          WBQHDT
     I              BFQIDT                          WBQIDT
     I              BFQJDT                          WBQJDT
     I              BFQKDT                          WBQKDT
     I              BFQLDT                          WBQLDT
     I              BFGLVL                          WBGLVL
     I              BFGMVL                          WBGMVL
     I              BFGNVL                          WBGNVL
     I              BFGOVL                          WBGOVL
     I              BFGPVL                          WBGPVL
     I              BFUVST                          WBUVST
     I              BFUWST                          WBUWST
     I              BFUXST                          WBUXST
     I              BFAATM                          WBAATM
     I              BFAYNA                          WBAYNA
     I              BFA0NA                          WBA0NA
     I              BFAXDT                          WBAXDT
      *
     I@HSTPD9
      * Sales History             Inv#/Co
      * Renamed input format fields
     I              F4AIC3                          WCAIC3
     I              F4C4NB                          WCC4NB
     I              F4DPNB                          WCDPNB
     I              F4UENB                          WCUENB
     I              F4MONA                          WCMONA
     I              F4RJCD                          WCRJCD
     I              F4RKCD                          WCRKCD
     I              F4GPTX                          WCGPTX
     I              F4ABTX                          WCABTX
     I              F4KXCD                          WCKXCD
     I              F4BOCD                          WCBOCD
     I              F4BTC7                          WCBTC7
     I              F4ANC7                          WCANC7
     I              F4AQTX                          WCAQTX
     I              F4BKC7                          WCBKC7
     I              F4BRTX                          WCBRTX
     I              F4HNNA                          WCHNNA
     I              F4DBCD                          WCDBCD
     I              F4CKTX                          WCCKTX
     I              F4BCNA                          WCBCNA
     I              F4A0DT                          WCA0DT
     I              F4ACDT                          WCACDT
     I              F4R4CD                          WCR4CD
     I              F4R5CD                          WCR5CD
     I              F4BFCD                          WCBFCD
     I              F4Q4CD                          WCQ4CD
     I              F4AQCD                          WCAQCD
     I              F4TBNB                          WCTBNB
     I              F4BZNA                          WCBZNA
     I              F4RLCD                          WCRLCD
     I              F4JNCD                          WCJNCD
     I              F4Q2CD                          WCQ2CD
     I              F4U2ST                          WCU2ST
     I              F4ATIN                          WCATIN
     I              F4T3NB                          WCT3NB
     I              F4RSRN                          WCRSRN
     I              F4ORIT                          WCORIT
     I              F4AJCD                          WCAJCD
     I              F4AVQT                          WCAVQT
     I              F4D0WG                          WCD0WG
     I              F4CCQT                          WCCCQT
     I              F4AUWG                          WCAUWG
     I              F4AGCD                          WCAGCD
     I              F4AKPR                          WCAKPR
     I              F4AUPR                          WCAUPR
     I              F4CRCD                          WCCRCD
     I              F4A5DT                          WCA5DT
     I              F4AWDT                          WCAWDT
     I              F4HDDT                          WCHDDT
     I              F4AGCS                          WCAGCS
     I              F4AQCS                          WCAQCS
     I              F4AVWG                          WCAVWG
     I              F4AYVA                          WCAYVA
     I              F4AMST                          WCAMST
     I              F4ANST                          WCANST
     I              F4VAST                          WCVAST
     I              F4L6NB                          WCL6NB
     I              F4UMCD                          WCUMCD
     I              F4HCDT                          WCHCDT
     I              F4ESNB                          WCESNB
     I              F4ETNB                          WCETNB
     I              F4BZNB                          WCBZNB
     I              F4EXQT                          WCEXQT
     I              F4BYWG                          WCBYWG
     I              F4S5NB                          WCS5NB
     I              F4MAVA                          WCMAVA
     I              F4KDVA                          WCKDVA
     I              F4USVA                          WCUSVA
     I              F4UTVA                          WCUTVA
     I              F4A4WG                          WCA4WG
     I              F4CKNB                          WCCKNB
     I              F4BMST                          WCBMST
     I              F4R8NB                          WCR8NB
     I              F4RMCD                          WCRMCD
     I              F4BZPR                          WCBZPR
     I              F4RDCD                          WCRDCD
     I              F4Q7CD                          WCQ7CD
     I              F4EXDT                          WCEXDT
     I              F4LQCD                          WCLQCD
     I              F4HICD                          WCHICD
     I              F4RBCD                          WCRBCD
     I              F4RGNB                          WCRGNB
     I              F4RHNB                          WCRHNB
     I              F4RINB                          WCRINB
     I              F4R1NB                          WCR1NB
     I              F4CONB                          WCCONB
     I              F4CEST                          WCCEST
     I              F4GNDT                          WCGNDT
     I              F4RMNB                          WCRMNB
     I              F4AODT                          WCAODT
     I              F4LLCD                          WCLLCD
     I              F4LMCD                          WCLMCD
     I              F4SKNB                          WCSKNB
     I              F4SLNB                          WCSLNB
     I              F4SMNB                          WCSMNB
     I              F4G7NA                          WCG7NA
     I              F4ONVA                          WCONVA
     I              F4N0CD                          WCN0CD
     I              F4B4NB                          WCB4NB
     I              F4B5NB                          WCB5NB
     I              F4N1CD                          WCN1CD
     I              F4GIDT                          WCGIDT
     I              F4Z1ST                          WCZ1ST
     I              F4ULVA                          WCULVA
     I              F4UNVA                          WCUNVA
     I              F4UOVA                          WCUOVA
     I              F4UPVA                          WCUPVA
     I              F4UQVA                          WCUQVA
     I              F4SDCD                          WCSDCD
     I              F4QZCD                          WCQZCD
     I              F4XWST                          WCXWST
     I              F4T9CD                          WCT9CD
     I              F4UBCD                          WCUBCD
     I              F4CFC7                          WCCFC7
     I              F4X1CD                          WCX1CD
     I              F4GASX                          WCGASX
     I              F4DUPR                          WCDUPR
     I              F4B6VL                          WCB6VL
     I              F4IANX                          WCIANX
     I              F4IBNX                          WCIBNX
     I              F4RPCD                          WCRPCD
     I              F4NYDT                          WCNYDT
     I              F4BZTM                          WCBZTM
     I              F4Z4NB                          WCZ4NB
     I              F4XACD                          WCXACD
     I              F4OANA                          WCOANA
     I              F4OKTX                          WCOKTX
     I              F4K4TX                          WCK4TX
     I              F4NBBO                          WCNBBO
     I              F4OCFR                          WCOCFR
     I              F4C0C7                          WCC0C7
     I              F4A1AA                          WCA1AA
     I              F4VEST                          WCVEST
     I              F4A5PR                          WCA5PR
     I              F4CDPR                          WCCDPR
     I              F4D0PR                          WCD0PR
     I              F4D0VL                          WCD0VL
     I              F4IRSX                          WCIRSX
     I              F4CEVL                          WCCEVL
     I              F4ISSX                          WCISSX
     I              F4ITSX                          WCITSX
     I              F4IUSX                          WCIUSX
     I              F4OHDT                          WCOHDT
     I              F4D9PR                          WCD9PR
     I              F4CFVL                          WCCFVL
     I              F4UVST                          WCUVST
     I              F4UWST                          WCUWST
     I              F4UXST                          WCUXST
     I              F4AATM                          WCAATM
     I              F4AYNA                          WCAYNA
     I              F4A0NA                          WCA0NA
     I              F4AXDT                          WCAXDT
      *
     I@HSTPYS
      * Sales History             Co/Inv/InvSfx
      * Renamed input format fields
     I              F4AIC3                          WDAIC3
     I              F4C4NB                          WDC4NB
     I              F4DPNB                          WDDPNB
     I              F4UENB                          WDUENB
     I              F4MONA                          WDMONA
     I              F4RJCD                          WDRJCD
     I              F4RKCD                          WDRKCD
     I              F4GPTX                          WDGPTX
     I              F4ABTX                          WDABTX
     I              F4KXCD                          WDKXCD
     I              F4BOCD                          WDBOCD
     I              F4BTC7                          WDBTC7
     I              F4ANC7                          WDANC7
     I              F4AQTX                          WDAQTX
     I              F4BKC7                          WDBKC7
     I              F4BRTX                          WDBRTX
     I              F4HNNA                          WDHNNA
     I              F4DBCD                          WDDBCD
     I              F4CKTX                          WDCKTX
     I              F4BCNA                          WDBCNA
     I              F4A0DT                          WDA0DT
     I              F4ACDT                          WDACDT
     I              F4R4CD                          WDR4CD
     I              F4R5CD                          WDR5CD
     I              F4BFCD                          WDBFCD
     I              F4Q4CD                          WDQ4CD
     I              F4AQCD                          WDAQCD
     I              F4TBNB                          WDTBNB
     I              F4BZNA                          WDBZNA
     I              F4RLCD                          WDRLCD
     I              F4JNCD                          WDJNCD
     I              F4Q2CD                          WDQ2CD
     I              F4U2ST                          WDU2ST
     I              F4ATIN                          WDATIN
     I              F4T3NB                          WDT3NB
     I              F4RSRN                          WDRSRN
     I              F4ORIT                          WDORIT
     I              F4AJCD                          WDAJCD
     I              F4AVQT                          WDAVQT
     I              F4D0WG                          WDD0WG
     I              F4CCQT                          WDCCQT
     I              F4AUWG                          WDAUWG
     I              F4AGCD                          WDAGCD
     I              F4AKPR                          WDAKPR
     I              F4AUPR                          WDAUPR
     I              F4CRCD                          WDCRCD
     I              F4A5DT                          WDA5DT
     I              F4AWDT                          WDAWDT
     I              F4HDDT                          WDHDDT
     I              F4AGCS                          WDAGCS
     I              F4AQCS                          WDAQCS
     I              F4AVWG                          WDAVWG
     I              F4AYVA                          WDAYVA
     I              F4AMST                          WDAMST
     I              F4ANST                          WDANST
     I              F4VAST                          WDVAST
     I              F4L6NB                          WDL6NB
     I              F4UMCD                          WDUMCD
     I              F4HCDT                          WDHCDT
     I              F4ESNB                          WDESNB
     I              F4ETNB                          WDETNB
     I              F4BZNB                          WDBZNB
     I              F4EXQT                          WDEXQT
     I              F4BYWG                          WDBYWG
     I              F4S5NB                          WDS5NB
     I              F4MAVA                          WDMAVA
     I              F4KDVA                          WDKDVA
     I              F4USVA                          WDUSVA
     I              F4UTVA                          WDUTVA
     I              F4A4WG                          WDA4WG
     I              F4CKNB                          WDCKNB
     I              F4BMST                          WDBMST
     I              F4R8NB                          WDR8NB
     I              F4RMCD                          WDRMCD
     I              F4BZPR                          WDBZPR
     I              F4RDCD                          WDRDCD
     I              F4Q7CD                          WDQ7CD
     I              F4EXDT                          WDEXDT
     I              F4LQCD                          WDLQCD
     I              F4HICD                          WDHICD
     I              F4RBCD                          WDRBCD
     I              F4RGNB                          WDRGNB
     I              F4RHNB                          WDRHNB
     I              F4RINB                          WDRINB
     I              F4R1NB                          WDR1NB
     I              F4CONB                          WDCONB
     I              F4CEST                          WDCEST
     I              F4GNDT                          WDGNDT
     I              F4RMNB                          WDRMNB
     I              F4AODT                          WDAODT
     I              F4LLCD                          WDLLCD
     I              F4LMCD                          WDLMCD
     I              F4SKNB                          WDSKNB
     I              F4SLNB                          WDSLNB
     I              F4SMNB                          WDSMNB
     I              F4G7NA                          WDG7NA
     I              F4ONVA                          WDONVA
     I              F4N0CD                          WDN0CD
     I              F4B4NB                          WDB4NB
     I              F4B5NB                          WDB5NB
     I              F4N1CD                          WDN1CD
     I              F4GIDT                          WDGIDT
     I              F4Z1ST                          WDZ1ST
     I              F4ULVA                          WDULVA
     I              F4UNVA                          WDUNVA
     I              F4UOVA                          WDUOVA
     I              F4UPVA                          WDUPVA
     I              F4UQVA                          WDUQVA
     I              F4SDCD                          WDSDCD
     I              F4QZCD                          WDQZCD
     I              F4XWST                          WDXWST
     I              F4T9CD                          WDT9CD
     I              F4UBCD                          WDUBCD
     I              F4CFC7                          WDCFC7
     I              F4X1CD                          WDX1CD
     I              F4GASX                          WDGASX
     I              F4DUPR                          WDDUPR
     I              F4B6VL                          WDB6VL
     I              F4IANX                          WDIANX
     I              F4IBNX                          WDIBNX
     I              F4RPCD                          WDRPCD
     I              F4NYDT                          WDNYDT
     I              F4BZTM                          WDBZTM
     I              F4Z4NB                          WDZ4NB
     I              F4XACD                          WDXACD
     I              F4OANA                          WDOANA
     I              F4OKTX                          WDOKTX
     I              F4K4TX                          WDK4TX
     I              F4NBBO                          WDNBBO
     I              F4OCFR                          WDOCFR
     I              F4C0C7                          WDC0C7
     I              F4A1AA                          WDA1AA
     I              F4VEST                          WDVEST
     I              F4A5PR                          WDA5PR
     I              F4CDPR                          WDCDPR
     I              F4D0PR                          WDD0PR
     I              F4D0VL                          WDD0VL
     I              F4IRSX                          WDIRSX
     I              F4CEVL                          WDCEVL
     I              F4ISSX                          WDISSX
     I              F4ITSX                          WDITSX
     I              F4IUSX                          WDIUSX
     I              F4OHDT                          WDOHDT
     I              F4D9PR                          WDD9PR
     I              F4CFVL                          WDCFVL
     I              F4UVST                          WDUVST
     I              F4UWST                          WDUWST
     I              F4UXST                          WDUXST
     I              F4AATM                          WDAATM
     I              F4AYNA                          WDAYNA
     I              F4A0NA                          WDA0NA
     I              F4AXDT                          WDAXDT
      *
     I@C0CPYP
      * A/R Header Ext            Retrieval index
      * Renamed input format fields
     I              C0AIC3                          WEAIC3
     I              C0CONB                          WECONB
     I              C0CEST                          WECEST
     I              C0JNCD                          WEJNCD
     I              C0U9AA                          WEU9AA
     I              C0ATIN                          WEATIN
     I              C0T3NB                          WET3NB
     I              C0V7DT                          WEV7DT
     I              C0HLNB                          WEHLNB
     I              C0C0C7                          WEC0C7
     I              C0D1SC                          WED1SC
     I              C0D2SC                          WED2SC
     I              C0D3SC                          WED3SC
     I              C0FTU1                          WEFTU1
     I              C0FUU1                          WEFUU1
     I              C0V8DT                          WEV8DT
     I              C0V9DT                          WEV9DT
     I              C0WADT                          WEWADT
     I              C0HMNB                          WEHMNB
     I              C0N2NB                          WEN2NB
     I              C0UUN3                          WEUUN3
     I              C0UVST                          WEUVST
     I              C0UWST                          WEUWST
     I              C0UXST                          WEUXST
     I              C0AATM                          WEAATM
     I              C0AYNA                          WEAYNA
     I              C0A0NA                          WEA0NA
     I              C0AXDT                          WEAXDT
      *
     I@C0CPYO
      * A/R Header Ext            Update index
      * Renamed input format fields
     I              C0AIC3                          WFAIC3
     I              C0CONB                          WFCONB
     I              C0CEST                          WFCEST
     I              C0JNCD                          WFJNCD
     I              C0U9AA                          WFU9AA
     I              C0ATIN                          WFATIN
     I              C0T3NB                          WFT3NB
     I              C0V7DT                          WFV7DT
     I              C0HLNB                          WFHLNB
     I              C0C0C7                          WFC0C7
     I              C0D1SC                          WFD1SC
     I              C0D2SC                          WFD2SC
     I              C0D3SC                          WFD3SC
     I              C0FTU1                          WFFTU1
     I              C0FUU1                          WFFUU1
     I              C0V8DT                          WFV8DT
     I              C0V9DT                          WFV9DT
     I              C0WADT                          WFWADT
     I              C0HMNB                          WFHMNB
     I              C0N2NB                          WFN2NB
     I              C0UUN3                          WFUUN3
     I              C0UVST                          WFUVST
     I              C0UWST                          WFUWST
     I              C0UXST                          WFUXST
     I              C0AATM                          WFAATM
     I              C0AYNA                          WFAYNA
     I              C0A0NA                          WFA0NA
     I              C0AXDT                          WFAXDT
      *
     I@FHSTD3
      * Sales History             Retrieval index
      * Renamed input format fields
     I              F4AIC3                          WGAIC3
     I              F4C4NB                          WGC4NB
     I              F4DPNB                          WGDPNB
     I              F4UENB                          WGUENB
     I              F4MONA                          WGMONA
     I              F4RJCD                          WGRJCD
     I              F4RKCD                          WGRKCD
     I              F4GPTX                          WGGPTX
     I              F4ABTX                          WGABTX
     I              F4KXCD                          WGKXCD
     I              F4BOCD                          WGBOCD
     I              F4BTC7                          WGBTC7
     I              F4ANC7                          WGANC7
     I              F4AQTX                          WGAQTX
     I              F4BKC7                          WGBKC7
     I              F4BRTX                          WGBRTX
     I              F4HNNA                          WGHNNA
     I              F4DBCD                          WGDBCD
     I              F4CKTX                          WGCKTX
     I              F4BCNA                          WGBCNA
     I              F4A0DT                          WGA0DT
     I              F4ACDT                          WGACDT
     I              F4R4CD                          WGR4CD
     I              F4R5CD                          WGR5CD
     I              F4BFCD                          WGBFCD
     I              F4Q4CD                          WGQ4CD
     I              F4AQCD                          WGAQCD
     I              F4TBNB                          WGTBNB
     I              F4BZNA                          WGBZNA
     I              F4RLCD                          WGRLCD
     I              F4JNCD                          WGJNCD
     I              F4Q2CD                          WGQ2CD
     I              F4U2ST                          WGU2ST
     I              F4ATIN                          WGATIN
     I              F4T3NB                          WGT3NB
     I              F4RSRN                          WGRSRN
     I              F4ORIT                          WGORIT
     I              F4AJCD                          WGAJCD
     I              F4AVQT                          WGAVQT
     I              F4D0WG                          WGD0WG
     I              F4CCQT                          WGCCQT
     I              F4AUWG                          WGAUWG
     I              F4AGCD                          WGAGCD
     I              F4AKPR                          WGAKPR
     I              F4AUPR                          WGAUPR
     I              F4CRCD                          WGCRCD
     I              F4A5DT                          WGA5DT
     I              F4AWDT                          WGAWDT
     I              F4HDDT                          WGHDDT
     I              F4AGCS                          WGAGCS
     I              F4AQCS                          WGAQCS
     I              F4AVWG                          WGAVWG
     I              F4AYVA                          WGAYVA
     I              F4AMST                          WGAMST
     I              F4ANST                          WGANST
     I              F4VAST                          WGVAST
     I              F4L6NB                          WGL6NB
     I              F4UMCD                          WGUMCD
     I              F4HCDT                          WGHCDT
     I              F4ESNB                          WGESNB
     I              F4ETNB                          WGETNB
     I              F4BZNB                          WGBZNB
     I              F4EXQT                          WGEXQT
     I              F4BYWG                          WGBYWG
     I              F4S5NB                          WGS5NB
     I              F4MAVA                          WGMAVA
     I              F4KDVA                          WGKDVA
     I              F4USVA                          WGUSVA
     I              F4UTVA                          WGUTVA
     I              F4A4WG                          WGA4WG
     I              F4CKNB                          WGCKNB
     I              F4BMST                          WGBMST
     I              F4R8NB                          WGR8NB
     I              F4RMCD                          WGRMCD
     I              F4BZPR                          WGBZPR
     I              F4RDCD                          WGRDCD
     I              F4Q7CD                          WGQ7CD
     I              F4EXDT                          WGEXDT
     I              F4LQCD                          WGLQCD
     I              F4HICD                          WGHICD
     I              F4RBCD                          WGRBCD
     I              F4RGNB                          WGRGNB
     I              F4RHNB                          WGRHNB
     I              F4RINB                          WGRINB
     I              F4R1NB                          WGR1NB
     I              F4CONB                          WGCONB
     I              F4CEST                          WGCEST
     I              F4GNDT                          WGGNDT
     I              F4RMNB                          WGRMNB
     I              F4AODT                          WGAODT
     I              F4LLCD                          WGLLCD
     I              F4LMCD                          WGLMCD
     I              F4SKNB                          WGSKNB
     I              F4SLNB                          WGSLNB
     I              F4SMNB                          WGSMNB
     I              F4G7NA                          WGG7NA
     I              F4ONVA                          WGONVA
     I              F4N0CD                          WGN0CD
     I              F4B4NB                          WGB4NB
     I              F4B5NB                          WGB5NB
     I              F4N1CD                          WGN1CD
     I              F4GIDT                          WGGIDT
     I              F4Z1ST                          WGZ1ST
     I              F4ULVA                          WGULVA
     I              F4UNVA                          WGUNVA
     I              F4UOVA                          WGUOVA
     I              F4UPVA                          WGUPVA
     I              F4UQVA                          WGUQVA
     I              F4SDCD                          WGSDCD
     I              F4QZCD                          WGQZCD
     I              F4XWST                          WGXWST
     I              F4T9CD                          WGT9CD
     I              F4UBCD                          WGUBCD
     I              F4CFC7                          WGCFC7
     I              F4X1CD                          WGX1CD
     I              F4GASX                          WGGASX
     I              F4DUPR                          WGDUPR
     I              F4B6VL                          WGB6VL
     I              F4IANX                          WGIANX
     I              F4IBNX                          WGIBNX
     I              F4RPCD                          WGRPCD
     I              F4NYDT                          WGNYDT
     I              F4BZTM                          WGBZTM
     I              F4Z4NB                          WGZ4NB
     I              F4XACD                          WGXACD
     I              F4OANA                          WGOANA
     I              F4OKTX                          WGOKTX
     I              F4K4TX                          WGK4TX
     I              F4NBBO                          WGNBBO
     I              F4OCFR                          WGOCFR
     I              F4C0C7                          WGC0C7
     I              F4A1AA                          WGA1AA
     I              F4VEST                          WGVEST
     I              F4A5PR                          WGA5PR
     I              F4CDPR                          WGCDPR
     I              F4D0PR                          WGD0PR
     I              F4D0VL                          WGD0VL
     I              F4IRSX                          WGIRSX
     I              F4CEVL                          WGCEVL
     I              F4ISSX                          WGISSX
     I              F4ITSX                          WGITSX
     I              F4IUSX                          WGIUSX
     I              F4OHDT                          WGOHDT
     I              F4D9PR                          WGD9PR
     I              F4CFVL                          WGCFVL
     I              F4UVST                          WGUVST
     I              F4UWST                          WGUWST
     I              F4UXST                          WGUXST
     I              F4AATM                          WGAATM
     I              F4AYNA                          WGAYNA
     I              F4A0NA                          WGA0NA
     I              F4AXDT                          WGAXDT
      *
     I@BFCPY2
      * Order Header TRG          Ord-D/Co
      * Renamed input format fields
     I              BEAIC3                          WHAIC3
     I              BEC4NB                          WHC4NB
     I              BEJNCD                          WHJNCD
     I              BEANC7                          WHANC7
     I              BEBKC7                          WHBKC7
     I              BEBRTX                          WHBRTX
     I              BEHMNA                          WHHMNA
     I              BEHONA                          WHHONA
     I              BEHPNA                          WHHPNA
     I              BEHNNA                          WHHNNA
     I              BEDBCD                          WHDBCD
     I              BECKTX                          WHCKTX
     I              BEB0C7                          WHB0C7
     I              BEAETX                          WHAETX
     I              BEB1NA                          WHB1NA
     I              BEB3NA                          WHB3NA
     I              BEB4NA                          WHB4NA
     I              BEB2NA                          WHB2NA
     I              BEBHCD                          WHBHCD
     I              BEC8TX                          WHC8TX
     I              BEBCNA                          WHBCNA
     I              BEA0DT                          WHA0DT
     I              BEA5DT                          WHA5DT
     I              BEGNDT                          WHGNDT
     I              BEACDT                          WHACDT
     I              BEAQCD                          WHAQCD
     I              BEB6NA                          WHB6NA
     I              BEBYNA                          WHBYNA
     I              BEBZNA                          WHBZNA
     I              BEGTST                          WHGTST
     I              BEGVST                          WHGVST
     I              BEGUST                          WHGUST
     I              BEQFST                          WHQFST
     I              BECQCD                          WHCQCD
     I              BEGJST                          WHGJST
     I              BEGWST                          WHGWST
     I              BEGXST                          WHGXST
     I              BEGYST                          WHGYST
     I              BEAODT                          WHAODT
     I              BEAIVN                          WHAIVN
     I              BECXDT                          WHCXDT
     I              BEJZVA                          WHJZVA
     I              BEA1WG                          WHA1WG
     I              BEXIST                          WHXIST
     I              BEXJST                          WHXJST
     I              BEXKST                          WHXKST
     I              BEEIDT                          WHEIDT
     I              BEAFTM                          WHAFTM
     I              BEE8CD                          WHE8CD
     I              BEE9CD                          WHE9CD
     I              BERMNB                          WHRMNB
     I              BETBNB                          WHTBNB
     I              BER1NB                          WHR1NB
     I              BEPJST                          WHPJST
     I              BEU0ST                          WHU0ST
     I              BEU1ST                          WHU1ST
     I              BEQ2CD                          WHQ2CD
     I              BEU2ST                          WHU2ST
     I              BEVEST                          WHVEST
     I              BEVFST                          WHVFST
     I              BEVGST                          WHVGST
     I              BERPCD                          WHRPCD
     I              BERNNB                          WHRNNB
     I              BEVDST                          WHVDST
     I              BEATIN                          WHATIN
     I              BEU4ST                          WHU4ST
     I              BEU5ST                          WHU5ST
     I              BERSRN                          WHRSRN
     I              BEMHNA                          WHMHNA
     I              BEMINA                          WHMINA
     I              BEWBST                          WHWBST
     I              BER4CD                          WHR4CD
     I              BEBFCD                          WHBFCD
     I              BEQ4CD                          WHQ4CD
     I              BET3NB                          WHT3NB
     I              BESICD                          WHSICD
     I              BECONB                          WHCONB
     I              BECEST                          WHCEST
     I              BEAWDT                          WHAWDT
     I              BEJPCD                          WHJPCD
     I              BEXUST                          WHXUST
     I              BEZ1ST                          WHZ1ST
     I              BEVRVA                          WHVRVA
     I              BEOBST                          WHOBST
     I              BEBCST                          WHBCST
     I              BEBDST                          WHBDST
     I              BEB7VL                          WHB7VL
     I              BEGASX                          WHGASX
     I              BEGBSX                          WHGBSX
     I              BEGCSX                          WHGCSX
     I              BEGDSX                          WHGDSX
     I              BEFNSX                          WHFNSX
     I              BEFOSX                          WHFOSX
     I              BEFPSX                          WHFPSX
     I              BEFQSX                          WHFQSX
     I              BEFRSX                          WHFRSX
     I              BEFSSX                          WHFSSX
     I              BEFTSX                          WHFTSX
     I              BEFUSX                          WHFUSX
     I              BEFVSX                          WHFVSX
     I              BEFWSX                          WHFWSX
     I              BEFXSX                          WHFXSX
     I              BEFYSX                          WHFYSX
     I              BENODT                          WHNODT
     I              BENPDT                          WHNPDT
     I              BENQDT                          WHNQDT
     I              BENRDT                          WHNRDT
     I              BENSDT                          WHNSDT
     I              BEBPTM                          WHBPTM
     I              BEBQTM                          WHBQTM
     I              BEBRTM                          WHBRTM
     I              BEBSTM                          WHBSTM
     I              BEBTTM                          WHBTTM
     I              BEH0NX                          WHH0NX
     I              BEH1NX                          WHH1NX
     I              BEH2NX                          WHH2NX
     I              BEH3NX                          WHH3NX
     I              BEH4NX                          WHH4NX
     I              BEC0C7                          WHC0C7
     I              BEUVST                          WHUVST
     I              BEUWST                          WHUWST
     I              BEUXST                          WHUXST
     I              BEAATM                          WHAATM
     I              BEAYNA                          WHAYNA
     I              BEA0NA                          WHA0NA
     I              BEAXDT                          WHAXDT
      *
     I@HSTPZN
      * Sales History             Co/Ord/Itm/Whs
      * Renamed input format fields
     I              F4AIC3                          WIAIC3
     I              F4C4NB                          WIC4NB
     I              F4DPNB                          WIDPNB
     I              F4UENB                          WIUENB
     I              F4MONA                          WIMONA
     I              F4RJCD                          WIRJCD
     I              F4RKCD                          WIRKCD
     I              F4GPTX                          WIGPTX
     I              F4ABTX                          WIABTX
     I              F4KXCD                          WIKXCD
     I              F4BOCD                          WIBOCD
     I              F4BTC7                          WIBTC7
     I              F4ANC7                          WIANC7
     I              F4AQTX                          WIAQTX
     I              F4BKC7                          WIBKC7
     I              F4BRTX                          WIBRTX
     I              F4HNNA                          WIHNNA
     I              F4DBCD                          WIDBCD
     I              F4CKTX                          WICKTX
     I              F4BCNA                          WIBCNA
     I              F4A0DT                          WIA0DT
     I              F4ACDT                          WIACDT
     I              F4R4CD                          WIR4CD
     I              F4R5CD                          WIR5CD
     I              F4BFCD                          WIBFCD
     I              F4Q4CD                          WIQ4CD
     I              F4AQCD                          WIAQCD
     I              F4TBNB                          WITBNB
     I              F4BZNA                          WIBZNA
     I              F4RLCD                          WIRLCD
     I              F4JNCD                          WIJNCD
     I              F4Q2CD                          WIQ2CD
     I              F4U2ST                          WIU2ST
     I              F4ATIN                          WIATIN
     I              F4T3NB                          WIT3NB
     I              F4RSRN                          WIRSRN
     I              F4ORIT                          WIORIT
     I              F4AJCD                          WIAJCD
     I              F4AVQT                          WIAVQT
     I              F4D0WG                          WID0WG
     I              F4CCQT                          WICCQT
     I              F4AUWG                          WIAUWG
     I              F4AGCD                          WIAGCD
     I              F4AKPR                          WIAKPR
     I              F4AUPR                          WIAUPR
     I              F4CRCD                          WICRCD
     I              F4A5DT                          WIA5DT
     I              F4AWDT                          WIAWDT
     I              F4HDDT                          WIHDDT
     I              F4AGCS                          WIAGCS
     I              F4AQCS                          WIAQCS
     I              F4AVWG                          WIAVWG
     I              F4AYVA                          WIAYVA
     I              F4AMST                          WIAMST
     I              F4ANST                          WIANST
     I              F4VAST                          WIVAST
     I              F4L6NB                          WIL6NB
     I              F4UMCD                          WIUMCD
     I              F4HCDT                          WIHCDT
     I              F4ESNB                          WIESNB
     I              F4ETNB                          WIETNB
     I              F4BZNB                          WIBZNB
     I              F4EXQT                          WIEXQT
     I              F4BYWG                          WIBYWG
     I              F4S5NB                          WIS5NB
     I              F4MAVA                          WIMAVA
     I              F4KDVA                          WIKDVA
     I              F4USVA                          WIUSVA
     I              F4UTVA                          WIUTVA
     I              F4A4WG                          WIA4WG
     I              F4CKNB                          WICKNB
     I              F4BMST                          WIBMST
     I              F4R8NB                          WIR8NB
     I              F4RMCD                          WIRMCD
     I              F4BZPR                          WIBZPR
     I              F4RDCD                          WIRDCD
     I              F4Q7CD                          WIQ7CD
     I              F4EXDT                          WIEXDT
     I              F4LQCD                          WILQCD
     I              F4HICD                          WIHICD
     I              F4RBCD                          WIRBCD
     I              F4RGNB                          WIRGNB
     I              F4RHNB                          WIRHNB
     I              F4RINB                          WIRINB
     I              F4R1NB                          WIR1NB
     I              F4CONB                          WICONB
     I              F4CEST                          WICEST
     I              F4GNDT                          WIGNDT
     I              F4RMNB                          WIRMNB
     I              F4AODT                          WIAODT
     I              F4LLCD                          WILLCD
     I              F4LMCD                          WILMCD
     I              F4SKNB                          WISKNB
     I              F4SLNB                          WISLNB
     I              F4SMNB                          WISMNB
     I              F4G7NA                          WIG7NA
     I              F4ONVA                          WIONVA
     I              F4N0CD                          WIN0CD
     I              F4B4NB                          WIB4NB
     I              F4B5NB                          WIB5NB
     I              F4N1CD                          WIN1CD
     I              F4GIDT                          WIGIDT
     I              F4Z1ST                          WIZ1ST
     I              F4ULVA                          WIULVA
     I              F4UNVA                          WIUNVA
     I              F4UOVA                          WIUOVA
     I              F4UPVA                          WIUPVA
     I              F4UQVA                          WIUQVA
     I              F4SDCD                          WISDCD
     I              F4QZCD                          WIQZCD
     I              F4XWST                          WIXWST
     I              F4T9CD                          WIT9CD
     I              F4UBCD                          WIUBCD
     I              F4CFC7                          WICFC7
     I              F4X1CD                          WIX1CD
     I              F4GASX                          WIGASX
     I              F4DUPR                          WIDUPR
     I              F4B6VL                          WIB6VL
     I              F4IANX                          WIIANX
     I              F4IBNX                          WIIBNX
     I              F4RPCD                          WIRPCD
     I              F4NYDT                          WINYDT
     I              F4BZTM                          WIBZTM
     I              F4Z4NB                          WIZ4NB
     I              F4XACD                          WIXACD
     I              F4OANA                          WIOANA
     I              F4OKTX                          WIOKTX
     I              F4K4TX                          WIK4TX
     I              F4NBBO                          WINBBO
     I              F4OCFR                          WIOCFR
     I              F4C0C7                          WIC0C7
     I              F4A1AA                          WIA1AA
     I              F4VEST                          WIVEST
     I              F4A5PR                          WIA5PR
     I              F4CDPR                          WICDPR
     I              F4D0PR                          WID0PR
     I              F4D0VL                          WID0VL
     I              F4IRSX                          WIIRSX
     I              F4CEVL                          WICEVL
     I              F4ISSX                          WIISSX
     I              F4ITSX                          WIITSX
     I              F4IUSX                          WIIUSX
     I              F4OHDT                          WIOHDT
     I              F4D9PR                          WID9PR
     I              F4CFVL                          WICFVL
     I              F4UVST                          WIUVST
     I              F4UWST                          WIUWST
     I              F4UXST                          WIUXST
     I              F4AATM                          WIAATM
     I              F4AYNA                          WIAYNA
     I              F4A0NA                          WIA0NA
     I              F4AXDT                          WIAXDT
      *
      /EJECT
      * Data structures:
     IPGMDS     ESDSY2PGDSP
      * Modified Program data structure
     IJBDTTM      DS
      * Job date/time
     I                                        1   70##JDT
     I                                        1   10##JCC
     I                                        2   30##JYY
     I                                        4   50##JMM
     I                                        6   70##JDD
     I                                        8  130##JTM
     I                                        8   90##JHH
     I                                       10  110##JNN
     I                                       12  130##JSS
     IQPBC01    E DSPBC0CPL0
      * UPD : A/R Header Ext            Update index
      * Renamed input format fields
     I              C0AIC3                          WFAIC3
     I              C0CONB                          WFCONB
     I              C0CEST                          WFCEST
     I              C0JNCD                          WFJNCD
     I              C0U9AA                          WFU9AA
     I              C0ATIN                          WFATIN
     I              C0T3NB                          WFT3NB
     I              C0V7DT                          WFV7DT
     I              C0HLNB                          WFHLNB
     I              C0C0C7                          WFC0C7
     I              C0D1SC                          WFD1SC
     I              C0D2SC                          WFD2SC
     I              C0D3SC                          WFD3SC
     I              C0FTU1                          WFFTU1
     I              C0FUU1                          WFFUU1
     I              C0V8DT                          WFV8DT
     I              C0V9DT                          WFV9DT
     I              C0WADT                          WFWADT
     I              C0HMNB                          WFHMNB
     I              C0N2NB                          WFN2NB
     I              C0UUN3                          WFUUN3
     I              C0UVST                          WFUVST
     I              C0UWST                          WFUWST
     I              C0UXST                          WFUXST
     I              C0AATM                          WFAATM
     I              C0AYNA                          WFAYNA
     I              C0A0NA                          WFA0NA
     I              C0AXDT                          WFAXDT
      *
     I            DS
     I                                        1 132 ZAMSDA
      /EJECT
      *****************************************************************
      * Entry parameters
     C           *ENTRY    PLIST
     C                     PARM           P0RTN   7
      *****************************************************************
      * Initialize
     C                     EXSR ZZINIT
      *
      * Cnv A/R Header Ext CrtXF
      * Cnv A/R Header Ext CrtRT - A/R Header  * 
     C                     EXSR SARVGN
      *----------------------------------------------------------------
      * Exit program
     C           AAEXIT    TAG
     C                     MOVEL*BLANK    P0RTN
     C                     EXSR ZYEXPG
      *================================================================
      /EJECT
     CSR         SARVGN    BEGSR
      *================================================================
      * Cnv A/R Header Ext CrtRT - A/R Header  * 
      *================================================================
      *
     C                     Z-ADD*ZERO     WN0001  70       AR Ord Ref Actu
      *
     C                     MOVEL*BLANK    W0RTN   7
      * Establish starting position
     C           *LOVAL    SETLL@BDCPFH                    *
     C                     READ @BDCPFH                  90*
      * Data record not found
     C   90                MOVEL'USR0174' W0RTN   7
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * Set 'AR Ord Ref Actual Ship Dt' Only When Remaining Bal Due is 0.
      * CASE: DB1.Remaining Balance Due is equal to zero
     C           WABGVA    IFEQ 0                          *IF
      * Duplicate logic '$getdt' SR that is utilized within TF213 to get
      * Actual Shipped Date.
      * Rtv AR Org Inv for CB RT - A/R Detail  * 
     C                     EXSR SBRVGN
      * Try 'A/R Orig Inv for CB' from A/R Detail to get Actual Ship Date
      * CASE: LCL.A/R Orig Inv for CB is Not equal to zero
     C           YL0001    IFNE 0                          *IF
      * Rtv Actual Shipped DteRT - Sales History  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDYL0001    WL0001           Invoice Number
     C                     EXSR SCRVGN
      * Move subroutine local variables to output parameters.
     C                     Z-ADDWL0002    WN0001           Actual Shipped
     C                     ELSE
      * CASE: *OTHERWISE
      * Invoice < 100000 then use Trans Date from A/R Header othw use Sal
      * CASE: DB1.Invoice Number is Less than 100000
     C           WACONB    IFLT 100000                     *IF
     C                     Z-ADDWAB4DT    WN0001           AR Ord Ref Actu
     C                     ELSE
      * CASE: *OTHERWISE
      * Rtv Actual Shipped DteRT - Sales History  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWACONB    WL0001           Invoice Number
     C                     EXSR SCRVGN
      * Move subroutine local variables to output parameters.
     C                     Z-ADDWL0002    WN0001           Actual Shipped
     C                     END                             *FI
     C                     END                             *FI
     C                     ELSE
      * CASE: *OTHERWISE
     C                     Z-ADD0         WN0001           AR Ord Ref Actu
     C                     END                             *FI
      * Check Invoice Suffix and Create A/R Header Ext.
      * CASE: DB1.Invoice Suffix is Invoices
     C           WACEST    IFEQ 'IN'                       *IF
      * Cnv A/R Hdr Ext Crt   RT - Sales History  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0003           Company Number
     C                     Z-ADDWACONB    WL0004           Invoice Number
     C                     MOVELWACEST    WL0005    P      Invoice Suffix
     C                     Z-ADDWABGVA    WL0006           Remaining Balan
     C                     Z-ADDWN0001    WL0007           AR Ord Ref Actu
     C                     EXSR SDRVGN
     C                     ELSE
      * CASE:
      *  - c1 OR c2
      *   |- c1    : DB1.Invoice Suffix is Charge Backs
      *   |- c2    : DB1.Invoice Suffix is Rebill
      *   '-
     C           WACEST    IFEQ 'CB'                       *IF
     C           WACEST    OREQ 'RB'                       *OR
      * Note: Original Inv for CB field could be 0.
      * Cnv A/R Hdr Ext Crt 3 RT - Sales History  * 
     C                     EXSR SHRVGN
     C                     ELSE
      * CASE: DB1.Invoice Suffix is On Account Cash
     C           WACEST    IFEQ 'OA'                       *IF
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0008           Company Number
     C                     Z-ADDWACONB    WL0009           Invoice Number
     C                     MOVELWACEST    WL0010    P      Invoice Suffix
     C                     MOVEL'OA'      WL0011    P      Order Type - Sa
     C                     MOVEL*BLANK    WL0012           Attach to Order
     C                     Z-ADD0         WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADD0         WL0015           Orig Inv Actual
     C                     Z-ADD0         WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADD0         WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     ELSE
      * CASE: *OTHERWISE
      * Credit Memos (CM) & Debit Memos (DM) will be process here.
      * Cnv A/R Hdr Ext Crt   RT - Sales History  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0003           Company Number
     C                     Z-ADDWACONB    WL0004           Invoice Number
     C                     MOVELWACEST    WL0005    P      Invoice Suffix
     C                     Z-ADDWABGVA    WL0006           Remaining Balan
     C                     Z-ADDWN0001    WL0007           AR Ord Ref Actu
     C                     EXSR SDRVGN
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C                     READ @BDCPFH                  90*
     C                     ENDDO
      *================================================================
     CSR         SAEXIT    ENDSR
      /EJECT
     CSR         SBRVGN    BEGSR
      *================================================================
      * Rtv AR Org Inv for CB RT - A/R Detail  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * USER: Initialize routine
     C                     Z-ADD0         YL0001           A/R Orig Inv fo
      * Declare restrictor key work fields
     C           *LIKE     DEFN WBAIC3    WQSB01           Company Number
     C           *LIKE     DEFN WBCONB    WQSB02           Invoice Number
     C           *LIKE     DEFN WBCEST    WQSB03           Invoice Suffix
      * Define keylist
     C           KRSSB     KLIST
     C                     KFLD           WQSB01           Company Number
     C                     KFLD           WQSB02           Invoice Number
     C                     KFLD           WQSB03           Invoice Suffix
      * Setup key
     C                     Z-ADDWAAIC3    WQSB01           Company Number
     C                     Z-ADDWACONB    WQSB02           Invoice Number
     C                     MOVELWACEST    WQSB03           Invoice Suffix
      * Establish starting position
     C           KRSSB     SETLL@BFCPFO                    *
     C           KRSSB     READE@BFCPFO                  90*
      * Data record not found
     C   90                MOVEL'USR0178' W0RTN   7
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * CASE: DB1.A/R Orig Inv for CB is Not equal to zero
     C           WBQIDT    IFNE 0                          *IF
     C                     Z-ADDWBQIDT    YL0001           A/R Orig Inv fo
     C                     GOTO SBEXIT                     *QUIT
     C                     END                             *FI
     C           KRSSB     READE@BFCPFO                  90*
     C                     ENDDO
      *================================================================
     CSR         SBEXIT    ENDSR
      /EJECT
     CSR         SCRVGN    BEGSR
      *================================================================
      * Rtv Actual Shipped DteRT - Sales History  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * USER: Initialize routine
     C                     Z-ADD0         WL0002           Actual Shipped
      * Declare restrictor key work fields
     C           *LIKE     DEFN WCCONB    WQSC01           Invoice Number
      * Define keylist
     C           KRSSC     KLIST
     C                     KFLD           WQSC01           Invoice Number
      * Setup key
     C                     Z-ADDWL0001    WQSC01           Invoice Number
      * Establish starting position
     C           KRSSC     SETLL@HSTPD9                    *
     C           KRSSC     READE@HSTPD9                  90*
      * Data record not found
     C   90                MOVEL'USR1241' W0RTN   7
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * CASE: DB1.Actual Shipped Date is entered
     C           WCGNDT    IFNE 0                          *IF
     C                     Z-ADDWCGNDT    WL0002           Actual Shipped
     C                     GOTO SCEXIT                     *QUIT
     C                     END                             *FI
     C           KRSSC     READE@HSTPD9                  90*
     C                     ENDDO
      *================================================================
     CSR         SCEXIT    ENDSR
      /EJECT
     CSR         SDRVGN    BEGSR
      *================================================================
      * Cnv A/R Hdr Ext Crt   RT - Sales History  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Declare restrictor key work fields
     C           *LIKE     DEFN WDAIC3    WQSD01           Company Number
     C           *LIKE     DEFN WDCONB    WQSD02           Invoice Number
     C           *LIKE     DEFN WDCEST    WQSD03           Invoice Suffix
      * Define keylist
     C           KRSSD     KLIST
     C                     KFLD           WQSD01           Company Number
     C                     KFLD           WQSD02           Invoice Number
     C                     KFLD           WQSD03           Invoice Suffix
      * Setup key
     C                     Z-ADDWL0003    WQSD01           Company Number
     C                     Z-ADDWL0004    WQSD02           Invoice Number
     C                     MOVELWL0005    WQSD03           Invoice Suffix
      * Establish starting position
     C           KRSSD     SETLL@HSTPYS                    *
     C           KRSSD     READE@HSTPYS                  90*
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR1241' W0RTN   7
      * USER: Processing if Data record not found
      * To identify any Co/Ord# that does NOT exist.
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWL0003    WL0008           Company Number
     C                     Z-ADDWL0004    WL0009           Invoice Number
     C                     MOVELWL0005    WL0010    P      Invoice Suffix
     C                     MOVELWL0005    WL0011    P      Order Type - Sa
     C                     MOVEL*BLANK    WL0012           Attach to Order
     C                     Z-ADD0         WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADD0         WL0015           Orig Inv Actual
     C                     Z-ADD0         WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADD0         WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     GOTO SDEXIT
     C                     ENDIF
      *
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * Check Invoice Suffix and Create A/R Header Ext.
      * CASE: PAR.Invoice Suffix is Invoices
     C           WL0005    IFEQ 'IN'                       *IF
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWDAIC3    WL0008           Company Number
     C                     Z-ADDWDCONB    WL0009           Invoice Number
     C                     MOVELWDCEST    WL0010    P      Invoice Suffix
     C                     MOVELWDJNCD    WL0011    P      Order Type - Sa
     C                     MOVEL*BLANK    WL0012           Attach to Order
     C                     Z-ADD0         WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADDWDGNDT    WL0015           Orig Inv Actual
     C                     Z-ADDWDRMNB    WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADDWL0007    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     ELSE
      * CASE: *OTHERWISE
      * Create A/R Hdr Ext if Attach to Order # = 0 otherwise read until
      * CASE: DB1.Attach to Order Number is Equal to zeros
     C           WDT3NB    IFEQ 0                          *IF
      * If Remaining Balance Due exists, then use Sales History.
      * CASE: PAR.Remaining Balance Due is equal to zero
     C           WL0006    IFEQ 0                          *IF
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWDAIC3    WL0008           Company Number
     C                     Z-ADDWDCONB    WL0009           Invoice Number
     C                     MOVELWDCEST    WL0010    P      Invoice Suffix
     C                     MOVELWDJNCD    WL0011    P      Order Type - Sa
     C                     MOVEL*BLANK    WL0012           Attach to Order
     C                     Z-ADDWDATIN    WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADD0         WL0015           Orig Inv Actual
     C                     Z-ADD0         WL0016           Attach to Load
     C                     Z-ADDWDC0C7    WL0017           Claim Number
     C                     Z-ADD0         WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     ELSE
      * CASE: *OTHERWISE
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWDAIC3    WL0008           Company Number
     C                     Z-ADDWDCONB    WL0009           Invoice Number
     C                     MOVELWDCEST    WL0010    P      Invoice Suffix
     C                     MOVELWDJNCD    WL0011    P      Order Type - Sa
     C                     MOVELWDJNCD    WL0012    P      Attach to Order
     C                     Z-ADDWDATIN    WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADDWDGNDT    WL0015           Orig Inv Actual
     C                     Z-ADDWDRMNB    WL0016           Attach to Load
     C                     Z-ADDWDC0C7    WL0017           Claim Number
     C                     Z-ADDWL0007    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     END                             *FI
     C                     ELSE
      * CASE: *OTHERWISE
      * Process Credit Memos (CM) & Debit Memos (DM).
      * CASE: *OTHERWISE
      * Read until you hit an Invoice Suffix='IN' (Invoice). Save info fr
      * the last record read whether it's an 'IN' or not.
     C                     MOVEL'Y'       YL0002           Continue (Yes/N
     C                     MOVELWDJNCD    YL0003           Attach to Order
     C                     Z-ADDWDATIN    YL0004           Attach to Invoi
     C                     Z-ADDWDT3NB    YL0005           Attach to Order
     C                     Z-ADDWDGNDT    YL0006           Actual Shipped
     C                     Z-ADDWDRMNB    YL0007           Load ID
      * DO WHILE: LCL.Continue (Yes/No) USR is Yes
     C           YL0002    DOWEQ'Y'                        *DOW
      * Cnv A/R Hdr Ext Crt 2 RT - Sales History  * 
     C                     EXSR SGRVGN
     C                     MOVELYL0008    YL0003           Attach to Order
     C                     Z-ADDYL0009    YL0004           Attach to Invoi
     C                     Z-ADDYL0010    YL0005           Attach to Order
     C                     Z-ADDYL0011    YL0013           Orig Inv Actual
     C                     Z-ADDYL0012    YL0014           Attach to Load
     C                     END                             *ITR
     C                     END                             *FI
     C                     END                             *FI
     C                     GOTO SDEXIT                     *QUIT
     C           KRSSD     READE@HSTPYS                  90*
     C                     ENDDO
      *================================================================
     CSR         SDEXIT    ENDSR
      /EJECT
     CSR         SERVGN    BEGSR
      *================================================================
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Define keylist
     C           KRSSE     KLIST
     C                     KFLD           WEAIC3           Company Number
     C                     KFLD           WECONB           Invoice Number
     C                     KFLD           WECEST           Invoice Suffix
      * Setup key
     C                     Z-ADDWL0008    WEAIC3           Company Number
     C                     Z-ADDWL0009    WECONB           Invoice Number
     C                     MOVELWL0010    WECEST           Invoice Suffix
      * Establish starting position
     C           KRSSE     CHAIN@C0CPYP              90    *
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR4952' W0RTN   7
      * USER: Processing if Data record not found
      * Crt A/R Header Ext    CR - A/R Header Ext  * 
     C                     EXSR SFCRRC
     C                     GOTO SEEXIT
     C                     ENDIF
      *
      *================================================================
     CSR         SEEXIT    ENDSR
      /EJECT
     CSR         SFCRRC    BEGSR
      *================================================================
      * Crt A/R Header Ext    CR - A/R Header Ext  * 
      *================================================================
      *
     C                     Z-ADD*ZERO     WN0002  60       Job Time
     C                     MOVEL*BLANK    WN0003 10        User Id
     C                     MOVEL*BLANK    WN0004 10        Job Name
     C                     Z-ADD*ZERO     WN0005  70       Job Date
      *
     C                     MOVEL*BLANK    W0RTN   7
      * Move all fields to @C0CPYO
     C                     Z-ADDWL0008    WFAIC3           Company Number
     C                     Z-ADDWL0009    WFCONB           Invoice Number
     C                     MOVELWL0010    WFCEST           Invoice Suffix
     C                     MOVELWL0011    WFJNCD           Order Type - Sa
     C                     MOVELWL0012    WFU9AA           Attach to Order
     C                     Z-ADDWL0013    WFATIN           Attach to Invoi
     C                     Z-ADDWL0014    WFT3NB           Attach to Order
     C                     Z-ADDWL0015    WFV7DT           Orig Inv Actual
     C                     Z-ADDWL0016    WFHLNB           Attach to Load
     C                     Z-ADDWL0017    WFC0C7           Claim Number
     C                     MOVEL*BLANK    WFD1SC           AHE Unused Sts
     C                     MOVEL*BLANK    WFD2SC           AHE Unused Sts
     C                     MOVEL*BLANK    WFD3SC           AHE Unused Sts
     C                     MOVEL*BLANK    WFFTU1           AHE Unused Txt-
     C                     MOVEL*BLANK    WFFUU1           AHE Unused Txt-
     C                     Z-ADDWL0018    WFV8DT           AR Ord Ref Actu
     C                     Z-ADD0         WFV9DT           AHE Unused Dte
     C                     Z-ADD0         WFWADT           AHE Unused Dte
     C                     Z-ADD0         WFHMNB           AHE Unused Nbr
     C                     Z-ADD0         WFN2NB           AHE Unused Nbr
     C                     Z-ADD0         WFUUN3           AHE Unused Nbr
     C                     MOVEL*BLANK    WFUVST           EDI Status 1
     C                     MOVEL*BLANK    WFUWST           EDI Status 2
     C                     MOVEL*BLANK    WFUXST           EDI Status 3
      *
      * USER: Processing before Data update
      * Set Date/Time Stamp   IF
     C                     Z-ADD##JTM     WFAATM           Job Time
     C                     MOVEL##USR     WFAYNA           User Id
     C                     MOVEL##JOB     WFA0NA           Job Name
     C                     Z-ADD##JDT     WFAXDT           Job Date
     C           KLCRSF    KLIST
     C                     KFLD           WFAIC3           Company Number
     C                     KFLD           WFCONB           Invoice Number
     C                     KFLD           WFCEST           Invoice Suffix
      * Check for duplicate primary key
     C           KLCRSF    SETLL@C0CPYO                  90*
     C           *IN90     IFEQ '1'
     C                     MOVEL'USR4953' W0RTN   7
      * Send message 'A/R Header Ext         EX'
     C                     MOVEL'USR4953' ZAMSID
     C                     EXSR ZASNMS
     C                     GOTO SFEXIT
     C                     ENDIF
      *
     C                     WRITE@C0CPYO                91  *
      *
     C           *IN91     IFEQ '1'
      * Write error detected
     C                     MOVEL'Y2U0004' W0RTN   7
     C                     ELSE
     C                     ENDIF
      *================================================================
     CSR         SFEXIT    ENDSR
      /EJECT
     CSR         SGRVGN    BEGSR
      *================================================================
      * Cnv A/R Hdr Ext Crt 2 RT - Sales History  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Declare restrictor key work fields
     C           *LIKE     DEFN WGAIC3    WQSG01           Company Number
     C           *LIKE     DEFN WGC4NB    WQSG02           Order Number
      * Define keylist
     C           KRSSG     KLIST
     C                     KFLD           WQSG01           Company Number
     C                     KFLD           WQSG02           Order Number
      * Setup key
     C                     Z-ADDWL0003    WQSG01           Company Number
     C                     Z-ADDYL0005    WQSG02           Order Number
      * Establish starting position
     C           KRSSG     SETLL@FHSTD3                    *
     C           KRSSG     READE@FHSTD3                  90*
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR1241' W0RTN   7
      * USER: Processing if Data record not found
      * NOT found by Co/Ord# then populate from last Sales History record
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWL0003    WL0008           Company Number
     C                     Z-ADDWL0004    WL0009           Invoice Number
     C                     MOVELWL0005    WL0010    P      Invoice Suffix
     C                     MOVELWDJNCD    WL0011    P      Order Type - Sa
     C                     MOVELYL0003    WL0012    P      Attach to Order
     C                     Z-ADDYL0004    WL0013           Attach to Invoi
     C                     Z-ADDYL0005    WL0014           Attach to Order
     C                     Z-ADDYL0006    WL0015           Orig Inv Actual
     C                     Z-ADDYL0007    WL0016           Attach to Load
     C                     Z-ADDWDC0C7    WL0017           Claim Number
     C                     Z-ADDWL0007    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     MOVEL'N'       YL0002           Continue (Yes/N
     C                     GOTO SGEXIT
     C                     ENDIF
      *
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * CASE: DB1.Invoice Suffix is Invoices
     C           WGCEST    IFEQ 'IN'                       *IF
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWL0003    WL0008           Company Number
     C                     Z-ADDWL0004    WL0009           Invoice Number
     C                     MOVELWL0005    WL0010    P      Invoice Suffix
     C                     MOVELWDJNCD    WL0011    P      Order Type - Sa
     C                     MOVELWGJNCD    WL0012    P      Attach to Order
     C                     Z-ADDYL0004    WL0013           Attach to Invoi
     C                     Z-ADDYL0005    WL0014           Attach to Order
     C                     Z-ADDWGGNDT    WL0015           Orig Inv Actual
     C                     Z-ADDWGRMNB    WL0016           Attach to Load
     C                     Z-ADDWDC0C7    WL0017           Claim Number
     C                     Z-ADDWL0007    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     MOVEL'N'       YL0002           Continue (Yes/N
     C                     ELSE
      * CASE: *OTHERWISE
     C                     MOVELWGJNCD    YL0008           Attach to Order
     C                     Z-ADDWGATIN    YL0009           Attach to Invoi
     C                     Z-ADDWGT3NB    YL0010           Attach to Order
     C                     Z-ADDWGGNDT    YL0011           Attach to Actua
     C                     Z-ADDWGRMNB    YL0012           Attach to Load
     C                     MOVEL'Y'       YL0002           Continue (Yes/N
     C                     END                             *FI
     C                     GOTO SGEXIT                     *QUIT
     C           KRSSG     READE@FHSTD3                  90*
     C                     ENDDO
      *================================================================
     CSR         SGEXIT    ENDSR
      /EJECT
     CSR         SHRVGN    BEGSR
      *================================================================
      * Cnv A/R Hdr Ext Crt 3 RT - Sales History  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * USER: Initialize routine
      * RTV Order Type - SalesRT - Order Header TRG  * 
     C                     EXSR SIRVGN
      * Declare restrictor key work fields
     C           *LIKE     DEFN WGAIC3    WQSH01           Company Number
     C           *LIKE     DEFN WGC4NB    WQSH02           Order Number
      * Define keylist
     C           KRSSH     KLIST
     C                     KFLD           WQSH01           Company Number
     C                     KFLD           WQSH02           Order Number
      * Setup key
     C                     Z-ADDWAAIC3    WQSH01           Company Number
     C                     Z-ADDWACAC7    WQSH02           Order Number
      * Establish starting position
     C           KRSSH     SETLL@FHSTD3                    *
     C           KRSSH     READE@FHSTD3                  90*
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR1241' W0RTN   7
      * USER: Processing if Data record not found
      * To identify any Co/Ord# that does NOT exist.
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0008           Company Number
     C                     Z-ADDWACONB    WL0009           Invoice Number
     C                     MOVELWACEST    WL0010    P      Invoice Suffix
     C                     MOVELYL0015    WL0011    P      Order Type - Sa
     C                     MOVEL*BLANK    WL0012           Attach to Order
     C                     Z-ADD0         WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADD0         WL0015           Orig Inv Actual
     C                     Z-ADD0         WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADD0         WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     GOTO SHEXIT
     C                     ENDIF
      *
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * If not found and a Remaining Balance Due exists, then use Sales H
      * CASE:
      *  - c1 AND c2
      *   |- c1    : LCL.Order Type - Sales is Not Entered
      *   |- c2    : PAR.Remaining Balance Due is greater than zero
      *   '-
     C                     MOVEL'0'       Y0CX01  1
     C           YL0015    IFEQ *BLANK                     *IF
     C           WABGVA    IFGT 0                          *IF
     C                     MOVEL'1'       Y0CX01
     C                     END                             *FI
     C                     END                             *FI
     C           Y0CX01    IFEQ '1'                        *IF
     C                     MOVELWGJNCD    YL0015           Order Type - Sa
     C                     END                             *FI
      * Create A/R Header Ext when you find an Invoice or last record rea
      * CASE: DB1.Invoice Suffix is Invoices
     C           WGCEST    IFEQ 'IN'                       *IF
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0008           Company Number
     C                     Z-ADDWACONB    WL0009           Invoice Number
     C                     MOVELWACEST    WL0010    P      Invoice Suffix
     C                     MOVELYL0015    WL0011    P      Order Type - Sa
     C                     MOVELWGJNCD    WL0012    P      Attach to Order
     C                     Z-ADDWAH3DT    WL0013           Attach to Invoi
     C                     Z-ADDWACAC7    WL0014           Attach to Order
     C                     Z-ADDWGGNDT    WL0015           Orig Inv Actual
     C                     Z-ADDWGRMNB    WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADDWN0001    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     ELSE
      * CASE: *OTHERWISE
      * Create A/R Hdr Ext if Attach to Order # = 0 otherwise read until
      * CASE: DB1.Attach to Order Number is Equal to zeros
     C           WGT3NB    IFEQ 0                          *IF
      * If Remaining Balance Due exists, then use Sales History.
      * CASE: PAR.Remaining Balance Due is equal to zero
     C           WABGVA    IFEQ 0                          *IF
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0008           Company Number
     C                     Z-ADDWACONB    WL0009           Invoice Number
     C                     MOVELWACEST    WL0010    P      Invoice Suffix
     C                     MOVELYL0015    WL0011    P      Order Type - Sa
     C                     MOVEL*BLANK    WL0012           Attach to Order
     C                     Z-ADDWGATIN    WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADD0         WL0015           Orig Inv Actual
     C                     Z-ADD0         WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADDWN0001    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     ELSE
      * CASE: *OTHERWISE
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0008           Company Number
     C                     Z-ADDWACONB    WL0009           Invoice Number
     C                     MOVELWACEST    WL0010    P      Invoice Suffix
     C                     MOVELYL0015    WL0011    P      Order Type - Sa
     C                     MOVELWGJNCD    WL0012    P      Attach to Order
     C                     Z-ADDWGATIN    WL0013           Attach to Invoi
     C                     Z-ADD0         WL0014           Attach to Order
     C                     Z-ADDWGGNDT    WL0015           Orig Inv Actual
     C                     Z-ADDWGRMNB    WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADDWN0001    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     END                             *FI
     C                     ELSE
      * CASE: *OTHERWISE
      * Read until you hit an Invoice Suffix='IN' (Invoice).
      * CASE: *OTHERWISE
      * Save info from the last record read whether it's an 'IN' or not t
      * create A/R Header Ext.
     C                     MOVEL'Y'       YL0016           Continue (Yes/N
     C                     MOVELWGJNCD    YL0017           Attach to Order
     C                     Z-ADDWGATIN    YL0018           Attach to Invoi
     C                     Z-ADDWGT3NB    YL0019           Attach to Order
     C                     Z-ADDWGGNDT    YL0020           Actual Shipped
     C                     Z-ADDWGRMNB    YL0021           Load ID
      * DO WHILE: LCL.Continue (Yes/No) USR is Yes
     C           YL0016    DOWEQ'Y'                        *DOW
      * Cnv A/R Hdr Ext Crt 4 RT - Sales History  * 
     C                     EXSR SJRVGN
     C                     MOVELYL0022    YL0017           Attach to Order
     C                     Z-ADDYL0023    YL0018           Attach to Invoi
     C                     Z-ADDYL0024    YL0019           Attach to Order
     C                     Z-ADDYL0025    YL0027           Orig Inv Actual
     C                     Z-ADDYL0026    YL0028           Attach to Load
     C                     END                             *ITR
     C                     END                             *FI
     C                     END                             *FI
     C                     GOTO SHEXIT                     *QUIT
     C           KRSSH     READE@FHSTD3                  90*
     C                     ENDDO
      *================================================================
     CSR         SHEXIT    ENDSR
      /EJECT
     CSR         SIRVGN    BEGSR
      *================================================================
      * RTV Order Type - SalesRT - Order Header TRG  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * USER: Initialize routine
     C                     MOVEL*BLANK    YL0015           Order Type - Sa
      * Declare restrictor key work fields
     C           *LIKE     DEFN WHC4NB    WQSI01           Order Number
      * Define keylist
     C           KRSSI     KLIST
     C                     KFLD           WQSI01           Order Number
      * Setup key
     C                     Z-ADDWACAC7    WQSI01           Order Number
      * Establish starting position
     C           KRSSI     SETLL@BFCPY2                    *
     C           KRSSI     READE@BFCPY2                  90*
      * Data record not found
     C   90                MOVEL'USR0176' W0RTN   7
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
     C                     MOVELWHJNCD    YL0015           Order Type - Sa
     C                     GOTO SIEXIT                     *QUIT
     C           KRSSI     READE@BFCPY2                  90*
     C                     ENDDO
      *================================================================
     CSR         SIEXIT    ENDSR
      /EJECT
     CSR         SJRVGN    BEGSR
      *================================================================
      * Cnv A/R Hdr Ext Crt 4 RT - Sales History  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Declare restrictor key work fields
     C           *LIKE     DEFN WIAIC3    WQSJ01           Company Number
     C           *LIKE     DEFN WIC4NB    WQSJ02           Order Number
      * Define keylist
     C           KRSSJ     KLIST
     C                     KFLD           WQSJ01           Company Number
     C                     KFLD           WQSJ02           Order Number
      * Setup key
     C                     Z-ADDWAAIC3    WQSJ01           Company Number
     C                     Z-ADDYL0019    WQSJ02           Order Number
      * Establish starting position
     C           KRSSJ     SETLL@HSTPZN                    *
     C           KRSSJ     READE@HSTPZN                  90*
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR1241' W0RTN   7
      * USER: Processing if Data record not found
      * NOT found by Co/Ord# then populate from last Sales History record
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0008           Company Number
     C                     Z-ADDWACONB    WL0009           Invoice Number
     C                     MOVELWACEST    WL0010    P      Invoice Suffix
     C                     MOVELYL0015    WL0011    P      Order Type - Sa
     C                     MOVELYL0017    WL0012    P      Attach to Order
     C                     Z-ADDYL0018    WL0013           Attach to Invoi
     C                     Z-ADDYL0019    WL0014           Attach to Order
     C                     Z-ADDYL0020    WL0015           Orig Inv Actual
     C                     Z-ADDYL0021    WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADDWN0001    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     MOVEL'N'       YL0016           Continue (Yes/N
     C                     GOTO SJEXIT
     C                     ENDIF
      *
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * Create A/R Header Ext or Save Attach to Invoice/Order Number.
      * CASE: DB1.Invoice Suffix is Invoices
     C           WICEST    IFEQ 'IN'                       *IF
      * Cnv A/R Header Ext CrtRT - A/R Header Ext  * 
      * Move input parameters to subroutine local variables.
     C                     Z-ADDWAAIC3    WL0008           Company Number
     C                     Z-ADDWACONB    WL0009           Invoice Number
     C                     MOVELWACEST    WL0010    P      Invoice Suffix
     C                     MOVELYL0015    WL0011    P      Order Type - Sa
     C                     MOVELWIJNCD    WL0012    P      Attach to Order
     C                     Z-ADDYL0018    WL0013           Attach to Invoi
     C                     Z-ADDYL0019    WL0014           Attach to Order
     C                     Z-ADDWIGNDT    WL0015           Orig Inv Actual
     C                     Z-ADDWIRMNB    WL0016           Attach to Load
     C                     Z-ADD0         WL0017           Claim Number
     C                     Z-ADDWN0001    WL0018           AR Ord Ref Actu
     C                     EXSR SERVGN
     C                     MOVEL'N'       YL0016           Continue (Yes/N
     C                     ELSE
      * CASE: *OTHERWISE
     C                     MOVELWIJNCD    YL0022           Attach to Order
     C                     Z-ADDWIATIN    YL0023           Attach to Invoi
     C                     Z-ADDWIT3NB    YL0024           Attach to Order
     C                     Z-ADDWIGNDT    YL0025           Attach to Actua
     C                     Z-ADDWIRMNB    YL0026           Attach to Load
     C                     MOVEL'Y'       YL0016           Continue (Yes/N
     C                     END                             *FI
     C                     GOTO SJEXIT                     *QUIT
     C           KRSSJ     READE@HSTPZN                  90*
     C                     ENDDO
      *================================================================
     CSR         SJEXIT    ENDSR
      /EJECT
     CSR         ZASNMS    BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C           ZAPGMQ    IFEQ *BLANK
     C                     MOVEL##PGM     ZAPGMQ
     C                     END
      * If no message file specified, use default
     C           ZAMSGF    IFEQ *BLANK
     C                     MOVELZADFMF    ZAMSGF
     C                     END
     C                     CALL 'Y2SNMGC'
     C                     PARM           ZAPGMQ 10        Program queue
     C                     PARM           ZAPGRL  5        Rel queue
     C                     PARM           ZAMSID  7        Message ID
     C                     PARM           ZAMSGF 10        Message file
     C                     PARM           ZAMSDA           Message data
     C                     PARM           ZAMSTP  7        Message type
      * Clear all fields for default mechanism next time
     C                     MOVEL*BLANK    ZAPGMQ
     C                     MOVEL*BLANK    ZAPGRL
     C                     MOVEL*BLANK    ZAMSID
     C                     MOVEL*BLANK    ZAMSGF
     C                     MOVEL*BLANK    ZAMSDA
     C                     MOVEL*BLANK    ZAMSTP
      *================================================================
     CSR         ZAEXIT    ENDSR
      /EJECT
     CSR         ZXEXPG    BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                     EXSR ZYEXPG
      *================================================================
     CSR         ZXEXIT    ENDSR
      /EJECT
     CSR         ZYEXPG    BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                     SETON                     LR
      *
      * Exit program
     C                     RETRN
      *
      *================================================================
     CSR         ZYEXIT    ENDSR
      /EJECT
     CSR         ZZINIT    BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C           W0ICL     IFEQ *BLANK
     C                     MOVEL'Y'       W0ICL   1        *Initial call
     C                     ELSE
     C                     MOVEL'N'       W0ICL
     C                     END
     C                     MOVE *BLANK    P0RTN
     C                     MOVE *BLANK    W0RTN   7
     C                     MOVEL*BLANK    W0RSL   1
     C                     MOVEL*BLANK    W0RSF   1
     C                     MOVEL*ZEROS    W0RTW   90
     C                     MOVEL'400'     W0ENV   3
      * Retrieve job attributes
     C                     CALL 'Y2RTJCR'
     C                     PARM           PGMDS
      * Setup job date/time
     C                     Z-ADD##SD7     ##JDT
     C                     TIME           ##JTM
      * Update screen time
     C                     TIME           ##TME   60
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WAAIC3           Company Number
     C                     Z-ADD*ZERO     WACONB           Invoice Number
     C                     Z-ADD*ZERO     WABSVA           Transaction Amo
     C                     Z-ADD*ZERO     WAAIVA           Adjustment Amou
     C                     Z-ADD*ZERO     WAAOVA           Amount Paid
     C                     Z-ADD*ZERO     WABGVA           Remaining Balan
     C                     Z-ADD*ZERO     WACKNB           G/L Document Nu
     C                     Z-ADD*ZERO     WACAC7           Order Number Re
     C                     Z-ADD*ZERO     WABKC7           Ship To Custome
     C                     Z-ADD*ZERO     WAB4DT           Transaction Dat
     C                     Z-ADD*ZERO     WAATDT           Due Date
     C                     Z-ADD*ZERO     WAH0DT           Last Payment Da
     C                     Z-ADD*ZERO     WAH3DT           Original Inv fo
     C                     Z-ADD*ZERO     WAH4DT           Paid in Full Da
     C                     Z-ADD*ZERO     WAH5DT           Last G/L Post D
     C                     Z-ADD*ZERO     WAANC7           A/R Customer Nu
     C                     Z-ADD*ZERO     WABSDY           Days to Pay
     C                     Z-ADD*ZERO     WAAATM           Job Time
     C                     Z-ADD*ZERO     WAAXDT           Job Date
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WBAIC3           Company Number
     C                     Z-ADD*ZERO     WBCONB           Invoice Number
     C                     Z-ADD*ZERO     WBDXNB           Sequence Number
     C                     Z-ADD*ZERO     WBBSVA           Transaction Amo
     C                     Z-ADD*ZERO     WBB4DT           Transaction Dat
     C                     Z-ADD*ZERO     WBDVDT           Payment/Deposit
     C                     Z-ADD*ZERO     WBYXNX           Deposit Time
     C                     Z-ADD*ZERO     WBHYDT           G/L Post Date
     C                     Z-ADD*ZERO     WBCKNB           G/L Document Nu
     C                     Z-ADD*ZERO     WBC1NY           G/L Posting Com
     C                     Z-ADD*ZERO     WBQHDT           TFS Adj Week-En
     C                     Z-ADD*ZERO     WBQIDT           A/R Orig Inv fo
     C                     Z-ADD*ZERO     WBQJDT           A/R Dtl UnUsed
     C                     Z-ADD*ZERO     WBQKDT           A/R Dtl UnUsed
     C                     Z-ADD*ZERO     WBQLDT           A/R Dtl UnUsed
     C                     Z-ADD*ZERO     WBGLVL           G/L Sub-Ledger
     C                     Z-ADD*ZERO     WBGMVL           A/R Dtl UnUsed
     C                     Z-ADD*ZERO     WBGNVL           A/R Dtl UnUsed
     C                     Z-ADD*ZERO     WBGOVL           A/R Dtl UnUsed
     C                     Z-ADD*ZERO     WBGPVL           A/R Dtl UnUsed
     C                     Z-ADD*ZERO     WBAATM           Job Time
     C                     Z-ADD*ZERO     WBAXDT           Job Date
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WCAIC3           Company Number
     C                     Z-ADD*ZERO     WCC4NB           Order Number
     C                     Z-ADD*ZERO     WCDPNB           Order Sequence
     C                     Z-ADD*ZERO     WCUENB           Order Secondary
     C                     Z-ADD*ZERO     WCBTC7           Parent Customer
     C                     Z-ADD*ZERO     WCANC7           A/R Customer Nu
     C                     Z-ADD*ZERO     WCBKC7           Ship To Custome
     C                     Z-ADD*ZERO     WCA0DT           Order Date
     C                     Z-ADD*ZERO     WCACDT           Cancel Date
     C                     Z-ADD*ZERO     WCTBNB           Absorbed Freigh
     C                     Z-ADD*ZERO     WCATIN           Attach to Invoi
     C                     Z-ADD*ZERO     WCT3NB           Attach to Order
     C                     Z-ADD*ZERO     WCRSRN           Resell Referenc
     C                     Z-ADD*ZERO     WCORIT           Original Item
     C                     Z-ADD*ZERO     WCAVQT           Quantity Ordere
     C                     Z-ADD*ZERO     WCD0WG           Weight Ordered
     C                     Z-ADD*ZERO     WCCCQT           Quantity Schedu
     C                     Z-ADD*ZERO     WCAUWG           Weight Schedule
     C                     Z-ADD*ZERO     WCAKPR           Unit Price
     C                     Z-ADD*ZERO     WCAUPR           Unit Price Orde
     C                     Z-ADD*ZERO     WCA5DT           Requested Ship
     C                     Z-ADD*ZERO     WCAWDT           Invoice Date
     C                     Z-ADD*ZERO     WCHDDT           Deadline Depart
     C                     Z-ADD*ZERO     WCAGCS           Unit Cost Per P
     C                     Z-ADD*ZERO     WCAQCS           Unit Cost Prici
     C                     Z-ADD*ZERO     WCAVWG           Unit Weight Ord
     C                     Z-ADD*ZERO     WCAYVA           Extended Amount
     C                     Z-ADD*ZERO     WCL6NB           Contract Number
     C                     Z-ADD*ZERO     WCHCDT           LD Arrival Date
     C                     Z-ADD*ZERO     WCESNB           Accounting Year
     C                     Z-ADD*ZERO     WCETNB           Accounting Peri
     C                     Z-ADD*ZERO     WCBZNB           OM Week
     C                     Z-ADD*ZERO     WCEXQT           Quantity Billed
     C                     Z-ADD*ZERO     WCBYWG           Weight Billed
     C                     Z-ADD*ZERO     WCS5NB           Shipped Item Co
     C                     Z-ADD*ZERO     WCMAVA           Billing Detail
     C                     Z-ADD*ZERO     WCKDVA           Billing Detail
     C                     Z-ADD*ZERO     WCUSVA           FOB Gross Amoun
     C                     Z-ADD*ZERO     WCUTVA           Standard Overag
     C                     Z-ADD*ZERO     WCA4WG           Tare Weight Tot
     C                     Z-ADD*ZERO     WCCKNB           G/L Document Nu
     C                     Z-ADD*ZERO     WCR8NB           Shipping Compan
     C                     Z-ADD*ZERO     WCBZPR           Price Overage O
     C                     Z-ADD*ZERO     WCEXDT           Market Pricing
     C                     Z-ADD*ZERO     WCRGNB           Item Structure
     C                     Z-ADD*ZERO     WCRHNB           Item Structure
     C                     Z-ADD*ZERO     WCRINB           Item Structure
     C                     Z-ADD*ZERO     WCR1NB           Rated Freight
     C                     Z-ADD*ZERO     WCCONB           Invoice Number
     C                     Z-ADD*ZERO     WCGNDT           Actual Shipped
     C                     Z-ADD*ZERO     WCRMNB           Load ID
     C                     Z-ADD*ZERO     WCAODT           Scheduled Ship
     C                     Z-ADD*ZERO     WCSKNB           Agrimetrics gro
     C                     Z-ADD*ZERO     WCSLNB           Agrimetrics pac
     C                     Z-ADD*ZERO     WCSMNB           Agrimetrics gra
     C                     Z-ADD*ZERO     WCONVA           Actual Freight
     C                     Z-ADD*ZERO     WCB4NB           PM R/M Type Cod
     C                     Z-ADD*ZERO     WCB5NB           PM Line Number
     C                     Z-ADD*ZERO     WCGIDT           Pricing Date Us
     C                     Z-ADD*ZERO     WCULVA           Absorbed Freigh
     C                     Z-ADD*ZERO     WCUNVA           Ledgrd Trd Fund
     C                     Z-ADD*ZERO     WCUOVA           Commission Amou
     C                     Z-ADD*ZERO     WCUPVA           Financials Amou
     C                     Z-ADD*ZERO     WCUQVA           Financials Amou
     C                     Z-ADD*ZERO     WCCFC7           Order Group Cod
     C                     Z-ADD*ZERO     WCDUPR           Invoice Unit Pr
     C                     Z-ADD*ZERO     WCB6VL           Invoice Extende
     C                     Z-ADD*ZERO     WCIANX           Req Shipping Te
     C                     Z-ADD*ZERO     WCIBNX           Actual Shipping
     C                     Z-ADD*ZERO     WCNYDT           Req Delivery Da
     C                     Z-ADD*ZERO     WCBZTM           Req Delivery Ti
     C                     Z-ADD*ZERO     WCZ4NB           MPC Number
     C                     Z-ADD*ZERO     WCOCFR           Load Total Frei
     C                     Z-ADD*ZERO     WCC0C7           Claim Number
     C                     Z-ADD*ZERO     WCA1AA           Ham Group Numbe
     C                     Z-ADD*ZERO     WCA5PR           Commodity Marke
     C                     Z-ADD*ZERO     WCCDPR           Market Value
     C                     Z-ADD*ZERO     WCD0PR           Default Cmdty M
     C                     Z-ADD*ZERO     WCD0VL           Raw Material Co
     C                     Z-ADD*ZERO     WCCEVL           Sales Expense T
     C                     Z-ADD*ZERO     WCOHDT           LD Sail Date
     C                     Z-ADD*ZERO     WCD9PR           NonLedgrd TrdFn
     C                     Z-ADD*ZERO     WCCFVL           HST Item Target
     C                     Z-ADD*ZERO     WCAATM           Job Time
     C                     Z-ADD*ZERO     WCAXDT           Job Date
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WEAIC3           Company Number
     C                     Z-ADD*ZERO     WECONB           Invoice Number
     C                     Z-ADD*ZERO     WEATIN           Attach to Invoi
     C                     Z-ADD*ZERO     WET3NB           Attach to Order
     C                     Z-ADD*ZERO     WEV7DT           Orig Inv Actual
     C                     Z-ADD*ZERO     WEHLNB           Attach to Load
     C                     Z-ADD*ZERO     WEC0C7           Claim Number
     C                     Z-ADD*ZERO     WEV8DT           AR Ord Ref Actu
     C                     Z-ADD*ZERO     WEV9DT           AHE Unused Dte
     C                     Z-ADD*ZERO     WEWADT           AHE Unused Dte
     C                     Z-ADD*ZERO     WEHMNB           AHE Unused Nbr
     C                     Z-ADD*ZERO     WEN2NB           AHE Unused Nbr
     C                     Z-ADD*ZERO     WEUUN3           AHE Unused Nbr
     C                     Z-ADD*ZERO     WEAATM           Job Time
     C                     Z-ADD*ZERO     WEAXDT           Job Date
      * Clear all neither parameters
      * Crt A/R Header Ext    CR - A/R Header Ext  * 
     C                     Z-ADD*ZERO     WFAATM           Job Time
     C                     Z-ADD*ZERO     WFAXDT           Job Date
      * Obtain default message file
     C           *NAMVAR   DEFN CAMGFLA   ZADFMF 10
     C                     IN   ZADFMF
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WHAIC3           Company Number
     C                     Z-ADD*ZERO     WHC4NB           Order Number
     C                     Z-ADD*ZERO     WHANC7           A/R Customer Nu
     C                     Z-ADD*ZERO     WHBKC7           Ship To Custome
     C                     Z-ADD*ZERO     WHB0C7           Bill to Custome
     C                     Z-ADD*ZERO     WHA0DT           Order Date
     C                     Z-ADD*ZERO     WHA5DT           Requested Ship
     C                     Z-ADD*ZERO     WHGNDT           Actual Shipped
     C                     Z-ADD*ZERO     WHACDT           Cancel Date
     C                     Z-ADD*ZERO     WHAODT           Scheduled Ship
     C                     Z-ADD*ZERO     WHCXDT           Date of Origina
     C                     Z-ADD*ZERO     WHJZVA           Order Value Tot
     C                     Z-ADD*ZERO     WHA1WG           Order Weight To
     C                     Z-ADD*ZERO     WHEIDT           Requested Deliv
     C                     Z-ADD*ZERO     WHAFTM           Requested Deliv
     C                     Z-ADD*ZERO     WHRMNB           Load ID
     C                     Z-ADD*ZERO     WHTBNB           Absorbed Freigh
     C                     Z-ADD*ZERO     WHR1NB           Rated Freight
     C                     Z-ADD*ZERO     WHRNNB           Reefer Temperat
     C                     Z-ADD*ZERO     WHATIN           Attach to Invoi
     C                     Z-ADD*ZERO     WHRSRN           Resell Referenc
     C                     Z-ADD*ZERO     WHT3NB           Attach to Order
     C                     Z-ADD*ZERO     WHCONB           Invoice Number
     C                     Z-ADD*ZERO     WHAWDT           Invoice Date
     C                     Z-ADD*ZERO     WHVRVA           A/R order Value
     C                     Z-ADD*ZERO     WHB7VL           Invoice Order V
     C                     Z-ADD*ZERO     WHNODT           OH Appt Confirm
     C                     Z-ADD*ZERO     WHNPDT           JPN Invoice Iss
     C                     Z-ADD*ZERO     WHNQDT           Load Actual Shi
     C                     Z-ADD*ZERO     WHNRDT           Load BOL Comple
     C                     Z-ADD*ZERO     WHNSDT           Load Truck Depa
     C                     Z-ADD*ZERO     WHBPTM           Maximum Gross W
     C                     Z-ADD*ZERO     WHBQTM           Time of Origina
     C                     Z-ADD*ZERO     WHBRTM           OH Appt Confirm
     C                     Z-ADD*ZERO     WHBSTM           Load BOL Comple
     C                     Z-ADD*ZERO     WHBTTM           Load Truck Depa
     C                     Z-ADD*ZERO     WHH0NX           Act Frt Referen
     C                     Z-ADD*ZERO     WHH1NX           Act Non-Ref Frt
     C                     Z-ADD*ZERO     WHH2NX           OH Fuel Surchar
     C                     Z-ADD*ZERO     WHH3NX           OH Total Non-Re
     C                     Z-ADD*ZERO     WHH4NX           OH Total Ref Fr
     C                     Z-ADD*ZERO     WHC0C7           Claim Number
     C                     Z-ADD*ZERO     WHAATM           Job Time
     C                     Z-ADD*ZERO     WHAXDT           Job Date
     C                     MOVEL'N'       W0PMT   1
      * Define local variables for subroutine SCRVGN.
     C                     Z-ADD*ZERO     WL0001  70
     C                     Z-ADD*ZERO     WL0002  70
      * Define local variables for subroutine SDRVGN.
     C                     Z-ADD*ZERO     WL0003  30
     C                     Z-ADD*ZERO     WL0004  70
     C                     MOVEL*BLANK    WL0005  2
     C                     Z-ADD*ZERO     WL0006 112
     C                     Z-ADD*ZERO     WL0007  70
      * Define local variables for subroutine SERVGN.
     C                     Z-ADD*ZERO     WL0008  30
     C                     Z-ADD*ZERO     WL0009  70
     C                     MOVEL*BLANK    WL0010  2
     C                     MOVEL*BLANK    WL0011  2
     C                     MOVEL*BLANK    WL0012  2
     C                     Z-ADD*ZERO     WL0013  70
     C                     Z-ADD*ZERO     WL0014  70
     C                     Z-ADD*ZERO     WL0015  70
     C                     Z-ADD*ZERO     WL0016  70
     C                     Z-ADD*ZERO     WL0017  70
     C                     Z-ADD*ZERO     WL0018  70
      * Define local work field A/R Orig Inv for CB
     C                     Z-ADD*ZERO     YL0001  70
      * Define local work field Continue (Yes/No) USR
     C                     MOVEL*BLANK    YL0002  1
      * Define local work field Attach to Order Type-Sale
     C                     MOVEL*BLANK    YL0003  2
      * Define local work field Attach to Invoice Number
     C                     Z-ADD*ZERO     YL0004  70
      * Define local work field Attach to Order Number
     C                     Z-ADD*ZERO     YL0005  70
      * Define local work field Actual Shipped Date
     C                     Z-ADD*ZERO     YL0006  70
      * Define local work field Load ID
     C                     Z-ADD*ZERO     YL0007  70
      * Define local work field Attach to Order Type-SalU
     C                     MOVEL*BLANK    YL0008  2
      * Define local work field Attach to Invoice # USR
     C                     Z-ADD*ZERO     YL0009  70
      * Define local work field Attach to Order # USR
     C                     Z-ADD*ZERO     YL0010  70
      * Define local work field Attach to Actual ShipDteU
     C                     Z-ADD*ZERO     YL0011  70
      * Define local work field Attach to Load ID USR
     C                     Z-ADD*ZERO     YL0012  70
      * Define local work field Orig Inv Actual Ship Date
     C                     Z-ADD*ZERO     YL0013  70
      * Define local work field Attach to Load ID
     C                     Z-ADD*ZERO     YL0014  70
      * Define local work field Order Type - Sales
     C                     MOVEL*BLANK    YL0015  2
      * Define local work field Continue (Yes/No) USR
     C                     MOVEL*BLANK    YL0016  1
      * Define local work field Attach to Order Type-Sale
     C                     MOVEL*BLANK    YL0017  2
      * Define local work field Attach to Invoice Number
     C                     Z-ADD*ZERO     YL0018  70
      * Define local work field Attach to Order Number
     C                     Z-ADD*ZERO     YL0019  70
      * Define local work field Actual Shipped Date
     C                     Z-ADD*ZERO     YL0020  70
      * Define local work field Load ID
     C                     Z-ADD*ZERO     YL0021  70
      * Define local work field Attach to Order Type-SalU
     C                     MOVEL*BLANK    YL0022  2
      * Define local work field Attach to Invoice # USR
     C                     Z-ADD*ZERO     YL0023  70
      * Define local work field Attach to Order # USR
     C                     Z-ADD*ZERO     YL0024  70
      * Define local work field Attach to Actual ShipDteU
     C                     Z-ADD*ZERO     YL0025  70
      * Define local work field Attach to Load ID USR
     C                     Z-ADD*ZERO     YL0026  70
      * Define local work field Orig Inv Actual Ship Date
     C                     Z-ADD*ZERO     YL0027  70
      * Define local work field Attach to Load ID
     C                     Z-ADD*ZERO     YL0028  70
      *================================================================
     CSR         ZZEXIT    ENDSR
