// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBFNXFR
// ?Date: 14.08.2025 Time: 03:47:47
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modification Log
DO;

//?PIO 03/28/24 CHANGED FILENAME FROM CABBRELI TO CABBRELM
ENDDO;

EXECUTE FUNCTION(RTV Multi TPM CustomersIF) TYPE(EXCINTFUN)                     AC2052404;
PARAMETER(PAR.TPM_Location_Code);
PARAMETER(PAR.TPM_Facility_Type);
PARAMETER(PAR.Customer_Number_USR_1);
PARAMETER(PAR.Customer_Number_USR_2);
PARAMETER(PAR.Customer_Number_USR_3);
PARAMETER(PAR.Customer_Number_USR_4);
PARAMETER(PAR.Customer_Number_USR_5);
PARAMETER(PAR.Customer_Number_USR_6);
PARAMETER(PAR.Customer_Number_USR_7);
PARAMETER(PAR.Customer_Number_USR_8);
PARAMETER(PAR.Customer_Number_USR_9);
PARAMETER(PAR.Customer_Number_USR_10);
PARAMETER(PAR.Customer_Number_USR_11);
PARAMETER(PAR.Customer_Number_USR_12);
PARAMETER(PAR.Customer_Number_USR_13);
PARAMETER(PAR.Customer_Number_USR_14);
PARAMETER(PAR.Customer_Number_USR_15);
PARAMETER(PAR.Customer_Number_USR_16);
PARAMETER(PAR.Customer_Number_USR_17);
PARAMETER(PAR.Customer_Number_USR_18);
PARAMETER(PAR.Customer_Number_USR_19);
PARAMETER(PAR.Customer_Number_USR_20);
PARAMETER(PAR.Customer_Number_USR_21);
PARAMETER(PAR.Customer_Number_USR_22);
PARAMETER(PAR.Customer_Number_USR_23);
PARAMETER(PAR.Customer_Number_USR_24);
PARAMETER(PAR.Customer_Number_USR_25);
PARAMETER(PAR.Customer_Number_USR_26);
PARAMETER(PAR.Customer_Number_USR_27);
PARAMETER(PAR.Customer_Number_NBR);
PARAMETER(PAR.Record_Selected_USR);
PARAMETER(PAR.Count_USR);
{
 //?Execute internal function

 CASE;

 // IF PAR.TPM Location Code NE WRK.Blank for 12          USR
 IF PAR.TPM_Location_Code <> WRK.Blank_for_12_USR;

 // PAR.Record Selected       USR = CND.no
 PAR.Record_Selected_USR = 'N';

 // WRK.TPM Location Code (10) = PAR.TPM Location Code
 WRK.Alpha_Search = PAR.TPM_Location_Code;

 EXECUTE FUNCTION(RTV Multi TPM CustomersRT) TYPE(RTVOBJ) FILE(CABBREP)          AC2052403;
 PARAMETER(PAR.Customer_Number_NBR);
 PARAMETER(WRK.Alpha_Search);
 PARAMETER(PAR.Customer_Number_USR_1);
 PARAMETER(PAR.Customer_Number_USR_2);
 PARAMETER(PAR.Customer_Number_USR_3);
 PARAMETER(PAR.Customer_Number_USR_4);
 PARAMETER(PAR.Customer_Number_USR_5);
 PARAMETER(PAR.Customer_Number_USR_6);
 PARAMETER(PAR.Customer_Number_USR_7);
 PARAMETER(PAR.Customer_Number_USR_8);
 PARAMETER(PAR.Customer_Number_USR_9);
 PARAMETER(PAR.Customer_Number_USR_10);
 PARAMETER(PAR.Customer_Number_USR_11);
 PARAMETER(PAR.Customer_Number_USR_12);
 PARAMETER(PAR.Customer_Number_USR_13);
 PARAMETER(PAR.Customer_Number_USR_14);
 PARAMETER(PAR.Customer_Number_USR_15);
 PARAMETER(PAR.Customer_Number_USR_16);
 PARAMETER(PAR.Customer_Number_USR_17);
 PARAMETER(PAR.Customer_Number_USR_18);
 PARAMETER(PAR.Customer_Number_USR_19);
 PARAMETER(PAR.Customer_Number_USR_20);
 PARAMETER(PAR.Customer_Number_USR_21);
 PARAMETER(PAR.Customer_Number_USR_22);
 PARAMETER(PAR.Customer_Number_USR_23);
 PARAMETER(PAR.Customer_Number_USR_24);
 PARAMETER(PAR.Customer_Number_USR_25);
 PARAMETER(PAR.Customer_Number_USR_26);
 PARAMETER(PAR.Customer_Number_USR_27);
 PARAMETER(PAR.Record_Selected_USR);
 PARAMETER(PAR.Count_USR);
 {
  //?USER: Initialize routine

  // PAR.Record Selected       USR = CND.no
  PAR.Record_Selected_USR = 'N';

  // PAR.Count USR = CON.*ZERO
  PAR.Count_USR = *ZERO;

  //?USER: Processing if Data record not found

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

  // PAR.Record Selected       USR = CND.no
  PAR.Record_Selected_USR = 'N';

  // PAR.Customer Number USR 1 = PAR.Ship To Customer
  PAR.Customer_Number_USR_1 = PAR.Ship_To_Customer;

  //?USER: Process Data record

  //?Pass back all customers except matching, to prevent duplicates
  //?Put Ship To from the screen into the 1st position
  CASE;

  // IF PAR.Ship To Customer is not equal to zero
  IF PAR.Ship_To_Customer <> *ZERO;

  // PAR.Customer Number USR 1 = PAR.Ship To Customer
  PAR.Customer_Number_USR_1 = PAR.Ship_To_Customer;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  ENDIF;

  //?Populate assigned customer numbers
  CASE;

  // IF PAR.Customer Number USR 1 is equal 0
  IF PAR.Customer_Number_USR_1 = *ZERO;

  // PAR.Customer Number USR 1 = DB1.Ship To Customer
  PAR.Customer_Number_USR_1 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.1
  PAR.Count_USR = 1;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 2 is equal 0
  IF PAR.Customer_Number_USR_2 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 2 = DB1.Ship To Customer
  PAR.Customer_Number_USR_2 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.2
  PAR.Count_USR = 2;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 3 is equal 0
  IF PAR.Customer_Number_USR_3 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 3 = DB1.Ship To Customer
  PAR.Customer_Number_USR_3 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.3
  PAR.Count_USR = 3;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 4 is equal 0
  IF PAR.Customer_Number_USR_4 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 4 = DB1.Ship To Customer
  PAR.Customer_Number_USR_4 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.4
  PAR.Count_USR = 4;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 5 is equal 0
  IF PAR.Customer_Number_USR_5 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 5 = DB1.Ship To Customer
  PAR.Customer_Number_USR_5 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.5
  PAR.Count_USR = 5;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 6 is equal 0
  IF PAR.Customer_Number_USR_6 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 6 = DB1.Ship To Customer
  PAR.Customer_Number_USR_6 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.6
  PAR.Count_USR = 6;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 7 is equal 0
  IF PAR.Customer_Number_USR_7 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 7 = DB1.Ship To Customer
  PAR.Customer_Number_USR_7 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.7
  PAR.Count_USR = 7;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 8 is equal 0
  IF PAR.Customer_Number_USR_8 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 8 = DB1.Ship To Customer
  PAR.Customer_Number_USR_8 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.8
  PAR.Count_USR = 8;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 9 is equal 0
  IF PAR.Customer_Number_USR_9 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 9 = DB1.Ship To Customer
  PAR.Customer_Number_USR_9 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.9
  PAR.Count_USR = 9;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 10 is equal 0
  IF PAR.Customer_Number_USR_10 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 10 = DB1.Ship To Customer
  PAR.Customer_Number_USR_10 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.10
  PAR.Count_USR = 10;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 11 is equal 0
  IF PAR.Customer_Number_USR_11 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 11 = DB1.Ship To Customer
  PAR.Customer_Number_USR_11 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.11
  PAR.Count_USR = 11;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 12 is equal 0
  IF PAR.Customer_Number_USR_12 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 12 = DB1.Ship To Customer
  PAR.Customer_Number_USR_12 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.12
  PAR.Count_USR = 12;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 13 is equal 0
  IF PAR.Customer_Number_USR_13 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 13 = DB1.Ship To Customer
  PAR.Customer_Number_USR_13 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.13
  PAR.Count_USR = 13;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 14 is equal 0
  IF PAR.Customer_Number_USR_14 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 14 = DB1.Ship To Customer
  PAR.Customer_Number_USR_14 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.14
  PAR.Count_USR = 14;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 15 is equal 0
  IF PAR.Customer_Number_USR_15 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 15 = DB1.Ship To Customer
  PAR.Customer_Number_USR_15 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.15
  PAR.Count_USR = 15;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 16 is equal 0
  IF PAR.Customer_Number_USR_16 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 16 = DB1.Ship To Customer
  PAR.Customer_Number_USR_16 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.16
  PAR.Count_USR = 16;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 17 is equal 0
  IF PAR.Customer_Number_USR_17 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 17 = DB1.Ship To Customer
  PAR.Customer_Number_USR_17 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.17
  PAR.Count_USR = 17;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 18 is equal 0
  IF PAR.Customer_Number_USR_18 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 18 = DB1.Ship To Customer
  PAR.Customer_Number_USR_18 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.18
  PAR.Count_USR = 18;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 19 is equal 0
  IF PAR.Customer_Number_USR_19 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 19 = DB1.Ship To Customer
  PAR.Customer_Number_USR_19 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.19
  PAR.Count_USR = 19;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 20 is equal 0
  IF PAR.Customer_Number_USR_20 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 20 = DB1.Ship To Customer
  PAR.Customer_Number_USR_20 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.20
  PAR.Count_USR = 20;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 21 is equal 0
  IF PAR.Customer_Number_USR_21 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 21 = DB1.Ship To Customer
  PAR.Customer_Number_USR_21 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.21
  PAR.Count_USR = 21;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 22 is equal 0
  IF PAR.Customer_Number_USR_22 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 22 = DB1.Ship To Customer
  PAR.Customer_Number_USR_22 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.22
  PAR.Count_USR = 22;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 23 is equal 0
  IF PAR.Customer_Number_USR_23 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 23 = DB1.Ship To Customer
  PAR.Customer_Number_USR_23 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.23
  PAR.Count_USR = 23;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 24 is equal 0
  IF PAR.Customer_Number_USR_24 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 24 = DB1.Ship To Customer
  PAR.Customer_Number_USR_24 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.24
  PAR.Count_USR = 24;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 25 is equal 0
  IF PAR.Customer_Number_USR_25 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 25 = DB1.Ship To Customer
  PAR.Customer_Number_USR_25 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.25
  PAR.Count_USR = 25;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 26 is equal 0
  IF PAR.Customer_Number_USR_26 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 26 = DB1.Ship To Customer
  PAR.Customer_Number_USR_26 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.26
  PAR.Count_USR = 26;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  //?Populate assigned customer numbers
  // IF PAR.Customer Number USR 27 is equal 0
  IF PAR.Customer_Number_USR_27 = *ZERO;

  // AND DB1.Ship To Customer NE PAR.Ship To Customer
  AND DB1.Ship_To_Customer <> PAR.Ship_To_Customer;

  // PAR.Customer Number USR 27 = DB1.Ship To Customer
  PAR.Customer_Number_USR_27 = DB1.Ship_To_Customer;

  // PAR.Count USR = CON.27
  PAR.Count_USR = 27;

  // PAR.Record Selected       USR = CND.yes
  PAR.Record_Selected_USR = 'Y';

  ENDIF;

 }

 ENDIF;

}


