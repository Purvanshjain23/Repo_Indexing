// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PWAMXFR
// ?Date: 14.08.2025 Time: 02:55:50
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modification History
DO;

//?E8585 JJH 01/09/17 - Correct Deduction Desc 1
//?- This program is intended to be used as a temporary program to
//?  correct the Deduction Desc 1 field in the EDI Carcass Summary.
//?- At this time, the PKLLXFR program cannot be modified until the
//?  M3 modifications are installed.
//?- At this time, the Deduction Desc 1 field is incorrctly populated
//?  with a Truck Name when the Deduction Code 1 = FRT, and the
//?  TRK Truker Code in Buy Order Load = Blank.
//?- This progam will set the Deduction Desc 1 = Blank.
//?H16853 ISE 11/04/2020 - Recompiled due to change in Buy Order Number
ENDDO;

EXECUTE FUNCTION(UPD Deduction Desc 1  RT) TYPE(RTVOBJ) FILE(PKD3CPP)           AB1329966;
PARAMETER(PAR.TH_Kill_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Rtv Truck/Load        RT) TYPE(RTVOBJ) FILE(PKAXCPP)           AB1269842;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(LCL.TRK_Trucker_Code);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

  QUIT;

 }

 CASE;

 // IF DB1.Deduction Code 1 is Freight
 IF DB1.Deduction_Code_1 = 'FRT';

 // AND DB1.Deduction Desc 1 is Entered
 AND DB1.Deduction_Desc_1 <> *BLANK;

 // AND LCL.TRK Trucker Code is Not Entered
 AND LCL.TRK_Trucker_Code = *BLANK;

 EXECUTE FUNCTION(Chg Deduction Desc 1  CH) TYPE(CHGOBJ) FILE(PKD3CPP)           AB1329968;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(*BLANK);
 ENDIF;

}


