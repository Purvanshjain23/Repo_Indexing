// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKUFXFR
// ?Date: 14.08.2025 Time: 02:50:30
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?MODIFICATIONS
//?11/02/2020 ISE H16853 - CHANGE BUY ORDER NUMBER FIELD LENGTH FROM 5 TO 7
// WRK.TH Kill Date = CON.0950704
WRK.TH_Kill_Date = 0950704;

// Call program Zzz Hdr f/1day        XF.
CALL PROGRAM(Zzz Hdr f/1day        XF) ('PKUTXFR');
PARAMETER(360);
PARAMETER(WRK.TH_Kill_Date);

// Call program Upd Tto/Prd Lean Dist XF.
CALL PROGRAM(Upd Tto/Prd Lean Dist XF) ('PKTDXFR');
PARAMETER(360);
PARAMETER(WRK.TH_Kill_Date);

EXECUTE FUNCTION(Rtv/Prt CrcSm,Dtl Frm RT) TYPE(RTVOBJ) FILE(PKC6CPP)           AB1149198;
PARAMETER(PAR.Oms_System_Value_Alpha);
{
 //?USER: Process Data record

 //?Print Carc Sum
 CASE;

 // IF DB1.Tattoo Header Action is Carc Sum
 IF DB1.Tattoo_Header_Action = 'Carc Sum';

 // Call program Zzz Crc Sum on Form   Pf.
 CALL PROGRAM(Zzz Crc Sum on Form   Pf) ('PKW9PFR');
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER('N');

 //?Print Live as Carcass
 EXECUTE FUNCTION(Rtv Payment Type      RT) TYPE(RTVOBJ) FILE(PKA1CPP)           AB1172025;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(WRK.TH_Payment_Type);
 PARAMETER(WRK.TH_Hog_Class_Type);
 {
  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 CASE;

 // IF WRK.TH Payment Type is Live
 IF WRK.TH_Payment_Type = 'L';

 // AND WRK.TH Hog Class Type is Market
 AND WRK.TH_Hog_Class_Type = 'M';

 // Call program Zzz Crc Sum on Form   Pf.
 CALL PROGRAM(Zzz Crc Sum on Form   Pf) ('PKW9PFR');
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER('Y');

 ENDIF;

 ENDIF;

 //?Print Crc Dtl
 CASE;

 // IF DB1.Tattoo Header Action is Prt Crc Dtl
 IF DB1.Tattoo_Header_Action = 'Prt CrcDtl';

 // Call program ZZt Carcass Detail    zz.
 CALL PROGRAM(ZZt Carcass Detail    zz) ('PKTCPFR');
 PARAMETER(DB1.Tattoo_Sequence_Number);
 PARAMETER('N');
 PARAMETER(PAR.Oms_System_Value_Alpha);

 // Call program ZZt Carcass Detail    zz.
 CALL PROGRAM(ZZt Carcass Detail    zz) ('PKTCPFR');
 PARAMETER(DB1.Tattoo_Sequence_Number);
 PARAMETER('Y');
 PARAMETER(PAR.Oms_System_Value_Alpha);

 ENDIF;

}


