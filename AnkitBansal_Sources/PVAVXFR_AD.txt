// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PVAVXFR
// ?Date: 14.08.2025 Time: 03:51:49
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Inz
DO;

//?Eric L WI572 - Cal Prop 12 06/30/23
//?Purpose: Copy PUC8REP to PUC7REP (Reg Code to PFS Reg Code)
ENDDO;

EXECUTE FUNCTION(RTV/CLR PFS Code Mst) TYPE(RTVOBJ) FILE(PUC7REP)               AC2216867;
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 EXECUTE FUNCTION(Delete Regulation Master) TYPE(DLTOBJ) FILE(PUC7REP)           AC2213078;
 PARAMETER(DB1.PFS_Regulation_Code);
 PARAMETER(DB1.PFS_Regulation_ID);
}


EXECUTE FUNCTION(RTV RegC Master CRT PFS) TYPE(RTVOBJ) FILE(PUC8REP)            AC2216866;
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 EXECUTE FUNCTION(Create Regulation Master) TYPE(CRTOBJ) FILE(PUC7REP)           AC2213076;
 PARAMETER(DB1.Regulation_Code);
 PARAMETER(DB1.Regulation_ID);
 PARAMETER(DB1.Regulation_Origin);
 PARAMETER(DB1.Regulation_Desc);
 PARAMETER(DB1.ShipTo_Est_Stm_Stop_Tot);
 PARAMETER(DB1.Ship_To_Cust_Type);
 PARAMETER(DB1.Default_Regulation);
 PARAMETER(DB1.NonComp_Stm1_StopTot);
 PARAMETER(DB1.NonComp_Stm2_StopTot);
 PARAMETER(DB1.Compliancy_Stm1_Item);
 PARAMETER(DB1.Compliancy_Stm2_Item);
 PARAMETER(DB1.Record_Status);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(DB1.Create_Date);
 PARAMETER(DB1.Create_Time);
 PARAMETER(DB1.Change_Date);
 PARAMETER(DB1.Change_Time);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Create Stamp      IF) TYPE(EXCINTFUN)                      AC1732162;
  PARAMETER(DB1.PFS_Process_Status);
  PARAMETER(DB1.PFS_Create_Date);
  PARAMETER(DB1.PFS_Create_Time);
  {
   //?Execute internal function

   // PAR.PFS Process Status = CND.Not Processed
   PAR.PFS_Process_Status = *ZERO;

   // PAR.PFS Create Date = JOB.*Job date
   PAR.PFS_Create_Date = JOB.*Job_date;

   // PAR.PFS Create Time = JOB.*Job time
   PAR.PFS_Create_Time = JOB.*Job_time;

  }

 }

}


