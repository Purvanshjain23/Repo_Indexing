// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLOIPVR
// ?Date: 14.08.2025 Time: 02:54:54
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?Modifications
//?11/05/2020 ISE H16853 - Recompiled due to change in Buy Order Number
//?USER: Load screen

MOVE *ALL (To: DTL From: PAR);

//?USER: User defined action

EXECUTE FUNCTION(Cpy G/L Account Code  RT) TYPE(RTVOBJ) FILE(PKCWREP)           AB1295991;
PARAMETER(DTL.CC_Company_Number);
PARAMETER(DTL.CGL_Code);
PARAMETER(DTL.GL_Code_USR);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Crt HPE G/L Account   CR) TYPE(CRTOBJ) FILE(PKCWREP)           AB1143900;
 PARAMETER(DB1.CC_Company_Number);
 PARAMETER(PAR.GL_Code_USR);
 PARAMETER(DB1.CGL_Code_Description);
 PARAMETER(DB1.CGl_GL_Acct_ID);
 PARAMETER(DB1.CGl_System_Reference_Code);
 PARAMETER(DB1.CGL_Account_Category_Code);
 PARAMETER(DB1.CGL_Control_Sts);
 PARAMETER(DB1.CGL_Sub_Account_Type);
 PARAMETER(DB1.CGL_Balance_Sheet_Act_Sts);
 PARAMETER(DB1.CGL_Account_Company);
 PARAMETER(DB1.CGL_Sub_Ledger_Req);
 PARAMETER(DB1.CGL_Debit_Credit);
 PARAMETER(DB1.CLG_Unused_Sts_2);
 PARAMETER(DB1.CLG_Unused_Sts_3);
 PARAMETER(DB1.CLG_Unused_Sts_4);
 PARAMETER(DB1.CLG_Unused_Sts_5);
 PARAMETER(DB1.CLG_Unused_Sts_6);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Add Stamp         IF) TYPE(EXCINTFUN)                      AB1100935;
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  {
   //?Execute internal function

   // PAR.RS Record Status = CND.Active
   PAR.RS_Record_Status = 'A';

   // PAR.RS User Added = JOB.*USER
   PAR.RS_User_Added = JOB.*USER;

   // PAR.RS Date Added = JOB.*Job date
   PAR.RS_Date_Added = JOB.*Job_date;

   // PAR.RS Time Added = JOB.*Job time
   PAR.RS_Time_Added = JOB.*Job_time;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

  }

 }

}


