// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLJ7XFR
// ?Date: 14.08.2025 Time: 02:54:31
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?***** Change Log and Comments
DO;

//?** 11/05/2020 ISE H16853 - Recompiled due to change in Buy Order Number
//?** 09/23/2016 RMC R7307 Recompile for purch type increase to 2,0
//?** 03/13/2009 LJB FP1009 Skip: PKE9CPP, PKE8CPP, PKFACPP, PKD5CPP
//?**   they are either not used or seldom used
//?** 01/23/2009 LJB FP1009 Write to Purge Library instead of QTEMP
//?** -*- -*- -*- -*- -*- -*- -*- -* -*- -*- -*- -*- -*- -*- -*- -*- **
//?** Purge date is passed in. Records prior to the purge date are
//?** written to a file in QTEMP then deleted.  The QTEMP file
//?** is copied to the "Z" member of the Purge Tape Physical file.
//?** That member will be saved to tape.
//?** -*- -*- -*- -*- -*- -*- -*- -* -*- -*- -*- -*- -*- -*- -*- -*- **
ENDDO;

//?***** Purge the MPR files *****
EXECUTE FUNCTION(RTV MPR Estmtd Purch Purg) TYPE(RTVOBJ) FILE(PKE4CPP)          AB1280198;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 //?** 01/23/2009 LJB FP1009 Write to Purge Library instead of QTEMP
 //?** 08/17/2007 LJB FP1009 write to QTEMP then delete from production
 EXECUTE FUNCTION(CRT MPR Estmtd Purch Purg) TYPE(CRTOBJ) FILE(PKE4CPP)          AB1280197;
 PARAMETER(DB1.CC_Company_Number);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Purchase_Type_Code);
 PARAMETER(DB1.MPR_Estimated_Head);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Del MPR Estmtd Purch  DL) TYPE(DLTOBJ) FILE(PKE4CPP)           AB1235482;
 PARAMETER(DB1.CC_Company_Number);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Purchase_Type_Code);
}


EXECUTE FUNCTION(RTV Prior Day Purch Purge) TYPE(RTVOBJ) FILE(PKE7CPP)          AB1280205;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 //?** 01/23/2009 LJB FP1009 Write to Purge Library instead of QTEMP
 //?** 08/17/2007 LJB FP1009 write to QTEMP then delete from production
 EXECUTE FUNCTION(CRT Prior Day Purch Purge) TYPE(CRTOBJ) FILE(PKE7CPP)          AB1280204;
 PARAMETER(DB1.MPR_Identification_Num);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Reporting_Time);
 PARAMETER(DB1.MPR_Lot_Identification);
 PARAMETER(DB1.MPR_Pur_Ownership_Code);
 PARAMETER(DB1.MPR_Pur_Class_Code);
 PARAMETER(DB1.MPR_Pur_Purchase_Type);
 PARAMETER(DB1.MPR_Pur_Head);
 PARAMETER(DB1.MPR_Pur_Avg_Live_Wgt);
 PARAMETER(DB1.MPR_Pur_Base_Price);
 PARAMETER(DB1.MPR_Origin);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Del Prior Day Purch   DL) TYPE(DLTOBJ) FILE(PKE7CPP)           AB1235728;
 PARAMETER(DB1.MPR_Identification_Num);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Reporting_Time);
 PARAMETER(DB1.MPR_Lot_Identification);
}


EXECUTE FUNCTION(RTV MPR Prr Dy Sch Purge) TYPE(RTVOBJ) FILE(PKFHCPP)           AB1280207;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 //?** 01/23/2009 LJB FP1009 Write to Purge Library instead of QTEMP
 //?** 08/17/2007 LJB FP1009 write to QTEMP then delete from production
 EXECUTE FUNCTION(CRT MPR Prr Dy Sch Purge) TYPE(CRTOBJ) FILE(PKFHCPP)           AB1280206;
 PARAMETER(DB1.MPR_Identification_Num);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Reporting_Time);
 PARAMETER(DB1.BOL_Kill_Date);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.PL_Location_Code);
 PARAMETER(DB1.BOL_Pln_Head_Delv);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Delete MPR Prior Day Sche) TYPE(DLTOBJ) FILE(PKFHCPP)          AB1243271;
 PARAMETER(DB1.MPR_Identification_Num);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Reporting_Time);
 PARAMETER(DB1.BOL_Kill_Date);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.PL_Location_Code);
}


EXECUTE FUNCTION(RTV Prior Day Slg Purge) TYPE(RTVOBJ) FILE(PKE6CPP)            AB1280211;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 //?** 01/23/2009 LJB FP1009 Write to Purge Library instead of QTEMP
 //?** 08/17/2007 LJB FP1009 write to QTEMP then delete from production
 EXECUTE FUNCTION(CRT Prior Day Slg Purge) TYPE(CRTOBJ) FILE(PKE6CPP)            AB1280210;
 PARAMETER(DB1.MPR_Identification_Num);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Reporting_Time);
 PARAMETER(DB1.MPR_Lot_Identification);
 PARAMETER(DB1.MPR_Slg_Class_Code);
 PARAMETER(DB1.MPR_Slg_Purchase_Type);
 PARAMETER(DB1.MPR_Slg_Head);
 PARAMETER(DB1.MPR_Slg_Base_Price);
 PARAMETER(DB1.MPR_Slg_Avg_Net_Price);
 PARAMETER(DB1.MPR_Slg_Low_Net_Price);
 PARAMETER(DB1.MPR_Slg_High_Net_Price);
 PARAMETER(DB1.MPR_Slg_Avg_Live_Wgt);
 PARAMETER(DB1.MPR_Slg_Avg_Carc_Wgt);
 PARAMETER(DB1.MPR_Slg_Avg_Sort_Loss);
 PARAMETER(DB1.MPR_Slg_Avg_Backfat);
 PARAMETER(DB1.MPR_Slg_Avg_Loin_Depth);
 PARAMETER(DB1.MPR_Slg_Avg_Lean);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Del Prior Day Slg     DL) TYPE(DLTOBJ) FILE(PKE6CPP)           AB1235714;
 PARAMETER(DB1.MPR_Identification_Num);
 PARAMETER(DB1.MPR_Reporting_Date);
 PARAMETER(DB1.MPR_Reporting_Time);
 PARAMETER(DB1.MPR_Lot_Identification);
}


//?** the following are not being used or are seldom used   03/13/2009
