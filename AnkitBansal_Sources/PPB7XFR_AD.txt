// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPB7XFR
// ?Date: 14.08.2025 Time: 03:39:58
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV default Company    IF) TYPE(EXCINTFUN)                     AC1592222;
PARAMETER(PAR.Company_Number);
{
 //?Execute internal function

 EXECUTE FUNCTION(Rtv Profile Model     RT) TYPE(RTVOBJ) FILE(CADRREP)           AC1445577;
 PARAMETER(JOB.*USER);
 PARAMETER(PAR.User_Code_Model);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 CASE;

 // IF PAR.User Code Model is equal to blank
 IF PAR.User_Code_Model = *BLANK;

 EXECUTE FUNCTION(RTV Appl. Default Co   RT) TYPE(RTVOBJ) FILE(CADTREP)          AC1143068;
 PARAMETER(JOB.*USER);
 PARAMETER('P/S');
 PARAMETER(PAR.Company_Number);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 // IF *OTHERWISE
 IF *OTHERWISE;

 EXECUTE FUNCTION(RTV Appl. Default Co   RT) TYPE(RTVOBJ) FILE(CADTREP)          AC1143068;
 PARAMETER(PAR.User_Code_Model);
 PARAMETER('P/S');
 PARAMETER(PAR.Company_Number);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 ENDIF;

}


// Call program Clc Purge Date        XF.
CALL PROGRAM(Clc Purge Date        XF) ('POGGXFR');
PARAMETER(*MISSING);
PARAMETER(*MISSING);
PARAMETER('COLDSC');
PARAMETER(JOB.*Job_date);
PARAMETER(PAR.USR_Date_ATR);

CASE;

// IF PGM.*Return code is Error Found
IF PGM.*Return_code = 'ERROR';

RETURN;

ENDIF;

//?*-------------------------------------------------------------*
// Call program Zzzd all rcds for Prg XF.
CALL PROGRAM(Zzzd all rcds for Prg XF) ('PPBZXFR');
PARAMETER(PAR.USR_Date_ATR);
PARAMETER(PAR.Date_In);
PARAMETER(PAR.Date_From_USR);

