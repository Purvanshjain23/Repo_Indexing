// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PNN9XFR
// ?Date: 14.08.2025 Time: 03:45:51
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and Comments
DO;

//?E3328 JJH 10/13/14 - New option to print Quantities Less Than Zero
//? This is test program that is in PRKPLIB, so program updated
ENDDO;

//?1. Override Printer File.
DO;

// PAR.Nbr of Copies-Alpha   USR = CVTVAR(PAR.PRT Number of Copies)
PAR.Nbr_of_Copies_Alpha_USR = CVTVAR(PAR.PRT_Number_of_Copies);

//?Report 1 (Sort by Load Id)
CASE;

// IF PAR.USR Radio Button 1 is Select X
IF PAR.USR_Radio_Button_1 = 'X';

// PAR.Printer File = CON.PDSEPFR$
PAR.Printer_File = 'PDSEPFR$';

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.Nbr_of_Copies_Alpha_USR);

ENDIF;

//?Report 2 (Sort by Scheduled Sequence Number)
CASE;

// IF PAR.USR Radio Button 2 is Select X
IF PAR.USR_Radio_Button_2 = 'X';

// PAR.Printer File = CON.PDUCPFR$
PAR.Printer_File = 'PDUCPFR$';

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.Nbr_of_Copies_Alpha_USR);

ENDIF;

//?Report 3 (Sort by Deadline Departure Date/Time)
CASE;

// IF PAR.USR Radio Button 3 is Select X
IF PAR.USR_Radio_Button_3 = 'X';

// PAR.Printer File = CON.PDUDPFR$
PAR.Printer_File = 'PDUDPFR$';

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.Nbr_of_Copies_Alpha_USR);

ENDIF;

ENDDO;

//?Files will be done based on the data libary that is ready
//?2. Copy files from PRKFLIB TO qtemp
DO;

// Call program ZzzPrt Load SchdlnQTEMPUP.
CALL PROGRAM(ZzzPrt Load SchdlnQTEMPUP) ('PMD5UCLPT');
PARAMETER(LCL.Return_Code_Usr);

ENDDO;

//?3. Print Report.  Get Data Area, cpyf to qtemp & print report(s)
DO;

//?E3328 JJH 10/13/14 - New option to print Quantities Less Than Zero
//? This is test program that is in PRKPLIB, so program updated
// Call program ZzzPrt Load Schdlng S3 XF.
CALL PROGRAM(ZzzPrt Load Schdlng S3 XF) ('PNODXFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.From_Date_USR);
PARAMETER(PAR.To_Date_USR);
PARAMETER(PAR.From_Load_ID_USR);
PARAMETER(PAR.To_Load_ID_USR);
PARAMETER(PAR.Export_Status);
PARAMETER(PAR.U_M_Load_Scheduling_USR);
PARAMETER(PAR.Load_Grade);
PARAMETER(PAR.Untied_Orders_Flag_USR);
PARAMETER(PAR.USR_Radio_Button_1);
PARAMETER(PAR.USR_Radio_Button_2);
PARAMETER(PAR.USR_Radio_Button_3);
PARAMETER(PAR.Warehouse_Code);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(PAR.PRT_Number_of_Copies);
PARAMETER(PAR.Create_Requested);
PARAMETER(PAR.Qty_Less_Than_Zero_USR);

ENDDO;

