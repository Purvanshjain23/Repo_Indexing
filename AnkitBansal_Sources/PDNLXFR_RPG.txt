     H/TITLE Copy Defaults to New   XF Execute external functio
     H            Y
     Z* CRTRPGPGM
     Z* CVTOPT(*DATETIME)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by CA 2E release 8.6 (1547)
     H* Function type : Execute external function
      *
     H* Company       : OMS Development Model
     H* System        : OMS Development Model
     H* User name     : ISDNGUY
     H* Date          : 10/06/20  Time  : 13:29:20
     H* Copyright     : OMS Development Model
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FPDMMREL1IF  E           K        DISK
      * RTV : Export Doc Defaults       Retrieval index
      *
     FPDMMREL0IF  E           K        DISK                      A
      * UPD : Export Doc Defaults       Update index
      *
     I@MMREWN
      * Export Doc Defaults       Retrieval index
      * Renamed input format fields
     I              MMAIC3                          WAAIC3
     I              MMDGSX                          WADGSX
     I              MMKXCD                          WAKXCD
     I              MMZMCD                          WAZMCD
     I              MMPSTX                          WAPSTX
     I              MMPUTX                          WAPUTX
     I              MMPVTX                          WAPVTX
     I              MMPWTX                          WAPWTX
     I              MMRVTX                          WARVTX
     I              MMPPU1                          WAPPU1
     I              MMZ7AA                          WAZ7AA
     I              MMPDU1                          WAPDU1
     I              MMZ8AA                          WAZ8AA
     I              MMZNCD                          WAZNCD
     I              MMPXTX                          WAPXTX
     I              MMZOCD                          WAZOCD
     I              MMCSSX                          WACSSX
     I              MMCTSX                          WACTSX
     I              MMCUSX                          WACUSX
     I              MMCVSX                          WACVSX
     I              MMPTTX                          WAPTTX
     I              MMORNA                          WAORNA
     I              MMOSNA                          WAOSNA
     I              MMPZTX                          WAPZTX
     I              MMOTNA                          WAOTNA
     I              MMP0TX                          WAP0TX
     I              MMP1TX                          WAP1TX
     I              MMP2TX                          WAP2TX
     I              MMP3TX                          WAP3TX
     I              MMP4TX                          WAP4TX
     I              MMP5TX                          WAP5TX
     I              MMP6TX                          WAP6TX
     I              MMYHTX                          WAYHTX
     I              MMYITX                          WAYITX
     I              MMCWSX                          WACWSX
     I              MMOUNA                          WAOUNA
     I              MMP7TX                          WAP7TX
     I              MMP9TX                          WAP9TX
     I              MMOVNA                          WAOVNA
     I              MMQATX                          WAQATX
     I              MMQBTX                          WAQBTX
     I              MMQCTX                          WAQCTX
     I              MMOWNA                          WAOWNA
     I              MMOXNA                          WAOXNA
     I              MMABNX                          WAABNX
     I              MMACNX                          WAACNX
     I              MMADNX                          WAADNX
     I              MMQDTX                          WAQDTX
     I              MMQETX                          WAQETX
     I              MMOYNA                          WAOYNA
     I              MMOZNA                          WAOZNA
     I              MMO0NA                          WAO0NA
     I              MMO1NA                          WAO1NA
     I              MMCXSX                          WACXSX
     I              MMCYSX                          WACYSX
     I              MMAGNX                          WAAGNX
     I              MMCZSX                          WACZSX
     I              MMC0SX                          WAC0SX
     I              MMC1SX                          WAC1SX
     I              MMQFTX                          WAQFTX
     I              MMAHNX                          WAAHNX
     I              MMQGTX                          WAQGTX
     I              MMQHTX                          WAQHTX
     I              MMQITX                          WAQITX
     I              MMQJTX                          WAQJTX
     I              MMQKTX                          WAQKTX
     I              MMQMTX                          WAQMTX
     I              MMQNTX                          WAQNTX
     I              MMQOTX                          WAQOTX
     I              MMQPTX                          WAQPTX
     I              MMQQTX                          WAQQTX
     I              MMQRTX                          WAQRTX
     I              MMQSTX                          WAQSTX
     I              MMQTTX                          WAQTTX
     I              MMQUTX                          WAQUTX
     I              MMQVTX                          WAQVTX
     I              MMQYTX                          WAQYTX
     I              MMQWTX                          WAQWTX
     I              MMQZTX                          WAQZTX
     I              MMAINX                          WAAINX
     I              MMQ1TX                          WAQ1TX
     I              MMQ2TX                          WAQ2TX
     I              MMQ3TX                          WAQ3TX
     I              MMQ4TX                          WAQ4TX
     I              MMQ5TX                          WAQ5TX
     I              MMQ6TX                          WAQ6TX
     I              MMQ7TX                          WAQ7TX
     I              MMQ8TX                          WAQ8TX
     I              MMQ9TX                          WAQ9TX
     I              MMZQCD                          WAZQCD
     I              MMZRCD                          WAZRCD
     I              MMA7VL                          WAA7VL
     I              MMA8VL                          WAA8VL
     I              MMC2SX                          WAC2SX
     I              MMRATX                          WARATX
     I              MMRBTX                          WARBTX
     I              MMRCTX                          WARCTX
     I              MMRDTX                          WARDTX
     I              MMRETX                          WARETX
     I              MMC3SX                          WAC3SX
     I              MMC4SX                          WAC4SX
     I              MMC5SX                          WAC5SX
     I              MMC6SX                          WAC6SX
     I              MMC7SX                          WAC7SX
     I              MMMQDT                          WAMQDT
     I              MMMRDT                          WAMRDT
     I              MMMSDT                          WAMSDT
     I              MMAJNX                          WAAJNX
     I              MMYFTX                          WAYFTX
     I              MMX9TX                          WAX9TX
     I              MMYATX                          WAYATX
     I              MMYBTX                          WAYBTX
     I              MMB5AA                          WAB5AA
     I              MMYCTX                          WAYCTX
     I              MMYDTX                          WAYDTX
     I              MMYETX                          WAYETX
     I              MMB6AA                          WAB6AA
     I              MMLGSC                          WALGSC
     I              MMLHSC                          WALHSC
     I              MMPEU1                          WAPEU1
     I              MMPFU1                          WAPFU1
     I              MMFDNZ                          WAFDNZ
     I              MMBSDX                          WABSDX
     I              MMUVST                          WAUVST
     I              MMUWST                          WAUWST
     I              MMUXST                          WAUXST
     I              MMVSST                          WAVSST
     I              MMAATM                          WAAATM
     I              MMAYNA                          WAAYNA
     I              MMA0NA                          WAA0NA
     I              MMAXDT                          WAAXDT
      *
     I@MMREWM
      * Export Doc Defaults       Update index
      * Renamed input format fields
     I              MMAIC3                          WBAIC3
     I              MMDGSX                          WBDGSX
     I              MMKXCD                          WBKXCD
     I              MMZMCD                          WBZMCD
     I              MMPSTX                          WBPSTX
     I              MMPUTX                          WBPUTX
     I              MMPVTX                          WBPVTX
     I              MMPWTX                          WBPWTX
     I              MMRVTX                          WBRVTX
     I              MMPPU1                          WBPPU1
     I              MMZ7AA                          WBZ7AA
     I              MMPDU1                          WBPDU1
     I              MMZ8AA                          WBZ8AA
     I              MMZNCD                          WBZNCD
     I              MMPXTX                          WBPXTX
     I              MMZOCD                          WBZOCD
     I              MMCSSX                          WBCSSX
     I              MMCTSX                          WBCTSX
     I              MMCUSX                          WBCUSX
     I              MMCVSX                          WBCVSX
     I              MMPTTX                          WBPTTX
     I              MMORNA                          WBORNA
     I              MMOSNA                          WBOSNA
     I              MMPZTX                          WBPZTX
     I              MMOTNA                          WBOTNA
     I              MMP0TX                          WBP0TX
     I              MMP1TX                          WBP1TX
     I              MMP2TX                          WBP2TX
     I              MMP3TX                          WBP3TX
     I              MMP4TX                          WBP4TX
     I              MMP5TX                          WBP5TX
     I              MMP6TX                          WBP6TX
     I              MMYHTX                          WBYHTX
     I              MMYITX                          WBYITX
     I              MMCWSX                          WBCWSX
     I              MMOUNA                          WBOUNA
     I              MMP7TX                          WBP7TX
     I              MMP9TX                          WBP9TX
     I              MMOVNA                          WBOVNA
     I              MMQATX                          WBQATX
     I              MMQBTX                          WBQBTX
     I              MMQCTX                          WBQCTX
     I              MMOWNA                          WBOWNA
     I              MMOXNA                          WBOXNA
     I              MMABNX                          WBABNX
     I              MMACNX                          WBACNX
     I              MMADNX                          WBADNX
     I              MMQDTX                          WBQDTX
     I              MMQETX                          WBQETX
     I              MMOYNA                          WBOYNA
     I              MMOZNA                          WBOZNA
     I              MMO0NA                          WBO0NA
     I              MMO1NA                          WBO1NA
     I              MMCXSX                          WBCXSX
     I              MMCYSX                          WBCYSX
     I              MMAGNX                          WBAGNX
     I              MMCZSX                          WBCZSX
     I              MMC0SX                          WBC0SX
     I              MMC1SX                          WBC1SX
     I              MMQFTX                          WBQFTX
     I              MMAHNX                          WBAHNX
     I              MMQGTX                          WBQGTX
     I              MMQHTX                          WBQHTX
     I              MMQITX                          WBQITX
     I              MMQJTX                          WBQJTX
     I              MMQKTX                          WBQKTX
     I              MMQMTX                          WBQMTX
     I              MMQNTX                          WBQNTX
     I              MMQOTX                          WBQOTX
     I              MMQPTX                          WBQPTX
     I              MMQQTX                          WBQQTX
     I              MMQRTX                          WBQRTX
     I              MMQSTX                          WBQSTX
     I              MMQTTX                          WBQTTX
     I              MMQUTX                          WBQUTX
     I              MMQVTX                          WBQVTX
     I              MMQYTX                          WBQYTX
     I              MMQWTX                          WBQWTX
     I              MMQZTX                          WBQZTX
     I              MMAINX                          WBAINX
     I              MMQ1TX                          WBQ1TX
     I              MMQ2TX                          WBQ2TX
     I              MMQ3TX                          WBQ3TX
     I              MMQ4TX                          WBQ4TX
     I              MMQ5TX                          WBQ5TX
     I              MMQ6TX                          WBQ6TX
     I              MMQ7TX                          WBQ7TX
     I              MMQ8TX                          WBQ8TX
     I              MMQ9TX                          WBQ9TX
     I              MMZQCD                          WBZQCD
     I              MMZRCD                          WBZRCD
     I              MMA7VL                          WBA7VL
     I              MMA8VL                          WBA8VL
     I              MMC2SX                          WBC2SX
     I              MMRATX                          WBRATX
     I              MMRBTX                          WBRBTX
     I              MMRCTX                          WBRCTX
     I              MMRDTX                          WBRDTX
     I              MMRETX                          WBRETX
     I              MMC3SX                          WBC3SX
     I              MMC4SX                          WBC4SX
     I              MMC5SX                          WBC5SX
     I              MMC6SX                          WBC6SX
     I              MMC7SX                          WBC7SX
     I              MMMQDT                          WBMQDT
     I              MMMRDT                          WBMRDT
     I              MMMSDT                          WBMSDT
     I              MMAJNX                          WBAJNX
     I              MMYFTX                          WBYFTX
     I              MMX9TX                          WBX9TX
     I              MMYATX                          WBYATX
     I              MMYBTX                          WBYBTX
     I              MMB5AA                          WBB5AA
     I              MMYCTX                          WBYCTX
     I              MMYDTX                          WBYDTX
     I              MMYETX                          WBYETX
     I              MMB6AA                          WBB6AA
     I              MMLGSC                          WBLGSC
     I              MMLHSC                          WBLHSC
     I              MMPEU1                          WBPEU1
     I              MMPFU1                          WBPFU1
     I              MMFDNZ                          WBFDNZ
     I              MMBSDX                          WBBSDX
     I              MMUVST                          WBUVST
     I              MMUWST                          WBUWST
     I              MMUXST                          WBUXST
     I              MMVSST                          WBVSST
     I              MMAATM                          WBAATM
     I              MMAYNA                          WBAYNA
     I              MMA0NA                          WBA0NA
     I              MMAXDT                          WBAXDT
      *
      /EJECT
      * Data structures:
     IPGMDS     ESDSY2PGDSP
      * Modified Program data structure
     IJBDTTM      DS
      * Job date/time
     I                                        1   70##JDT
     I                                        1   10##JCC
     I                                        2   30##JYY
     I                                        4   50##JMM
     I                                        6   70##JDD
     I                                        8  130##JTM
     I                                        8   90##JHH
     I                                       10  110##JNN
     I                                       12  130##JSS
     IQPDMM1    E DSPDMMREL0
      * UPD : Export Doc Defaults       Update index
      * Renamed input format fields
     I              MMAIC3                          WBAIC3
     I              MMDGSX                          WBDGSX
     I              MMKXCD                          WBKXCD
     I              MMZMCD                          WBZMCD
     I              MMPSTX                          WBPSTX
     I              MMPUTX                          WBPUTX
     I              MMPVTX                          WBPVTX
     I              MMPWTX                          WBPWTX
     I              MMRVTX                          WBRVTX
     I              MMPPU1                          WBPPU1
     I              MMZ7AA                          WBZ7AA
     I              MMPDU1                          WBPDU1
     I              MMZ8AA                          WBZ8AA
     I              MMZNCD                          WBZNCD
     I              MMPXTX                          WBPXTX
     I              MMZOCD                          WBZOCD
     I              MMCSSX                          WBCSSX
     I              MMCTSX                          WBCTSX
     I              MMCUSX                          WBCUSX
     I              MMCVSX                          WBCVSX
     I              MMPTTX                          WBPTTX
     I              MMORNA                          WBORNA
     I              MMOSNA                          WBOSNA
     I              MMPZTX                          WBPZTX
     I              MMOTNA                          WBOTNA
     I              MMP0TX                          WBP0TX
     I              MMP1TX                          WBP1TX
     I              MMP2TX                          WBP2TX
     I              MMP3TX                          WBP3TX
     I              MMP4TX                          WBP4TX
     I              MMP5TX                          WBP5TX
     I              MMP6TX                          WBP6TX
     I              MMYHTX                          WBYHTX
     I              MMYITX                          WBYITX
     I              MMCWSX                          WBCWSX
     I              MMOUNA                          WBOUNA
     I              MMP7TX                          WBP7TX
     I              MMP9TX                          WBP9TX
     I              MMOVNA                          WBOVNA
     I              MMQATX                          WBQATX
     I              MMQBTX                          WBQBTX
     I              MMQCTX                          WBQCTX
     I              MMOWNA                          WBOWNA
     I              MMOXNA                          WBOXNA
     I              MMABNX                          WBABNX
     I              MMACNX                          WBACNX
     I              MMADNX                          WBADNX
     I              MMQDTX                          WBQDTX
     I              MMQETX                          WBQETX
     I              MMOYNA                          WBOYNA
     I              MMOZNA                          WBOZNA
     I              MMO0NA                          WBO0NA
     I              MMO1NA                          WBO1NA
     I              MMCXSX                          WBCXSX
     I              MMCYSX                          WBCYSX
     I              MMAGNX                          WBAGNX
     I              MMCZSX                          WBCZSX
     I              MMC0SX                          WBC0SX
     I              MMC1SX                          WBC1SX
     I              MMQFTX                          WBQFTX
     I              MMAHNX                          WBAHNX
     I              MMQGTX                          WBQGTX
     I              MMQHTX                          WBQHTX
     I              MMQITX                          WBQITX
     I              MMQJTX                          WBQJTX
     I              MMQKTX                          WBQKTX
     I              MMQMTX                          WBQMTX
     I              MMQNTX                          WBQNTX
     I              MMQOTX                          WBQOTX
     I              MMQPTX                          WBQPTX
     I              MMQQTX                          WBQQTX
     I              MMQRTX                          WBQRTX
     I              MMQSTX                          WBQSTX
     I              MMQTTX                          WBQTTX
     I              MMQUTX                          WBQUTX
     I              MMQVTX                          WBQVTX
     I              MMQYTX                          WBQYTX
     I              MMQWTX                          WBQWTX
     I              MMQZTX                          WBQZTX
     I              MMAINX                          WBAINX
     I              MMQ1TX                          WBQ1TX
     I              MMQ2TX                          WBQ2TX
     I              MMQ3TX                          WBQ3TX
     I              MMQ4TX                          WBQ4TX
     I              MMQ5TX                          WBQ5TX
     I              MMQ6TX                          WBQ6TX
     I              MMQ7TX                          WBQ7TX
     I              MMQ8TX                          WBQ8TX
     I              MMQ9TX                          WBQ9TX
     I              MMZQCD                          WBZQCD
     I              MMZRCD                          WBZRCD
     I              MMA7VL                          WBA7VL
     I              MMA8VL                          WBA8VL
     I              MMC2SX                          WBC2SX
     I              MMRATX                          WBRATX
     I              MMRBTX                          WBRBTX
     I              MMRCTX                          WBRCTX
     I              MMRDTX                          WBRDTX
     I              MMRETX                          WBRETX
     I              MMC3SX                          WBC3SX
     I              MMC4SX                          WBC4SX
     I              MMC5SX                          WBC5SX
     I              MMC6SX                          WBC6SX
     I              MMC7SX                          WBC7SX
     I              MMMQDT                          WBMQDT
     I              MMMRDT                          WBMRDT
     I              MMMSDT                          WBMSDT
     I              MMAJNX                          WBAJNX
     I              MMYFTX                          WBYFTX
     I              MMX9TX                          WBX9TX
     I              MMYATX                          WBYATX
     I              MMYBTX                          WBYBTX
     I              MMB5AA                          WBB5AA
     I              MMYCTX                          WBYCTX
     I              MMYDTX                          WBYDTX
     I              MMYETX                          WBYETX
     I              MMB6AA                          WBB6AA
     I              MMLGSC                          WBLGSC
     I              MMLHSC                          WBLHSC
     I              MMPEU1                          WBPEU1
     I              MMPFU1                          WBPFU1
     I              MMFDNZ                          WBFDNZ
     I              MMBSDX                          WBBSDX
     I              MMUVST                          WBUVST
     I              MMUWST                          WBUWST
     I              MMUXST                          WBUXST
     I              MMVSST                          WBVSST
     I              MMAATM                          WBAATM
     I              MMAYNA                          WBAYNA
     I              MMA0NA                          WBA0NA
     I              MMAXDT                          WBAXDT
      *
      /EJECT
      * Parameter declarations
     IP1PARM      DS
      * FLD: Export Doc Defaults
      * I :  Company Number
     I                                    P   1   20P1AIC3
      * I :  ED Export Document Type
     I                                        3   3 P1DGSX
      * I :  Country Code
     I                                        4   9 P1KXCD
     IP2PARM      DS
      * I :  USR Company Number
     I                                    P   1   20P2FKNB
     IP3PARM      DS
      * I :  USR Country Code
     I                                        1   6 P3Z8CD
     IP4PARM      DS
      * I :  USR export document type
     I                                        1   1 P4DHSX
     I            DS
     I                                        1 132 ZAMSDA
      /EJECT
      *****************************************************************
      * Entry parameters
     C           *ENTRY    PLIST
     C                     PARM           P0RTN   7
     C           P1AIC3    PARM           WP0001  30       Company Number
     C           P1DGSX    PARM           WP0002  1        ED Export Docum
     C           P1KXCD    PARM           WP0003  6        Country Code
     C           P2FKNB    PARM           WP0004  30       USR Company Num
     C           P3Z8CD    PARM           WP0005  6        USR Country Cod
     C           P4DHSX    PARM           WP0006  1        USR export docu
      *****************************************************************
      * Initialize
     C                     EXSR ZZINIT
      *
      * Copy Defaults to New   XF
      * Rtv/Crt New Dflt copy  RT - PD Export Doc Defaults  * 
     C                     EXSR SARVGN
      *----------------------------------------------------------------
      * Exit program
     C           AAEXIT    TAG
     C                     MOVEL*BLANK    P0RTN
     C                     EXSR ZYEXPG
      *================================================================
      /EJECT
     CSR         SARVGN    BEGSR
      *================================================================
      * Rtv/Crt New Dflt copy  RT - PD Export Doc Defaults  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Define keylist
     C           KRSSA     KLIST
     C                     KFLD           WAAIC3           Company Number
     C                     KFLD           WADGSX           ED Export Docum
     C                     KFLD           WAKXCD           Country Code
      * Setup key
     C                     Z-ADDP1AIC3    WAAIC3           Company Number
     C                     MOVELP1DGSX    WADGSX           ED Export Docum
     C                     MOVELP1KXCD    WAKXCD           Country Code
      * Establish starting position
     C           KRSSA     CHAIN@MMREWN              90    *
      * Data record not found
     C   90                MOVEL'USR2733' W0RTN   7
     C           *IN90     IFEQ '0'
      * USER: Process Data record
      * Crt Exp Doc Defaults   CR - Export Doc Defaults  * 
     C                     EXSR SBCRRC
     C                     ENDIF
      *================================================================
     CSR         SAEXIT    ENDSR
      /EJECT
     CSR         SBCRRC    BEGSR
      *================================================================
      * Crt Exp Doc Defaults   CR - Export Doc Defaults  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Move all fields to @MMREWM
     C                     Z-ADDP2FKNB    WBAIC3           Company Number
     C                     MOVELP4DHSX    WBDGSX           ED Export Docum
     C                     MOVELP3Z8CD    WBKXCD           Country Code
     C                     MOVELWAZMCD    WBZMCD           ED Area Office
     C                     MOVELWAPSTX    WBPSTX           ED Destination
     C                     MOVELWAPUTX    WBPUTX           ED Consignor Na
     C                     MOVELWAPVTX    WBPVTX           ED Consignor Ad
     C                     MOVELWAPWTX    WBPWTX           ED Consignor Ad
     C                     MOVELWARVTX    WBRVTX           ED Consignor Ad
     C                     MOVELWAPPU1    WBPPU1           ED Consignor Ad
     C                     MOVELWAZ7AA    WBZ7AA           ED Consignor St
     C                     MOVELWAPDU1    WBPDU1           ED Consignor Po
     C                     MOVELWAZ8AA    WBZ8AA           ED Consignor Co
     C                     MOVELWAZNCD    WBZNCD           ED Plant Number
     C                     MOVELWAPXTX    WBPXTX           ED Plant Locati
     C                     MOVELWAZOCD    WBZOCD           ED Plant Locati
     C                     MOVELWACSSX    WBCSSX           ED Processing P
     C                     MOVELWACTSX    WBCTSX           ED Attachment S
     C                     MOVELWACUSX    WBCUSX           ED Attachment T
     C                     MOVELWACVSX    WBCVSX           ED Xlate Desc t
     C                     MOVELWAPTTX    WBPTTX           ED Unmarked Txt
     C                     MOVELWAORNA    WBORNA           ED Shipping Mar
     C                     MOVELWAOSNA    WBOSNA           ED Date of Slau
     C                     MOVELWAPZTX    WBPZTX           ED Place of Sla
     C                     MOVELWAOTNA    WBOTNA           ED Date of Proc
     C                     MOVELWAP0TX    WBP0TX           ED Place of pro
     C                     MOVELWAP1TX    WBP1TX           ED Continue Com
     C                     MOVELWAP2TX    WBP2TX           ED Remark Const
     C                     MOVELWAP3TX    WBP3TX           ED Remark Const
     C                     MOVELWAP4TX    WBP4TX           ED Remark Const
     C                     MOVELWAP5TX    WBP5TX           ED Remark Const
     C                     MOVELWAP6TX    WBP6TX           ED Remark Const
     C                     MOVELWAYHTX    WBYHTX           ED Remark Const
     C                     MOVELWAYITX    WBYITX           ED Remark Const
     C                     MOVELWACWSX    WBCWSX           ED Certify that
     C                     MOVELWAOUNA    WBOUNA           ED Inspector Na
     C                     MOVELWAP7TX    WBP7TX           ED Origin Count
     C                     MOVELWAP9TX    WBP9TX           ED Port of Load
     C                     MOVELWAOVNA    WBOVNA           ED Transportion
     C                     MOVELWAQATX    WBQATX           ED Seal Number
     C                     MOVELWAQBTX    WBQBTX           ED Seal Number
     C                     MOVELWAQCTX    WBQCTX           ED Can. Import
     C                     MOVELWAOWNA    WBOWNA           ED Can. Import
     C                     MOVELWAOXNA    WBOXNA           ED Can. Import
     C                     Z-ADDWAABNX    WBABNX           ED Can. Import
     C                     Z-ADDWAACNX    WBACNX           ED Can. Import
     C                     Z-ADDWAADNX    WBADNX           ED Seaboard Pla
     C                     MOVELWAQDTX    WBQDTX           ED USDA Cert Nb
     C                     MOVELWAQETX    WBQETX           ED USDA Cert Nb
     C                     MOVELWAOYNA    WBOYNA           ED Can. Port of
     C                     MOVELWAOZNA    WBOZNA           ED Can. Reinsp
     C                     MOVELWAO0NA    WBO0NA           ED Can. Reinsp
     C                     MOVELWAO1NA    WBO1NA           ED Can. Reinsp
     C                     MOVELWACXSX    WBCXSX           ED Herm Sealed
     C                     MOVELWACYSX    WBCYSX           ED Herm Sealed
     C                     MOVELWAAGNX    WBAGNX           ED Herm Sealed
     C                     MOVELWACZSX    WBCZSX           ED Whole Bird S
     C                     MOVELWAC0SX    WBC0SX           ED Marked Sts
     C                     MOVELWAC1SX    WBC1SX           ED Tamper Evide
     C                     MOVELWAQFTX    WBQFTX           ED Plant Contac
     C                     Z-ADDWAAHNX    WBAHNX           ED Plant Contac
     C                     MOVELWAQGTX    WBQGTX           ED Modified Tex
     C                     MOVELWAQHTX    WBQHTX           ED Issued Crt f
     C                     MOVELWAQITX    WBQITX           ED Species
     C                     MOVELWAQJTX    WBQJTX           ED Slaughter Pl
     C                     MOVELWAQKTX    WBQKTX           ED Slaughter Pl
     C                     MOVELWAQMTX    WBQMTX           ED Slaughter Pl
     C                     MOVELWAQNTX    WBQNTX           ED Packaging Pl
     C                     MOVELWAQOTX    WBQOTX           ED Packaging Pl
     C                     MOVELWAQPTX    WBQPTX           ED Packaging Pl
     C                     MOVELWAQQTX    WBQQTX           ED Manufact Pla
     C                     MOVELWAQRTX    WBQRTX           ED Manufact Pla
     C                     MOVELWAQSTX    WBQSTX           ED Manufact Pla
     C                     MOVELWAQTTX    WBQTTX           ED USDA Name 1
     C                     MOVELWAQUTX    WBQUTX           ED USDA Name 2
     C                     MOVELWAQVTX    WBQVTX           ED USDA Name 3
     C                     MOVELWAQYTX    WBQYTX           ED Title of Off
     C                     MOVELWAQWTX    WBQWTX           ED Letter of Cr
     C                     MOVELWAQZTX    WBQZTX           ED Unused prd m
     C                     Z-ADDWAAINX    WBAINX           ED Nbr of prods
     C                     MOVELWAQ1TX    WBQ1TX           ED Importer Nam
     C                     MOVELWAQ2TX    WBQ2TX           ED Importer Add
     C                     MOVELWAQ3TX    WBQ3TX           ED Importer Add
     C                     MOVELWAQ4TX    WBQ4TX           ED Purchaser Na
     C                     MOVELWAQ5TX    WBQ5TX           ED Purchaser Ad
     C                     MOVELWAQ6TX    WBQ6TX           ED Purchaser Ad
     C                     MOVELWAQ7TX    WBQ7TX           ED Place Drct S
     C                     MOVELWAQ8TX    WBQ8TX           ED Place Drct S
     C                     MOVELWAQ9TX    WBQ9TX           ED Place Drct S
     C                     MOVELWAZQCD    WBZQCD           ED Currency
     C                     MOVELWAZRCD    WBZRCD           ED Conditions o
     C                     Z-ADDWAA7VL    WBA7VL           ED Total Unit P
     C                     Z-ADDWAA8VL    WBA8VL           ED Invoice Tota
     C                     MOVELWAC2SX    WBC2SX           ED Live with PH
     C                     MOVELWARATX    WBRATX           ED Plant Number
     C                     MOVELWARBTX    WBRBTX           ED Description
     C                     MOVELWARCTX    WBRCTX           ED Slaughter Da
     C                     MOVELWARDTX    WBRDTX           ED Production m
     C                     MOVELWARETX    WBRETX           ED Remark Const
     C                     MOVELWAC3SX    WBC3SX           ED Allow Print
     C                     MOVELWAC4SX    WBC4SX           ED Cert of Orig
     C                     MOVELWAC5SX    WBC5SX           ED Use item lab
     C                     MOVELWAC6SX    WBC6SX           ED Slg/Proc Dat
     C                     MOVELWAC7SX    WBC7SX           ED Total Packag
     C                     Z-ADDWAMQDT    WBMQDT           ED Export Certi
     C                     Z-ADDWAMRDT    WBMRDT           ED Sail Date
     C                     Z-ADDWAMSDT    WBMSDT           ED Sworn on Dat
     C                     Z-ADDWAAJNX    WBAJNX           ED Consignee Ad
     C                     MOVELWAYFTX    WBYFTX           ED Form Identif
     C                     MOVELWAX9TX    WBX9TX           ED Cold Storage
     C                     MOVELWAYATX    WBYATX           ED Cold Storage
     C                     MOVELWAYBTX    WBYBTX           ED Cold Storage
     C                     MOVELWAB5AA    WBB5AA           ED Cold Storage
     C                     MOVELWAYCTX    WBYCTX           ED Slaughter Da
     C                     MOVELWAYDTX    WBYDTX           ED Production m
     C                     MOVELWAYETX    WBYETX           ED Production m
     C                     MOVELWAB6AA    WBB6AA           ED Booking Nbr
     C                     MOVELWALGSC    WBLGSC           ED Unused Sts 1
     C                     MOVELWALHSC    WBLHSC           ED Unused Sts 2
     C                     MOVELWAPEU1    WBPEU1           ED Unused Text
     C                     MOVELWAPFU1    WBPFU1           ED Unused Text
     C                     Z-ADDWAFDNZ    WBFDNZ           ED Unused Numbe
     C                     Z-ADDWABSDX    WBBSDX           ED Unused Date
     C                     MOVELWAUVST    WBUVST           EDI Status 1
     C                     MOVELWAUWST    WBUWST           EDI Status 2
     C                     MOVELWAUXST    WBUXST           EDI Status 3
     C                     MOVELWAVSST    WBVSST           Record Status
     C                     Z-ADDWAAATM    WBAATM           Job Time
     C                     MOVELWAAYNA    WBAYNA           User Id
     C                     MOVELWAA0NA    WBA0NA           Job Name
     C                     Z-ADDWAAXDT    WBAXDT           Job Date
      *
      * USER: Processing before Data update
      * SET Record Stamp CRTOB IF
     C                     MOVEL'A'       WBVSST           Record Status
     C                     Z-ADD##JTM     WBAATM           Job Time
     C                     MOVEL##USR     WBAYNA           User Id
     C                     MOVEL##PGM     WBA0NA           Job Name
     C                     Z-ADD##JDT     WBAXDT           Job Date
     C           KLCRSB    KLIST
     C                     KFLD           WBAIC3           Company Number
     C                     KFLD           WBDGSX           ED Export Docum
     C                     KFLD           WBKXCD           Country Code
      * Check for duplicate primary key
     C           KLCRSB    SETLL@MMREWM                  90*
     C           *IN90     IFEQ '1'
     C                     MOVEL'USR2734' W0RTN   7
      * Send message 'Export Doc Defaults    EX'
     C                     MOVEL'USR2734' ZAMSID
     C                     EXSR ZASNMS
     C                     GOTO SBEXIT
     C                     ENDIF
      *
     C                     WRITE@MMREWM                91  *
      *
     C           *IN91     IFEQ '1'
      * Write error detected
     C                     MOVEL'Y2U0004' W0RTN   7
     C                     ELSE
     C                     ENDIF
      *================================================================
     CSR         SBEXIT    ENDSR
      /EJECT
     CSR         ZASNMS    BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C           ZAPGMQ    IFEQ *BLANK
     C                     MOVEL##PGM     ZAPGMQ
     C                     END
      * If no message file specified, use default
     C           ZAMSGF    IFEQ *BLANK
     C                     MOVELZADFMF    ZAMSGF
     C                     END
     C                     CALL 'Y2SNMGC'
     C                     PARM           ZAPGMQ 10        Program queue
     C                     PARM           ZAPGRL  5        Rel queue
     C                     PARM           ZAMSID  7        Message ID
     C                     PARM           ZAMSGF 10        Message file
     C                     PARM           ZAMSDA           Message data
     C                     PARM           ZAMSTP  7        Message type
      * Clear all fields for default mechanism next time
     C                     MOVEL*BLANK    ZAPGMQ
     C                     MOVEL*BLANK    ZAPGRL
     C                     MOVEL*BLANK    ZAMSID
     C                     MOVEL*BLANK    ZAMSGF
     C                     MOVEL*BLANK    ZAMSDA
     C                     MOVEL*BLANK    ZAMSTP
      *================================================================
     CSR         ZAEXIT    ENDSR
      /EJECT
     CSR         ZXEXPG    BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                     EXSR ZYEXPG
      *================================================================
     CSR         ZXEXIT    ENDSR
      /EJECT
     CSR         ZYEXPG    BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                     SETON                     LR
      *
      * Exit program
     C                     RETRN
      *
      *================================================================
     CSR         ZYEXIT    ENDSR
      /EJECT
     CSR         ZZINIT    BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C           W0ICL     IFEQ *BLANK
     C                     MOVEL'Y'       W0ICL   1        *Initial call
     C                     ELSE
     C                     MOVEL'N'       W0ICL
     C                     END
     C                     MOVE *BLANK    P0RTN
     C                     MOVE *BLANK    W0RTN   7
     C                     MOVEL*BLANK    W0RSL   1
     C                     MOVEL*BLANK    W0RSF   1
     C                     MOVEL*ZEROS    W0RTW   90
     C                     MOVEL'400'     W0ENV   3
      * Retrieve job attributes
     C                     CALL 'Y2RTJCR'
     C                     PARM           PGMDS
      * Setup job date/time
     C                     Z-ADD##SD7     ##JDT
     C                     TIME           ##JTM
      * Update screen time
     C                     TIME           ##TME   60
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WAAIC3           Company Number
     C                     Z-ADD*ZERO     WAABNX           ED Can. Import
     C                     Z-ADD*ZERO     WAACNX           ED Can. Import
     C                     Z-ADD*ZERO     WAADNX           ED Seaboard Pla
     C                     Z-ADD*ZERO     WAAHNX           ED Plant Contac
     C                     Z-ADD*ZERO     WAAINX           ED Nbr of prods
     C                     Z-ADD*ZERO     WAA7VL           ED Total Unit P
     C                     Z-ADD*ZERO     WAA8VL           ED Invoice Tota
     C                     Z-ADD*ZERO     WAMQDT           ED Export Certi
     C                     Z-ADD*ZERO     WAMRDT           ED Sail Date
     C                     Z-ADD*ZERO     WAMSDT           ED Sworn on Dat
     C                     Z-ADD*ZERO     WAAJNX           ED Consignee Ad
     C                     Z-ADD*ZERO     WAFDNZ           ED Unused Numbe
     C                     Z-ADD*ZERO     WABSDX           ED Unused Date
     C                     Z-ADD*ZERO     WAAATM           Job Time
     C                     Z-ADD*ZERO     WAAXDT           Job Date
      * Obtain default message file
     C           *NAMVAR   DEFN CAMGFLA   ZADFMF 10
     C                     IN   ZADFMF
     C                     MOVEL'N'       W0PMT   1
      *================================================================
     CSR         ZZEXIT    ENDSR
