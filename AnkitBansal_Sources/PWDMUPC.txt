/********************************************************************/
/*                                                                  */
/* Program . . : PWDMUPC                                            */
/* Date  . . . : 6/26/17                                            */
/* Programmer  : Brad Baden                                         */
/* Project . . : E9044                                              */
/* Description : This program will delete the 961 records created   */
/*               in a push.  Only records for a single day will     */
/*               be deleted.                                        */
/*                                                                  */
/********************************************************************/
/* Modification History                                             */
/*                                                                  */
/* xx/xx/xxxx xxx xxxxx - xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx */
/*                        xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx */
/*                                                                  */
/* 11/05/20   ISE H16853  RECOMPILED DUE TO CHANGE IN BUY           */
/*                        ORDER NUMBER                              */
/********************************************************************/
             PGM        PARM(&KILLDATE &TOLIBR)

             DCL        VAR(&KILLDATE) TYPE(*CHAR) LEN(7)
             DCL        VAR(&TOLIBR)   TYPE(*CHAR) LEN(10)
             DCL        VAR(&RMVLIB)   TYPE(*CHAR) LEN(1)
             DCL        VAR(&SQLSTMT)  TYPE(*CHAR) LEN(5000)

             CHGJOB     LOG(4 99 *SECLVL) LOGCLPGM(*YES)

             ADDLIBLE   LIB(&TOLIBR) POSITION(*FIRST)
             MONMSG     MSGID(CPF2110) EXEC(GOTO CMDLBL(ENDIT))
             MONMSG     MSGID(CPF2103) EXEC(CHGVAR VAR(&RMVLIB) +
                          VALUE('Y'))

                        /* Hog Voucher Detail */
             CHGVAR     VAR(&SQLSTMT) VALUE('DELETE +
                          PKAWCPP WHERE AWHMNB = +
                          961 and AWASDT = ' *CAT &KILLDATE)

             RUNSQL SQL(&SQLSTMT)

ENDIT:       ENDPGM
