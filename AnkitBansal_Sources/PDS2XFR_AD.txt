// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDS2XFR
// ?Date: 14.08.2025 Time: 03:36:02
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Tmp Del Item Bal Dtl  RT) TYPE(RTVOBJ) FILE(CAB1REP)           AC1544113;
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Warehouse Code is Cloverleaf Freezer
 IF DB1.Warehouse_Code = 'CF1';

 CASE;

 // IF DB1.Quantity on Hand - U/M1 is Equal to zero
 IF DB1.Quantity_on_Hand_UOM1 = *ZERO;

 EXECUTE FUNCTION(Val Prod Date Exist   RT) TYPE(RTVOBJ) FILE(PDL5CPP)           AC1544117;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Production_Date);
 PARAMETER(PAR.Record_Found_USR);
 {
  //?USER: Processing if Data record not found

  // PAR.Record Found USR = CND.Record Not Found
  PAR.Record_Found_USR = 'N';

  //?USER: Process Data record

  // PAR.Record Found USR = CND.Record Found
  PAR.Record_Found_USR = 'Y';

  QUIT;

 }

 CASE;

 // IF PAR.Record Found USR is Record Not Found
 IF PAR.Record_Found_USR = 'N';

 EXECUTE FUNCTION(Del Item Balance Dtl  DL) TYPE(DLTOBJ) FILE(CAB1REP)           AC1544111;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Production_Date);
 ENDIF;

 ENDIF;

 ENDIF;

}


