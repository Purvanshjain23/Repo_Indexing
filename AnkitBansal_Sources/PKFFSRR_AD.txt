// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKFFSRR
// ?Date: 14.08.2025 Time: 02:49:15
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

EXECUTE FUNCTION(Rtv Producer Name     RT) TYPE(RTVOBJ) FILE(PKACREP)           AB1101542;
PARAMETER(CTL.PD_Producer_Code);
PARAMETER(CTL.PD_Name);
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


EXECUTE FUNCTION(Rtv Pdctn Loc Name    RT) TYPE(RTVOBJ) FILE(PKAFREP)           AB1101543;
PARAMETER(CTL.PD_Producer_Code);
PARAMETER(CTL.PL_Location_Code);
PARAMETER(CTL.PL_Name);
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


//?USER: Load subfile record from DBF record

CASE;

// IF DB1.PD Producer Code EQ PAR.PD Producer Code
IF DB1.PD_Producer_Code = PAR.PD_Producer_Code;

// AND DB1.PL Location Code EQ PAR.PL Location Code
AND DB1.PL_Location_Code = PAR.PL_Location_Code;

// PGM.*Record selected = CND.*YES
PGM.*Record_selected = 'Y';

// IF *OTHERWISE
IF *OTHERWISE;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

