// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDPKSRR
// ?Date: 14.08.2025 Time: 03:29:17
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

// PAR.First Time Flag = CND.Yes
PAR.First_Time_Flag = 'Y';

//?USER: Load subfile record from DBF record

//?Company name, program desc
CASE;

// IF PAR.First Time Flag is Yes
IF PAR.First_Time_Flag = 'Y';

//?Program description
CASE;

// IF PAR.Billing Activity Type is Credit or Debit Memo
IF PAR.Billing_Activity_Type = '2'/'3';

// CTL.Description = Condition name of PAR.Billing Activity Type
CTL.Description = RTVCND(PAR.Billing_Activity_Type);

//?Program description
// IF *OTHERWISE
IF *OTHERWISE;

// CTL.Description = CON.*BLANK
CTL.Description = *BLANK;

ENDIF;

// PAR.First Time Flag = CND.NO
PAR.First_Time_Flag = 'N';

ENDIF;

//?Select only correct memo type(s)
CASE;

// IF PAR.Billing Activity Type EQ WRK.BLANK
IF PAR.Billing_Activity_Type = WRK.BLANK;

CASE;

// IF DB1.Billing Activity Type is Invoice/Transfer
IF DB1.Billing_Activity_Type = '1'/'4';

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

//?Select only correct memo type(s)
// IF *OTHERWISE
IF *OTHERWISE;

CASE;

// IF DB1.Billing Activity Type NE PAR.Billing Activity Type
IF DB1.Billing_Activity_Type <> PAR.Billing_Activity_Type;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

ENDIF;

