/***************************************************************** */
/*                                                                 */
/*  PROGRAM NUMBER:  PNKUUPR                                       */
/*  PROGRAM NAME:    RECAPTURE INVENTORY FROM MENU PROMPT       */
/*  PROGRAMMER:      ROSE CENTONZE                                 */
/*  CREATE DATE:     07/20/09                                      */
/*                                                                 */
/*  FUNCTION:        This CLP is submitted with an Execute Message */
/*                   from Build Production Schedule/Plan prompt.   */
/*                                                                 */
/*                   USER OPTIONS ARE PASSED THROUGH THE PARMS.    */
/*                                                                 */
/*******************************************************************/
/*  Modification History                                           */
/*******************************************************************/
PNKUUPR:     PGM        PARM(&RTN &XCOMP &WHSE &XDATE)

/* Print Options                                                   */
             DCL        VAR(&RTN) TYPE(*CHAR) LEN(7)
             DCL        VAR(&PDEV) TYPE(*CHAR) LEN(10) VALUE(QPRINT2)
             DCL        VAR(&HOLD) TYPE(*CHAR) LEN(4)
             DCL        VAR(&SAVE) TYPE(*CHAR) LEN(4)
             DCL        VAR(&COPIES) TYPE(*DEC) LEN(2) VALUE(1)
/* Function Specific                                               */
             DCL        VAR(&WHSE) TYPE(*CHAR) LEN(3)
             DCL        VAR(&XCOMP) TYPE(*CHAR) LEN(3)
             DCL        VAR(&COMP) TYPE(*DEC) LEN(3 0)
             DCL        VAR(&XDATE) TYPE(*CHAR) LEN(7)
             DCL        VAR(&DATE) TYPE(*DEC) LEN(7 0)

/* Function Specific                                               */
             CHGVAR     VAR(&HOLD) VALUE('*YES')
             CHGVAR     VAR(&SAVE) VALUE('*YES')
             CHGVAR     VAR(&COMP) VALUE(&XCOMP)
             CHGVAR     VAR(&DATE) VALUE(&XDATE)


/*  DELETE INVENTORY FOR SELECTED WAREHOUSE                  */

             CALL       PGM(PNKVXFR) PARM(' ' &COMP &WHSE)

/*  RECAPTURE INVENTORY FOR SELECTED WAREHOUSE                  */

  /*         SBDPRTOVR  CMDVAR(&COMMAND) FILE(PDBHPFR$) OUTQ(&PDEV) +
                          COPIES(&COPIES) HOLD(&HOLD) SAVE(&SAVE) +
             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)     */
             OVRPRTF    FILE(PDBHPFR$) OUTQ(&PDEV) COPIES(&COPIES) +
                          HOLD(&HOLD) SAVE(&SAVE)
             CALL       PGM(PDBHPFR) PARM(' ' &COMP &WHSE &DATE)

/*  UPDATE PDI8CPP INVENTORY ON HAND                            */

             CALL       PGM(PNJRXFR) PARM('' &COMP)


             ENDPGM
