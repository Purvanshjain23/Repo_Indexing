/*                                                                 */
/*  PROGRAM:       PWG5UPC                                         */
/*  PROGRAM NAME:  UPD DLV SCH EML CLRPFM CL EXECUTE USER PROGRAM  */
/*  PROGRAMMER:    Danny Nguyen                                    */
/*  CREATE DATE:   08/23/2018                                      */
/*                                                                 */
/*  FUNCTION:      This is a TEST function only.                   */
/*                 Run program to clear the email address for the  */
/*                 following files in TEST libraries only. This is */
/*                 done to prevent sending reports to Production   */
/*                 Users while in TEST env.                        */
/*                 Once files are cleared you may want to manually */
/*                 assign your test email address in the files that*/
/*                 you need.                                       */
/*                                                                 */
/*******************************************************************/
/*  Modification History                                           */
/*  1/10/2019 Add documentation. English Name of file              */
/*                                                                 */
/*******************************************************************/

             PGM        PARM(&TESTLIB)

             DCL        VAR(&TESTLIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&RTNLIB) TYPE(*CHAR) LEN(10)


    /* Validate TestLib Cannot be Production Library */
             IF         COND(&TESTLIB *EQ 'PRKFGUP' *OR &TESTLIB *EQ +
                          'PRKFSTP' *OR &TESTLIB *EQ 'PRKFTFP' *OR +
                          &TESTLIB *EQ 'PRKFLIB') THEN(DO)
             SNDPGMMSG  MSG('Cannot use a Production Library. Use a +
                          Test library.')
             GOTO       CMDLBL(END)
             ENDDO

    /* Validate All TestLib/File Exist */
             RTVOBJD    OBJ(&TESTLIB/PLAZREP) OBJTYPE(*FILE) +
                          RTNLIB(&RTNLIB)
             MONMSG     MSGID(CPF9801 CPF9810) EXEC(DO)
    /* Producer Email Hdr */
             SNDPGMMSG  MSG('PLAZREP file not found in test library.')
             GOTO       CMDLBL(END)
             ENDDO

             RTVOBJD    OBJ(&TESTLIB/PLA0REP) OBJTYPE(*FILE) +
                          RTNLIB(&RTNLIB)
             MONMSG     MSGID(CPF9801 CPF9810) EXEC(DO)
    /* Producer Loc Email Hdr    */
             SNDPGMMSG  MSG('PLA0REP file not found in test library.')
             GOTO       CMDLBL(END)
             ENDDO

             RTVOBJD    OBJ(&TESTLIB/PLA1REP) OBJTYPE(*FILE) +
                          RTNLIB(&RTNLIB)
             MONMSG     MSGID(CPF9801 CPF9810) EXEC(DO)
    /* Producer Email Detail           */
             SNDPGMMSG  MSG('PLA1REP file not found in test library.')
             GOTO       CMDLBL(END)
             ENDDO

             RTVOBJD    OBJ(&TESTLIB/PLA2REP) OBJTYPE(*FILE) +
                          RTNLIB(&RTNLIB)
             MONMSG     MSGID(CPF9801 CPF9810) EXEC(DO)
    /* Producer Loc Email Detail       */
             SNDPGMMSG  MSG('PLA2REP file not found in test library.')
             GOTO       CMDLBL(END)
             ENDDO

             RTVOBJD    OBJ(&TESTLIB/PVCRREP) OBJTYPE(*FILE) +
                          RTNLIB(&RTNLIB)
             MONMSG     MSGID(CPF9801 CPF9810) EXEC(DO)
    /* Producer Distribution Ent       */
             SNDPGMMSG  MSG('PVCRREP file not found in test library.')
             GOTO       CMDLBL(END)
             ENDDO

    /* Clear all Files in TEST Library */
             CLRPFM     FILE(&TESTLIB/PLAZREP)  /* Producer Email Hdr */
             CLRPFM     FILE(&TESTLIB/PLA0REP)  /* Producer Loc Email Hdr */
             CLRPFM     FILE(&TESTLIB/PLA1REP)  /* Producer Email Detail */
             CLRPFM     FILE(&TESTLIB/PLA2REP)  /* Producer Loc Email Detail */
             CLRPFM     FILE(&TESTLIB/PVCRREP)  /* Producer Distribution Ent */


  END:       ENDPGM
