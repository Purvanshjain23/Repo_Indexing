/********************************************************************/
/*                                                                  */
/*  SYNOPSIS -  JOB CONTROL PROMPT FOR PRINTER OVERRIDE INFORMATION */
/*              AND PRINT OVERRIDES.  ALSO PASSED ARE CUSTOMER      */
/*              NUMBER AND COMPANY NUMBER (OR ALL)                  */
/*                                                                  */
/*  COMPANY   - DATAWRIGHT INC.                                     */
/*  SYSTEM    - IDEAS/400 ACCOUNTS RECEIVABLE                       */
/*  PROGRAM   - SYSTEM CONTROL SELECTIONS                           */
/*  USER NAME - DEBBIE HAMNING                                      */
/*  DATE      - 03/19/90                                            */
/*  COPYRIGHT 1990 DATAWRIGHT INC.                                  */
/*                                                                  */
/*      PARAMETERS RECEIVED:                                        */
/*                                                                  */
/*          &CUST       - CUSTOMER NUMBER                           */
/*          &COMP       - COMPANY NUMBER                            */
/*          &OUTQ       - OUTPUT QUEUE                              */
/*          &COPIES     - NUMBER OF COPIES (ALPHA)                  */
/*          &FORMS      - FORMS TYPE                                */
/*                                                                  */
/********************************************************************/

 ARJWUPR:    PGM        PARM(&CUST &COMP &FORMS &COPY &OUTQ)
        DCL    &OUTQ       *CHAR   (10)          /* output queue              */
        DCL    &COPY       *DEC    (3 0)         /* no. of copies             */
        DCL    &COPYL      *DEC                  /* no. of copies for passing */
        DCL    &FORMS      *CHAR   (10)          /* forms type                */
        DCL    &COMP       *DEC    (3 0)         /* Company Number            */
        DCL    &COMPL      *DEC                  /* Company No. for passing   */
        DCL    &CUST       *DEC    (7 0)         /* Customer Number           */
        DCL    &CUSTL      *DEC                  /* Cust No. for passing      */
        DCL    &PGM        *CHAR   (10)          /* program name              */
        DCL    &RETURN     *CHAR   (7)           /* return code               */
        DCL    &MSG        *CHAR   (512)         /* message                   */
        DCL    &MSGID      *CHAR   (7)           /* message id                */
        DCL    &MSGL       *DEC    (5 0)


/********************************************************************/
/*   MONITOR FOR ALL MESSAGES AT PROGRAM LEVEL                      */
/********************************************************************/

             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(MSGTRAP))

/********************************************************************/
/*   CHANGE VARIABLES FOR PASSING TO PRINT PROGRAM                  */
/********************************************************************/

             CHGVAR     VAR(&PGM)     VALUE(ARJVPFR)
             CHGVAR     VAR(&COMPL)   VALUE(&COMP) /* Change for +
                          passing */
             CHGVAR     VAR(&CUSTL) VALUE(&CUST) /* Change for  +
                          passing */
             CHGVAR     VAR(&COPYL) VALUE(&COPY) /* Change for +
                          passing */

             SBMJOB     CMD(CALL PGM(ARJVPCLP) PARM(&CUSTL &COMPL +
                          &OUTQ &FORMS &COPYL &PGM))  JOB(&PGM)
             GOTO       CMDLBL(END)

/*----------------------RECEIVE MESSAGES----------------------------*/

 MSGTRAP:    RCVMSG     MSGTYPE(*EXCP) MSGDTA(&MSG) MSGDTALEN(&MSGL) +
                          MSGID(&MSGID)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(END))

             SNDPGMMSG  MSGID(&MSGID) MSGF(QCPFMSG) MSGDTA(%SST(&MSG +
                          1 &MSGL)) MSGTYPE(*ESCAPE)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(END))

 END:        ENDPGM

