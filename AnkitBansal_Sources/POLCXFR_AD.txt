// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for POLCXFR
// ?Date: 14.08.2025 Time: 03:37:55
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?SPECIAL REQUEST TO RUN IN TEST WITH DIFFERENT CUST ABS FREIGHT RATES **
EXECUTE FUNCTION(TST Recalc Abs Frt    RT) TYPE(RTVOBJ) FILE(OMHSTPP)           AC1625100;
PARAMETER(360);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(RTV Abs Freight Rate   RT) TYPE(RTVOBJ) FILE(CAEOREP)          AC1391554;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Ship_To_Customer);
 PARAMETER(LCL.Absorbed_Freight_Rate_CWT);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 // LCL.Absorbed Freight Amount =       *
 LCL.Absorbed_Freight_Amount = LCL.Absorbed_Freight_Rate_CWT * ( DB1.Weight_Billed / 100 );

 EXECUTE FUNCTION(CHG Absorbed Frt Rt/Am CH) TYPE(CHGOBJ) FILE(OMHSTPP)          AC1625101;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(LCL.Absorbed_Freight_Rate_CWT);
 PARAMETER(LCL.Absorbed_Freight_Amount);
 {
  //?USER: Processing after Data read

  // DB1.Data Mart Process Sts = CND.no
  DB1.Data_Mart_Process_Sts = 'N';

  // DB1.Process Sts for 3C = CND.No
  DB1.Process_Sts_for_3C = 'N';

 }

}


