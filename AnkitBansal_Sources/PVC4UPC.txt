/**************************************************************************/
/*  PROGRAM:       PVC4UPC                                                */
/*  PROGRAM DESC:  UPDATE PPA_COMPANY_ITEM TABLE.                         */
/*  PROGRAMMER:    DANNY NGUYEN                                           */
/*  CREATE DATE:   01/26/2024                                             */
/*  PROJECT:       SR# 3009080 - SYNC LEGACY COMPANY_ITEM TO              */
/*                   PPA_COMPANY_ITEM                                     */
/*                 PROJECT CM = SR09080                                   */
/*                                                                        */
/*  PURPOSE:       WILL INSERT RECORDS DIRECTLY INTO                      */
/*                 PRKFLIB.PPA_COMPANY_ITEM                               */
/*                                                                        */
/* -----------------------------------------------------------------------*/
/*  PARMS:                                                                */
/*                 N/A                                                    */
/**************************************************************************/
/* MODIFICATION HISTORY                                                   */
/**************************************************************************/
/* DATE     INT  PROJECT DESCRIPTION                                      */
/* -------- ---- ------- -------------------------------------------------*/
/*                                                                        */
/*                                                                        */
/**************************************************************************/

             PGM

             DCL        VAR(&DATA) TYPE(*CHAR) LEN(10)  /* DATA FILE LIB */
             DCL        VAR(&DATAH) TYPE(*CHAR) LEN(10) /* DATA FILE HIST LIB */
             DCL        VAR(&RETURN) TYPE(*CHAR) LEN(7)


/********************************************************************/
/* Retrieve Data Library name (&DATA). PROD OR TEST ENV?            */
/********************************************************************/

             CALL       PGM(CAQXXFR) PARM(&RETURN &DATA &DATAH)

/* REMOVE/ADD DATA LIBRARY FOR SPECIFIED ENVIRONMENT */
             RMVLIBLE   LIB(&DATA)
             MONMSG     MSGID(CPF0000)
             ADDLIBLE   LIB(&DATA) POSITION(*FIRST)
             MONMSG     MSGID(CPF0000)

             IF         COND(&DATA *NE 'PRKFLIB') THEN(DO)
             /* DO NOTHING */
             ENDDO
             IF         COND(&DATA *EQ 'PRKFLIB') THEN(DO)
             RUNSQLSTM  SRCFILE(PRKSYNSRC/QSQLSRC) SRCMBR(PVASREPUPD)
             ENDDO


 END:        ENDPGM
