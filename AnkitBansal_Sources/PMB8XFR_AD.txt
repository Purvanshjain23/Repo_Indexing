// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMB8XFR
// ?Date: 14.08.2025 Time: 03:44:43
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modification history
DO;

//?10/10/2018 Chg to process faster by warehouse/position by schshipdte
//?8/4/2009 slm Adjustment to use the production warehouse
//?FP1054 Project Requirement -- Use Production Warehouse
//?instead of warehoue
//?when build and print of the load schedule reports.
//?********************************************************************
//?slm 2/2009 installed into production
//?**********
//?***** RESTRICT BY COMPANY to build the WF Item Balance
//?This could also be selected by Warehouse and/or Item
//?selection on the warehouse or item will be done inside
//?the RETRIEVE
//?Build the key file with fields from order detail, order hdr, load hdr
//?Create the Load Schdlng Pstn Key
//?**********
ENDDO;

//?FP1054 - Change to use the production warehouse on the order detail
//?Warehouse from the par list is the production warehouse
//?Load Schdlng Pstn Key
//?**
//?This processing is by order company and order warehouse
//?and will build the db based on that
//?there is a new function that will read the data base
//?and process the whole db together to complete the load
//?**
//?rmc/slm 10/10/2018 change key by Warehouse and position on ship
//?     date  - for the order detail
// Call program Rtv InternaPWhsf/pstnWFXP.
CALL PROGRAM(Rtv InternaPWhsf/pstnWFXP) ('PNK7XFR');
PARAMETER(PAR.PRP_Warehouse_Code);
PARAMETER(PAR.PRP_From_Date);
PARAMETER(PAR.PRP_To_Date);
PARAMETER(PAR.LSP_Accounting_Co);
PARAMETER(PAR.LSP_Prodution_Warehouse);

//?Build the WF Item Balance Wk file from the Item Balance
//?get the on hand   -   WF Item Position Balance
//?**
// Call program Rtv/Crt WFItemBalPs   XF.
CALL PROGRAM(Rtv/Crt WFItemBalPs   XF) ('PMCLXFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.PRP_Warehouse_Code);
PARAMETER(PAR.PRP_From_Date);
PARAMETER(PAR.PRP_To_Date);
PARAMETER(PAR.LSP_Accounting_Co);
PARAMETER(PAR.LSP_Prodution_Warehouse);

//?Pick information will be retrieve from the PFS Inventory Adjustment
//?and update the pick in the Load Schd Postn Key file
//?and update the pick in the WF Item Position Balance
//?Create the WF Item Balance Position work file if not found
//?when processing the pick
//?RMC 10/10/2018 Read Load sch position key and then the
//?pfs inventory adjustment
// Call program Rtv Picked to WF&LdP  XF.
CALL PROGRAM(Rtv Picked to WF&LdP  XF) ('PMCQXFR');
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.PRP_Warehouse_Code);
PARAMETER(PAR.PRP_From_Date);
PARAMETER(PAR.PRP_To_Date);
PARAMETER(PAR.LSP_Accounting_Co);
PARAMETER(PAR.LSP_Prodution_Warehouse);

