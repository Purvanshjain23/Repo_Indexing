     H/TITLE Exc Crt Annual Compl  XF  Execute external functio
     H            Y
     Z* CRTRPGPGM
     Z* CVTOPT(*DATETIME)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by CA 2E release 8.5 (1351)
     H* Function type : Execute external function
      *
     H* Company       : OMS Development Model
     H* System        : OMS Development Model
     H* User name     : ISRCENT
     H* Date          : 09/29/10  Time  : 09:08:53
     H* Copyright     : OMS Development Model
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FPMCAREL1IF  E           K        DISK
      * RTV : COA Property Define Hdr   Retrieval index
      *
     FPMCCCPL4IF  E           K        DISK
      * RSQ : COA Batch Header          Comp/Prod Date/Batch
      *
     FPMDACPL6IF  E           K        DISK
      * RSQ : COA Batch Header RIN      Co/TransDt/Batch
      *
     FPMDOCPL2IF  E           K        DISK
      * RSQ : RFS Annual Compliance Rpt RptId/Year
      *
     FPMDOCPL0IF  E           K        DISK                      A
      * UPD : RFS Annual Compliance Rpt Update index
      *
      * Long constants
     E                    @CN#    1  02  6   @CN    25
     I@CAREOB
      * COA Property Define Hdr   Retrieval index
      * Renamed input format fields
     I              CAAIC3                          WAAIC3
     I              CAIDAA                          WAIDAA
     I              CAR2NA                          WAR2NA
     I              CAL2T1                          WAL2T1
     I              CAL3T1                          WAL3T1
     I              CAL4T1                          WAL4T1
     I              CAL5T1                          WAL5T1
     I              CAL6T1                          WAL6T1
     I              CAL7T1                          WAL7T1
     I              CAL8T1                          WAL8T1
     I              CAL9T1                          WAL9T1
     I              CAMAT1                          WAMAT1
     I              CAJCNY                          WAJCNY
     I              CAJDNY                          WAJDNY
     I              CAJENY                          WAJENY
     I              CAJFNY                          WAJFNY
     I              CAGMPC                          WAGMPC
     I              CAMBT1                          WAMBT1
     I              CAIEAA                          WAIEAA
     I              CAIFAA                          WAIFAA
     I              CAIGAA                          WAIGAA
     I              CAIHAA                          WAIHAA
     I              CAIIAA                          WAIIAA
     I              CAIJAA                          WAIJAA
     I              CAJQNY                          WAJQNY
     I              CALXST                          WALXST
     I              CAJRNY                          WAJRNY
     I              CALYST                          WALYST
     I              CAIMTX                          WAIMTX
     I              CAFEDS                          WAFEDS
     I              CAIBAA                          WAIBAA
     I              CAI1NY                          WAI1NY
     I              CAHCTU                          WAHCTU
     I              CAMCT1                          WAMCT1
     I              CAVSST                          WAVSST
     I              CAMJDT                          WAMJDT
     I              CABETM                          WABETM
     I              CACCVN                          WACCVN
     I              CACDVN                          WACDVN
     I              CAMKDT                          WAMKDT
     I              CABFTM                          WABFTM
     I              CACEVN                          WACEVN
     I              CACFVN                          WACFVN
      *
     I@CCCPSC
      * COA Batch Header          Comp/Prod Date/Batch
      * Renamed input format fields
     I              CCAIC3                          WBAIC3
     I              CCL6T1                          WBL6T1
     I              CCI3NY                          WBI3NY
     I              CCIKAA                          WBIKAA
     I              CCIDAA                          WBIDAA
     I              CCRFDT                          WBRFDT
     I              CCC2TM                          WBC2TM
     I              CCMHT1                          WBMHT1
     I              CCRGDT                          WBRGDT
     I              CCC3TM                          WBC3TM
     I              CCMKT1                          WBMKT1
     I              CCJHNY                          WBJHNY
     I              CCR1NA                          WBR1NA
     I              CCRHDT                          WBRHDT
     I              CCC4TM                          WBC4TM
     I              CCMIT1                          WBMIT1
     I              CCMJT1                          WBMJT1
     I              CCHXTX                          WBHXTX
     I              CCHJTX                          WBHJTX
     I              CCHYTX                          WBHYTX
     I              CCJENY                          WBJENY
     I              CCJVNY                          WBJVNY
     I              CCJWNY                          WBJWNY
     I              CCIMTX                          WBIMTX
     I              CCFEDS                          WBFEDS
     I              CCMTT1                          WBMTT1
     I              CCJXNY                          WBJXNY
     I              CCJ1NY                          WBJ1NY
     I              CCJCNY                          WBJCNY
     I              CCJDNY                          WBJDNY
     I              CCJ3NY                          WBJ3NY
     I              CCRLDT                          WBRLDT
     I              CCMSAA                          WBMSAA
     I              CCMTAA                          WBMTAA
     I              CCMUAA                          WBMUAA
     I              CCL8T1                          WBL8T1
     I              CCR0NY                          WBR0NY
     I              CCL7T1                          WBL7T1
     I              CCJQST                          WBJQST
     I              CCWUT1                          WBWUT1
     I              CCWVT1                          WBWVT1
     I              CCJZST                          WBJZST
     I              CCJ0ST                          WBJ0ST
     I              CCTTDT                          WBTTDT
     I              CCDRTM                          WBDRTM
     I              CCWYT1                          WBWYT1
     I              CCJUST                          WBJUST
     I              CCR4NY                          WBR4NY
     I              CCMZAA                          WBMZAA
     I              CCTUDT                          WBTUDT
     I              CCDSTM                          WBDSTM
     I              CCWZT1                          WBWZT1
     I              CCM0AA                          WBM0AA
     I              CCSANY                          WBSANY
     I              CCKJST                          WBKJST
     I              CCKKST                          WBKKST
     I              CCGZPC                          WBGZPC
     I              CCW2T1                          WBW2T1
     I              CCM1AA                          WBM1AA
     I              CCSBNY                          WBSBNY
     I              CCKLST                          WBKLST
     I              CCKPST                          WBKPST
     I              CCG0PC                          WBG0PC
     I              CCW3T1                          WBW3T1
     I              CCM2AA                          WBM2AA
     I              CCSCNY                          WBSCNY
     I              CCKQST                          WBKQST
     I              CCKRST                          WBKRST
     I              CCG1PC                          WBG1PC
     I              CCW4T1                          WBW4T1
     I              CCVSST                          WBVSST
     I              CCMJDT                          WBMJDT
     I              CCBETM                          WBBETM
     I              CCCCVN                          WBCCVN
     I              CCCDVN                          WBCDVN
     I              CCMKDT                          WBMKDT
     I              CCBFTM                          WBBFTM
     I              CCCEVN                          WBCEVN
     I              CCCFVN                          WBCFVN
      *
     I@DACPSG
      * COA Batch Header RIN      Co/TransDt/Batch
      * Renamed input format fields
     I              DAAIC3                          WCAIC3
     I              DAL6T1                          WCL6T1
     I              DAI3NY                          WCI3NY
     I              DAJYNY                          WCJYNY
     I              DAQ1NY                          WCQ1NY
     I              DAMUT1                          WCMUT1
     I              DAJZNY                          WCJZNY
     I              DAJ0NY                          WCJ0NY
     I              DAJ2NY                          WCJ2NY
     I              DARIDT                          WCRIDT
     I              DAC5TM                          WCC5TM
     I              DAMVT1                          WCMVT1
     I              DAMWT1                          WCMWT1
     I              DARINT                          WCRINT
     I              DARJDT                          WCRJDT
     I              DAC6TM                          WCC6TM
     I              DAC4NB                          WCC4NB
     I              DADPNB                          WCDPNB
     I              DAUENB                          WCUENB
     I              DARZNB                          WCRZNB
     I              DANGT1                          WCNGT1
     I              DARMNB                          WCRMNB
     I              DARKDT                          WCRKDT
     I              DAC7TM                          WCC7TM
     I              DARINS                          WCRINS
     I              DAMXT1                          WCMXT1
     I              DAG3ST                          WCG3ST
     I              DAQWNY                          WCQWNY
     I              DAL0AA                          WCL0AA
     I              DAMAT1                          WCMAT1
     I              DATDNA                          WCTDNA
     I              DACWC3                          WCCWC3
     I              DAQXNY                          WCQXNY
     I              DAQZNY                          WCQZNY
     I              DAQ0NY                          WCQ0NY
     I              DALVTX                          WCLVTX
     I              DANYT1                          WCNYT1
     I              DAG5ST                          WCG5ST
     I              DAG7ST                          WCG7ST
     I              DATFDT                          WCTFDT
     I              DATGDT                          WCTGDT
     I              DAWIT1                          WCWIT1
     I              DAQYNY                          WCQYNY
     I              DAL7T1                          WCL7T1
     I              DAR8NY                          WCR8NY
     I              DAR0NY                          WCR0NY
     I              DAI7AA                          WCI7AA
     I              DAMXAA                          WCMXAA
     I              DAMSAA                          WCMSAA
     I              DAR7NY                          WCR7NY
     I              DAHEPR                          WCHEPR
     I              DAHFPR                          WCHFPR
     I              DAWVT1                          WCWVT1
     I              DAW0T1                          WCW0T1
     I              DAR5NY                          WCR5NY
     I              DAW1T1                          WCW1T1
     I              DAR6NY                          WCR6NY
     I              DAJ1ST                          WCJ1ST
     I              DAKHST                          WCKHST
     I              DATWDT                          WCTWDT
     I              DADUTM                          WCDUTM
     I              DAKGST                          WCKGST
     I              DATVDT                          WCTVDT
     I              DADTTM                          WCDTTM
     I              DAR9NY                          WCR9NY
     I              DASQNY                          WCSQNY
     I              DABHR3                          WCBHR3
     I              DASRNY                          WCSRNY
     I              DAW7T1                          WCW7T1
     I              DAW8T1                          WCW8T1
     I              DAT2DT                          WCT2DT
     I              DASXNY                          WCSXNY
     I              DASYNY                          WCSYNY
     I              DASZNY                          WCSZNY
     I              DAVSST                          WCVSST
     I              DAMJDT                          WCMJDT
     I              DABETM                          WCBETM
     I              DACCVN                          WCCCVN
     I              DACDVN                          WCCDVN
     I              DAMKDT                          WCMKDT
     I              DABFTM                          WCBFTM
     I              DACEVN                          WCCEVN
     I              DACFVN                          WCCFVN
      *
     I@DOCPSL
      * RFS Annual Compliance Rpt RptId/Year
      * Renamed input format fields
     I              DONWT1                          WDNWT1
     I              DOLTTX                          WDLTTX
     I              DOLUTX                          WDLUTX
     I              DONXT1                          WDNXT1
     I              DONYT1                          WDNYT1
     I              DOI4AA                          WDI4AA
     I              DONZT1                          WDNZT1
     I              DOI5AA                          WDI5AA
     I              DOKWNY                          WDKWNY
     I              DOGSPC                          WDGSPC
     I              DOKXNY                          WDKXNY
     I              DOKYNY                          WDKYNY
     I              DOKZNY                          WDKZNY
     I              DOK0NY                          WDK0NY
     I              DOK1NY                          WDK1NY
      *
     I@DOCPRZ
      * RFS Annual Compliance Rpt Update index
      * Renamed input format fields
     I              DONWT1                          WENWT1
     I              DOLTTX                          WELTTX
     I              DOLUTX                          WELUTX
     I              DONXT1                          WENXT1
     I              DONYT1                          WENYT1
     I              DOI4AA                          WEI4AA
     I              DONZT1                          WENZT1
     I              DOI5AA                          WEI5AA
     I              DOKWNY                          WEKWNY
     I              DOGSPC                          WEGSPC
     I              DOKXNY                          WEKXNY
     I              DOKYNY                          WEKYNY
     I              DOKZNY                          WEKZNY
     I              DOK0NY                          WEK0NY
     I              DOK1NY                          WEK1NY
      *
      /EJECT
      * Data structures:
     IPGMDS     ESDSY2PGDSP
      * Modified Program data structure
     IJBDTTM      DS
      * Job date/time
     I                                        1   70##JDT
     I                                        1   10##JCC
     I                                        2   30##JYY
     I                                        4   50##JMM
     I                                        6   70##JDD
     I                                        8  130##JTM
     I                                        8   90##JHH
     I                                       10  110##JNN
     I                                       12  130##JSS
      /EJECT
     IXDINT       DS
      * Internal date
     I                                        1   70XDINDT
     I                                        1   30XDINYY
     I                                        4   50XDINMM
     I                                        6   70XDINDD
     IQPMDO1    E DSPMDOCPL0
      * UPD : RFS Annual Compliance Rpt Update index
      * Renamed input format fields
     I              DONWT1                          WENWT1
     I              DOLTTX                          WELTTX
     I              DOLUTX                          WELUTX
     I              DONXT1                          WENXT1
     I              DONYT1                          WENYT1
     I              DOI4AA                          WEI4AA
     I              DONZT1                          WENZT1
     I              DOI5AA                          WEI5AA
     I              DOKWNY                          WEKWNY
     I              DOGSPC                          WEGSPC
     I              DOKXNY                          WEKXNY
     I              DOKYNY                          WEKYNY
     I              DOKZNY                          WEKZNY
     I              DOK0NY                          WEK0NY
     I              DOK1NY                          WEK1NY
      *
      /EJECT
      * Parameter declarations
     IP1PARM      DS
      * I :  Company Number
     I                                    P   1   20P1AIC3
     IP2PARM      DS
      * FLD: RFS Annual Compliance Rpt
      * N :  RFS Report Form ID
     I                                        1   7 P2NWT1
      * I :  RFS Report Type
     I                                        8   8 P2LTTX
      * N :  RFS CBI
     I                                        9   9 P2LUTX
      * N :  RFS Report Date
     I                                       10  19 P2NXT1
      * I :  RFS Report Year
     I                                       20  23 P2NYT1
      * N :  RFS Gas Prd/fuel Exp Vol
     I                                    P  24  300P2KWNY
      * I :  RFS Renew Fuel Std Pct
     I                                    P  31  332P2GSPC
      * N :  RFS Renew Vol Oblgtn-RVO
     I                                    P  34  400P2KXNY
      * N :  RFS Prior Yr Deficit RVO
     I                                    P  41  470P2KYNY
      * N :  RFS Cur RFS1 RINS Own Str
     I                                    P  48  540P2KZNY
      * N :  RFS Prior Yr Gal RINS Nb
     I                                    P  55  610P2K0NY
      * N :  RFS Deficit RVO f/Nxt Yr
     I                                    P  62  680P2K1NY
     IP3PARM      DS
      * N :  Date From             USR
     I                                    P   1   40P3JEDT
     IP4PARM      DS
      * N :  Date To               USR
     I                                    P   1   40P4JFDT
     I            DS
     I                                        1 132 ZAMSDA
      /EJECT
      *****************************************************************
      * Entry parameters
     C           *ENTRY    PLIST
     C                     PARM           P0RTN   7
     C           P1AIC3    PARM           WP0001  30       Company Number
     C           P2LTTX    PARM           WP0002  1        RFS Report Type
     C           P2NYT1    PARM           WP0003  4        RFS Report Year
     C           P2GSPC    PARM           WP0004  52       RFS Renew Fuel
      *****************************************************************
      * Initialize
     C                     EXSR ZZINIT
      *
      * Exc Crt Annual Compl  XF
      * F1110 - EPA Annual Reporting -- Report RFS0300
      *      RFS Annual Compliance Rpt - send annually to the EPA
      * Due Feb 28 for the previous year's activity
      * Set field values that wont change per batch:
     C                     MOVEL@CN,001   P2NWT1           RFS Report Form
     C                     MOVEL'N'       P2LUTX           RFS CBI
      * Format report date: MM/DD/YYYY
      *
     C                     MOVEL*BLANK    WN0001  7        Date 7A
      *
      * Clc Fmt Dt MM/DD/YYYY IF
      * Format input date as : MM/DD/YYYY
     C                     MOVEL*BLANK    WN0001           Date 7A
     C                     MOVEL##JDT     WN0001           Date 7A
     C                     Z-ADD2         YRSW00
     C                     Z-ADD4         ZQ      50
     C           YRSW00    IFLT 1
     C           ZQ        ORLT 1
     C           YRSW00    ORGT 00007
     C           ZQ        ORGT 00007
     C                     MOVEL'Y2U0510' W0RTN
     C                     ELSE
     C           YRSW00    SUBSTWN0001:ZQ WUT5TX    P  90  Month (Char) US
     C   90                MOVEL'Y2U0510' W0RTN
     C                     END
     C                     Z-ADD2         YRSW00
     C                     Z-ADD6         ZQ      50
     C           YRSW00    IFLT 1
     C           ZQ        ORLT 1
     C           YRSW00    ORGT 00007
     C           ZQ        ORGT 00007
     C                     MOVEL'Y2U0510' W0RTN
     C                     ELSE
     C           YRSW00    SUBSTWN0001:ZQ WUT8TX    P  90  Day (Alpha) USR
     C   90                MOVEL'Y2U0510' W0RTN
     C                     END
      * WRK.Year Code = PAR.Date In *YEAR
     C           ##JDT     ADD  1000000   XDINDT
     C           1800      ADD  XDINYY    WUAYNX
     C                     MOVELWUAYNX    WUNYTX           Year USR
     C                     Z-ADD*ZERO     ZQ      50
     C           WUT5TX    CAT  '/':ZQ    WUN0TX    P      Month MM/  3A
     C                     Z-ADD*ZERO     ZQ      50
     C           WUT8TX    CAT  '/':ZQ    WUN1TX    P      Day DD/  3A
     C                     Z-ADD*ZERO     ZQ      50
     C           WUN0TX    CAT  WUN1TX:ZQ WUN2TX    P      Month/Day MM/DD
     C                     Z-ADD*ZERO     ZQ      50
     C           WUN2TX    CAT  WUNYTX:ZQ P2NXT1    P      MMDDYYYY Usr
     C                     Z-ADD2         YRSW00
     C                     Z-ADD3         ZQ      50
     C           YRSW00    IFLT 1
     C           ZQ        ORLT 1
     C           YRSW00    ORGT 00004
     C           ZQ        ORGT 00004
     C                     MOVEL'Y2U0510' W0RTN
     C                     ELSE
     C           YRSW00    SUBSTP2NYT1:ZQ WUUATX    P  90  Year Alpha (YY)
     C   90                MOVEL'Y2U0510' W0RTN
     C                     END
     C                     Z-ADD*ZERO     ZQ      50
     C           '1'       CAT  WUUATX:ZQ WUMLT1    P      Text 3 Length U
     C                     Z-ADD*ZERO     ZQ      50
     C           WUMLT1    CAT  '0101':ZQ WUV5CD    P      Date From Alpha
     C                     Z-ADD*ZERO     ZQ      50
     C           WUMLT1    CAT  '1231':ZQ WUV6CD    P      Date To Alpha
     C                     MOVE WUV5CD    P3JEDT           Date From
     C                     MOVE WUV6CD    P4JFDT           Date To
      * Get Company Info:
      * RTV for RFS EPA Rpts  RT - COA Property Define Hdr  * 
     C                     EXSR SARVGN
      * Calc RVO: Renewable Volume Obligation= n.nn% of annual volume
      *   Will change every year -- so make this a parm.
      *   2008 = 7.76% of annual volume
      *   2009 = 10.21% of annual volume
      * RTV RFS Annual Compl  RT - COA Batch Header  * 
     C                     EXSR SBRVGN
      * compute:rvo
      * PAR.RFS Renew Vol Oblgtn-RVO =
      *    *COMPUTE (x1 * (x2/x3))
      * x1    : PAR.RFS Renew Vol Oblgtn-RVO
      * *     : PGM.*Synon (17,7) work field *
      * x2    : PAR.RFS Renew Fuel Std Pct
      * /     : PGM.*Synon (17,7) work field *
      * x3    : CON.100
     C           P2GSPC    DIV  100       W0WD01           *Synon (17,7) w
     C           P2KXNY    MULT W0WD01    W0WD00           *Synon (17,7) w
     C                     Z-ADDW0WD00    P2KXNY           RFS Renew Vol O
      * Accum Number of gal-RINs sold and retired for the period:
     C                     MOVEL'1'       YL0014           RFS RIN Status
      * Rtv RFS Activity Rpt  RT - COA Batch Header RIN  * 
     C                     EXSR SCRVGN
     C           YL0016    ADD  YL0017    P2KZNY           RFS Cur RFS1 RI
      * Get Prior Year deficit for this yr & prior yr gal-RINS used
     C                     MOVE P2NYT1    WUAYNX           Year Code
     C                     SUB  1         WUAYNX           Year Code
     C                     MOVELWUNYT1    WUNYTX           Year USR
      * Rtv Prior Yr RVO Dfct RT - RFS Annual Compliance Rpt  * 
     C                     EXSR SDRVGN
      * ?? Was any fuel made last yr sold as gal-RINS this yr?
      * Calc this year deficit RVO to carry to next yr:
      * Compute: deficit RVO
      * PAR.RFS Deficit RVO f/Nxt Yr =
      *    *COMPUTE (x1 - x2 + x3)
      * x1    : PAR.RFS Renew Vol Oblgtn-RVO
      * -     : PGM.*Synon (15,0) work field
      * x2    : PAR.RFS Cur RFS1 RINS Own Str
      * +     : PGM.*Synon (17,7) work field
      * x3    : PAR.RFS Prior Yr Gal RINS Nb
     C           P2KXNY    SUB  P2KZNY    W0WJ01           *Synon (15,0) w
     C           W0WJ01    ADD  P2K0NY    W0WD00           *Synon (17,7) w
     C                     Z-ADDW0WD00    P2K1NY           RFS Deficit RVO
      * Create the record
      * Crt RFS Annual Compl  CR - RFS Annual Compliance Rpt  * 
     C                     EXSR SECRRC
      *----------------------------------------------------------------
      * Exit program
     C           AAEXIT    TAG
     C                     MOVEL*BLANK    P0RTN
     C                     EXSR ZYEXPG
      *================================================================
      /EJECT
     CSR         SARVGN    BEGSR
      *================================================================
      * RTV for RFS EPA Rpts  RT - COA Property Define Hdr  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * USER: Initialize routine
      * PAR = CON By name
     C                     MOVEL*BLANK    YL0001           COA Bio-dsl Fue
     C                     MOVEL*BLANK    YL0002           COA Producer Re
     C                     MOVEL*BLANK    YL0003           COA Employer ID
     C                     MOVEL*BLANK    YL0004           COA Sold From N
     C                     MOVEL*BLANK    YL0005           COA ULSD Compan
     C                     MOVEL*BLANK    YL0006           COA ULSD Facili
     C                     MOVEL*BLANK    YL0007           COA RIN Equival
     C                     MOVEL*BLANK    YL0008           COA RIN Renewab
     C                     MOVEL*BLANK    YL0009           COA RIN Type Fl
     C                     Z-ADD*ZERO     YL0010           COA Density Loa
     C                     Z-ADD*ZERO     YL0011           COA BOL Percent
     C                     MOVEL*BLANK    YL0012           COA RFS Renew F
     C                     MOVEL*BLANK    YL0013           COA RFS Rnwbl F
      * Define keylist
     C           KRSSA     KLIST
     C                     KFLD           WAAIC3           Company Number
     C                     KFLD           WAIDAA           COA Bio-diesel
      * Setup key
     C                     Z-ADDP1AIC3    WAAIC3           Company Number
     C                     MOVE *BLANK    WAIDAA           COA Bio-diesel
     C                     MOVEL'B100'    WAIDAA           COA Bio-diesel
      * Establish starting position
     C           KRSSA     CHAIN@CAREOB              90    *
      * Data record not found
     C   90                MOVEL'USR3799' W0RTN   7
     C           *IN90     IFEQ '0'
      * USER: Process Data record
      * PAR = DB1 By name
     C                     MOVELWAR2NA    YL0001           COA Bio-dsl Fue
     C                     MOVELWAL2T1    YL0002           COA Producer Re
     C                     MOVELWAL3T1    YL0003           COA Employer ID
     C                     MOVELWAL5T1    YL0004           COA Sold From N
     C                     MOVELWAL6T1    YL0005           COA ULSD Compan
     C                     MOVELWAL7T1    YL0006           COA ULSD Facili
     C                     MOVELWAL8T1    YL0007           COA RIN Equival
     C                     MOVELWAL9T1    YL0008           COA RIN Renewab
     C                     MOVELWAMAT1    YL0009           COA RIN Type Fl
     C                     Z-ADDWAJCNY    YL0010           COA Density Loa
     C                     Z-ADDWAGMPC    YL0011           COA BOL Percent
     C                     MOVELWAIMTX    YL0012           COA RFS Renew F
     C                     MOVELWAFEDS    YL0013           COA RFS Rnwbl F
     C                     ENDIF
      *================================================================
     CSR         SAEXIT    ENDSR
      /EJECT
     CSR         SBRVGN    BEGSR
      *================================================================
      * RTV RFS Annual Compl  RT - COA Batch Header  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Declare restrictor key work fields
     C           *LIKE     DEFN WBAIC3    WQSB01           Company Number
      * Define keylist
     C           KPSSB     KLIST
     C                     KFLD           WQSB01           Company Number
     C                     KFLD           WBRHDT           COA Batch Produ
      * Define keylist
     C           KRSSB     KLIST
     C                     KFLD           WQSB01           Company Number
      * Setup key
     C                     Z-ADDP1AIC3    WQSB01           Company Number
     C                     Z-ADDP3JEDT    WBRHDT           COA Batch Produ
      * Establish starting position
     C           KPSSB     SETLL@CCCPSC                    *
     C           KRSSB     READE@CCCPSC                  90*
      * Data record not found
     C   90                MOVEL'USR3803' W0RTN   7
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * Accum Volume of each batch
      * CASE:
      *  - c1ANDc2
      *   |- c1    : DB1.COA Batch Production Date GE PAR.Date From
      *   |- c2    : DB1.COA Batch Production Date LE PAR.Date To
      *   '-
     C                     MOVEL'0'       Y0CX01  1
     C           WBRHDT    IFGE P3JEDT                     *IF
     C           WBRHDT    IFLE P4JFDT                     *IF
     C                     MOVEL'1'       Y0CX01
     C                     END                             *FI
     C                     END                             *FI
     C           Y0CX01    IFEQ '1'                        *IF
      * CASE: DB1.COA Gallons Used is GT Zero
     C           WBJHNY    IFGT *ZERO                      *IF
     C                     ADD  WBJVNY    P2KXNY           RFS Renew Vol O
     C                     END                             *FI
     C                     END                             *FI
     C           KRSSB     READE@CCCPSC                  90*
     C                     ENDDO
      *================================================================
     CSR         SBEXIT    ENDSR
      /EJECT
     CSR         SCRVGN    BEGSR
      *================================================================
      * Rtv RFS Activity Rpt  RT - COA Batch Header RIN  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * USER: Initialize routine
      * PAR = CON By name
     C                     Z-ADD*ZERO     YL0015           RFS Cur RFS1 Gl
     C                     Z-ADD*ZERO     YL0016           RFS Cur RFS1 Gl
     C                     Z-ADD*ZERO     YL0017           RFS Cur RFS1 Gl
     C                     Z-ADD*ZERO     YL0018           RFS Cur RFS2 Gl
     C                     Z-ADD*ZERO     YL0019           RFS Cur RFS2 Gl
     C                     Z-ADD*ZERO     YL0020           RFS Cur RFS2 Gl
      * Declare restrictor key work fields
     C           *LIKE     DEFN WCAIC3    WQSC01           Company Number
      * Define keylist
     C           KPSSC     KLIST
     C                     KFLD           WQSC01           Company Number
     C                     KFLD           WCRIDT           COA RIN Transac
      * Define keylist
     C           KRSSC     KLIST
     C                     KFLD           WQSC01           Company Number
      * Setup key
     C                     Z-ADDP1AIC3    WQSC01           Company Number
     C                     Z-ADDP3JEDT    WCRIDT           COA RIN Transac
      * Establish starting position
     C           KPSSC     SETLL@DACPSG                    *
     C           KRSSC     READE@DACPSG                  90*
      * Data record not found
     C   90                MOVEL'USR3855' W0RTN   7
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * CASE:
      *  - c1ANDc2
      *   |- c1    : DB1.COA RIN Transaction Date GE PAR.Date From
      *   |- c2    : DB1.COA RIN Transaction Date LE PAR.Date To
      *   '-
     C                     MOVEL'0'       Y0CX01  1
     C           WCRIDT    IFGE P3JEDT                     *IF
     C           WCRIDT    IFLE P4JFDT                     *IF
     C                     MOVEL'1'       Y0CX01
     C                     END                             *FI
     C                     END                             *FI
     C           Y0CX01    IFEQ '1'                        *IF
      * E00382 RMC 04/01/09 Customers may buy fuel without getting a RIN
      * CASE: DB1.COA RIN SSSSSSSS is GT 00000000
     C           WCJZNY    IFGT 0                          *IF
      * E00382 RMC 04/01/09  so only accum from records with a RIN
      * FP1322 RMC 03/11/10  accum according to Assigned(1) /Separated St
      * CASE: PAR.RFS RIN Status EQ DB1.COA RIN Type Flag
     C           YL0014    IFEQ WCMAT1                     *IF
      * use COA Rin Quantity instead of COA RIN Volume in Gallons
      * Accum into RFS1 or RFS2 buckets
      * CASE: DB1.COA BHR RFS Version Nbr is RFS 1
     C           WCJ1ST    IFEQ '1'                        *IF
      * CASE: DB1.RFS Transaction Type is Sold or Delivered
     C           WCI7AA    IFEQ 'SEL'                      *IF
     C                     ADD  WCR0NY    YL0016           RFS Cur RFS1 Gl
     C                     ELSE
      * CASE: DB1.RFS Transaction Type is Retired
     C           WCI7AA    IFEQ 'RET'                      *IF
     C                     ADD  WCR0NY    YL0017           RFS Cur RFS1 Gl
     C                     ELSE
      * CASE: DB1.RFS Transaction Type is Buy
     C           WCI7AA    IFEQ 'BUY'                      *IF
     C                     ADD  WCR0NY    YL0015           RFS Cur RFS1 Gl
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C                     ELSE
      * CASE: *OTHERWISE
      * CASE: DB1.RFS Transaction Type is Sold or Delivered
     C           WCI7AA    IFEQ 'SEL'                      *IF
     C                     ADD  WCR0NY    YL0019           RFS Cur RFS2 Gl
     C                     ELSE
      * CASE: DB1.RFS Transaction Type is Retired
     C           WCI7AA    IFEQ 'RET'                      *IF
     C                     ADD  WCR0NY    YL0020           RFS Cur RFS2 Gl
     C                     ELSE
      * CASE: DB1.RFS Transaction Type is Buy
     C           WCI7AA    IFEQ 'BUY'                      *IF
     C                     ADD  WCR0NY    YL0018           RFS Cur RFS2 Gl
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C                     END                             *FI
     C           KRSSC     READE@DACPSG                  90*
     C                     ENDDO
      *================================================================
     CSR         SCEXIT    ENDSR
      /EJECT
     CSR         SDRVGN    BEGSR
      *================================================================
      * Rtv Prior Yr RVO Dfct RT - RFS Annual Compliance Rpt  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Declare restrictor key work fields
     C           *LIKE     DEFN WDNWT1    WQSD01           RFS Report Form
     C           *LIKE     DEFN WDNYT1    WQSD02           RFS Report Year
      * Define keylist
     C           KRSSD     KLIST
     C                     KFLD           WQSD01           RFS Report Form
     C                     KFLD           WQSD02           RFS Report Year
      * Setup key
     C                     MOVELP2NWT1    WQSD01           RFS Report Form
     C                     MOVELWUNYTX    WQSD02           RFS Report Year
      * Establish starting position
     C           KRSSD     SETLL@DOCPSL                    *
     C           KRSSD     READE@DOCPSL                  90*
      * Data record not found
     C   90                MOVEL'USR3913' W0RTN   7
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
     C                     Z-ADDWDK1NY    P2KYNY           RFS Deficit RVO
     C           KRSSD     READE@DOCPSL                  90*
     C                     ENDDO
      *================================================================
     CSR         SDEXIT    ENDSR
      /EJECT
     CSR         SECRRC    BEGSR
      *================================================================
      * Crt RFS Annual Compl  CR - RFS Annual Compliance Rpt  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Move all fields to @DOCPRZ
     C                     MOVELP2NWT1    WENWT1           RFS Report Form
     C                     MOVELP2LTTX    WELTTX           RFS Report Type
     C                     MOVELP2LUTX    WELUTX           RFS CBI
     C                     MOVELP2NXT1    WENXT1           RFS Report Date
     C                     MOVELP2NYT1    WENYT1           RFS Report Year
     C                     MOVELYL0005    WEI4AA           RFS Company ID
     C                     MOVELYL0004    WENZT1           RFS Company Nam
     C                     MOVELYL0006    WEI5AA           RFS Compliance
     C                     Z-ADD*ZERO     WEKWNY           RFS Gas Prd/fue
     C                     Z-ADDP2GSPC    WEGSPC           RFS Renew Fuel
     C                     Z-ADDP2KXNY    WEKXNY           RFS Renew Vol O
     C                     Z-ADDP2KYNY    WEKYNY           RFS Prior Yr De
     C                     Z-ADDP2KZNY    WEKZNY           RFS Cur RFS1 RI
     C                     Z-ADDP2K0NY    WEK0NY           RFS Prior Yr Ga
     C                     Z-ADDP2K1NY    WEK1NY           RFS Deficit RVO
      *
     C           KLCRSE    KLIST
     C                     KFLD           WENWT1           RFS Report Form
     C                     KFLD           WELTTX           RFS Report Type
     C                     KFLD           WELUTX           RFS CBI
     C                     KFLD           WENXT1           RFS Report Date
     C                     KFLD           WENYT1           RFS Report Year
      * Check for duplicate primary key
     C           KLCRSE    SETLL@DOCPRZ                  90*
     C           *IN90     IFEQ '1'
     C                     MOVEL'USR3914' W0RTN   7
      * Send message 'RFS Annual Compliance  EX'
     C                     MOVEL'USR3914' ZAMSID
     C                     EXSR ZASNMS
     C                     GOTO SEEXIT
     C                     ENDIF
      *
     C                     WRITE@DOCPRZ                91  *
      *
     C           *IN91     IFEQ '1'
      * Write error detected
     C                     MOVEL'Y2U0004' W0RTN   7
     C                     ELSE
     C                     ENDIF
      *================================================================
     CSR         SEEXIT    ENDSR
      /EJECT
     CSR         ZASNMS    BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C           ZAPGMQ    IFEQ *BLANK
     C                     MOVEL##PGM     ZAPGMQ
     C                     END
      * If no message file specified, use default
     C           ZAMSGF    IFEQ *BLANK
     C                     MOVELZADFMF    ZAMSGF
     C                     END
     C                     CALL 'Y2SNMGC'
     C                     PARM           ZAPGMQ 10        Program queue
     C                     PARM           ZAPGRL  5        Rel queue
     C                     PARM           ZAMSID  7        Message ID
     C                     PARM           ZAMSGF 10        Message file
     C                     PARM           ZAMSDA           Message data
     C                     PARM           ZAMSTP  7        Message type
      * Clear all fields for default mechanism next time
     C                     MOVEL*BLANK    ZAPGMQ
     C                     MOVEL*BLANK    ZAPGRL
     C                     MOVEL*BLANK    ZAMSID
     C                     MOVEL*BLANK    ZAMSGF
     C                     MOVEL*BLANK    ZAMSDA
     C                     MOVEL*BLANK    ZAMSTP
      *================================================================
     CSR         ZAEXIT    ENDSR
      /EJECT
     CSR         ZXEXPG    BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                     EXSR ZYEXPG
      *================================================================
     CSR         ZXEXIT    ENDSR
      /EJECT
     CSR         ZYEXPG    BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                     SETON                     LR
      *
      * Exit program
     C                     RETRN
      *
      *================================================================
     CSR         ZYEXIT    ENDSR
      /EJECT
     CSR         ZZINIT    BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C           W0ICL     IFEQ *BLANK
     C                     MOVEL'Y'       W0ICL   1        *Initial call
     C                     ELSE
     C                     MOVEL'N'       W0ICL
     C                     END
     C                     MOVE *BLANK    P0RTN
     C                     MOVE *BLANK    W0RTN   7
     C                     MOVEL*BLANK    W0RSL   1
     C                     MOVEL*BLANK    W0RSF   1
     C                     MOVEL*ZEROS    W0RTW   90
     C                     MOVEL'400'     W0ENV   3
      * Clear all neither parameters
     C                     MOVEL*BLANK    P2NWT1           RFS Report Form
     C                     MOVEL*BLANK    P2LUTX           RFS CBI
     C                     MOVEL*BLANK    P2NXT1           RFS Report Date
     C                     Z-ADD*ZERO     P2KWNY           RFS Gas Prd/fue
     C                     Z-ADD*ZERO     P2KXNY           RFS Renew Vol O
     C                     Z-ADD*ZERO     P2KYNY           RFS Prior Yr De
     C                     Z-ADD*ZERO     P2KZNY           RFS Cur RFS1 RI
     C                     Z-ADD*ZERO     P2K0NY           RFS Prior Yr Ga
     C                     Z-ADD*ZERO     P2K1NY           RFS Deficit RVO
     C                     Z-ADD*ZERO     P3JEDT           Date From
     C                     Z-ADD*ZERO     P4JFDT           Date To
      *
      * Retrieve job attributes
     C                     CALL 'Y2RTJCR'
     C                     PARM           PGMDS
      * Setup job date/time
     C                     Z-ADD##SD7     ##JDT
     C                     TIME           ##JTM
      * Update screen time
     C                     TIME           ##TME   60
      * Define work field Month (Char) USR
     C                     MOVEL*BLANK    WUT5TX  2
      * Define work field Day (Alpha) USR
     C                     MOVEL*BLANK    WUT8TX  2
      * Define work field Year Code
     C                     Z-ADD*ZERO     WUAYNX  40
      * Define work field Year USR
     C                     MOVEL*BLANK    WUNYTX  4
      * Define work field Month MM/  3A
     C                     MOVEL*BLANK    WUN0TX  3
      * Define work field Day DD/  3A
     C                     MOVEL*BLANK    WUN1TX  3
      * Define work field Month/Day MM/DD/
     C                     MOVEL*BLANK    WUN2TX  6
      * Define work field Year Alpha (YY) USR
     C                     MOVEL*BLANK    WUUATX  2
      * Define work field Text 3 Length USR
     C                     MOVEL*BLANK    WUMLT1  3
      * Define work field Date From Alpha       USR
     C                     MOVEL*BLANK    WUV5CD  7
      * Define work field Date To Alpha         USR
     C                     MOVEL*BLANK    WUV6CD  7
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WAAIC3           Company Number
     C                     Z-ADD*ZERO     WAJCNY           COA Density Loa
     C                     Z-ADD*ZERO     WAJDNY           COA Density Ref
     C                     Z-ADD*ZERO     WAJENY           COA Temperature
     C                     Z-ADD*ZERO     WAJFNY           COA Temperature
     C                     Z-ADD*ZERO     WAGMPC           COA BOL Percent
     C                     Z-ADD*ZERO     WAJQNY           COA Temp Conv F
     C                     Z-ADD*ZERO     WAJRNY           COA Temp Conv F
     C                     Z-ADD*ZERO     WAI1NY           Sold To Custome
     C                     Z-ADD*ZERO     WAMJDT           Create Date
     C                     Z-ADD*ZERO     WABETM           Create Time
     C                     Z-ADD*ZERO     WAMKDT           Change Date
     C                     Z-ADD*ZERO     WABFTM           Change Time
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WBAIC3           Company Number
     C                     Z-ADD*ZERO     WBI3NY           COA Batch Numbe
     C                     Z-ADD*ZERO     WBRFDT           COA Date Open f
     C                     Z-ADD*ZERO     WBC2TM           COA Time Open f
     C                     Z-ADD*ZERO     WBRGDT           COA Date Close
     C                     Z-ADD*ZERO     WBC3TM           COA Time Close
     C                     Z-ADD*ZERO     WBJHNY           COA Gallons Use
     C                     Z-ADD*ZERO     WBRHDT           COA Batch Produ
     C                     Z-ADD*ZERO     WBC4TM           COA Batch Unuse
     C                     Z-ADD*ZERO     WBJENY           COA Temperature
     C                     Z-ADD*ZERO     WBJVNY           COA Batch Volum
     C                     Z-ADD*ZERO     WBJWNY           COA Batch Denat
     C                     Z-ADD*ZERO     WBJXNY           COA Batch Expor
     C                     Z-ADD*ZERO     WBJ1NY           COA Last RIN EE
     C                     Z-ADD*ZERO     WBJCNY           COA Density Loa
     C                     Z-ADD*ZERO     WBJDNY           COA Density Ref
     C                     Z-ADD*ZERO     WBJ3NY           COA RIN Equival
     C                     Z-ADD*ZERO     WBRLDT           COA Batch Unuse
     C                     Z-ADD*ZERO     WBR0NY           COA RIN Quantit
     C                     Z-ADD*ZERO     WBTTDT           COA BH EMTS Dat
     C                     Z-ADD*ZERO     WBDRTM           COA BH EMTS Tim
     C                     Z-ADD*ZERO     WBR4NY           COA BH Unused N
     C                     Z-ADD*ZERO     WBTUDT           COA BH Unused D
     C                     Z-ADD*ZERO     WBDSTM           COA BH Unused T
     C                     Z-ADD*ZERO     WBSANY           COA BH Feedstck
     C                     Z-ADD*ZERO     WBGZPC           COA BH Feedstck
     C                     Z-ADD*ZERO     WBSBNY           COA BH Feedstck
     C                     Z-ADD*ZERO     WBG0PC           COA BH Feedstck
     C                     Z-ADD*ZERO     WBSCNY           COA BH Feedstck
     C                     Z-ADD*ZERO     WBG1PC           cOA BH Feedstck
     C                     Z-ADD*ZERO     WBMJDT           Create Date
     C                     Z-ADD*ZERO     WBBETM           Create Time
     C                     Z-ADD*ZERO     WBMKDT           Change Date
     C                     Z-ADD*ZERO     WBBFTM           Change Time
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WCAIC3           Company Number
     C                     Z-ADD*ZERO     WCI3NY           COA Batch Numbe
     C                     Z-ADD*ZERO     WCJYNY           COA Batch Heade
     C                     Z-ADD*ZERO     WCQ1NY           COA Batch Hdr R
     C                     Z-ADD*ZERO     WCJZNY           COA RIN SSSSSSS
     C                     Z-ADD*ZERO     WCJ0NY           COA RIN EEEEEEE
     C                     Z-ADD*ZERO     WCJ2NY           COA RIN Volume
     C                     Z-ADD*ZERO     WCRIDT           COA RIN Transac
     C                     Z-ADD*ZERO     WCC5TM           COA RIN Transac
     C                     Z-ADD*ZERO     WCRJDT           COA Retired RIN
     C                     Z-ADD*ZERO     WCC6TM           COA Retired RIN
     C                     Z-ADD*ZERO     WCC4NB           Order Number
     C                     Z-ADD*ZERO     WCDPNB           Order Sequence
     C                     Z-ADD*ZERO     WCUENB           Order Secondary
     C                     Z-ADD*ZERO     WCRZNB           Case Sequence N
     C                     Z-ADD*ZERO     WCRMNB           Load ID
     C                     Z-ADD*ZERO     WCRKDT           COA Date of 1st
     C                     Z-ADD*ZERO     WCC7TM           COA RIN Unused
     C                     Z-ADD*ZERO     WCQWNY           COA RIN Gallons
     C                     Z-ADD*ZERO     WCCWC3           COA Shipping Co
     C                     Z-ADD*ZERO     WCQXNY           COA Ref Load Id
     C                     Z-ADD*ZERO     WCQZNY           COA Reference B
     C                     Z-ADD*ZERO     WCQ0NY           COA Reference B
     C                     Z-ADD*ZERO     WCTFDT           COA BHR Net Gal
     C                     Z-ADD*ZERO     WCTGDT           COA BHR Unused
     C                     Z-ADD*ZERO     WCQYNY           COA BHR Loadout
     C                     Z-ADD*ZERO     WCR8NY           COA Batch RIN V
     C                     Z-ADD*ZERO     WCR0NY           COA RIN Quantit
     C                     Z-ADD*ZERO     WCR7NY           COA BHR RIN Gen
     C                     Z-ADD*ZERO     WCHEPR           COA BHR RIN Pri
     C                     Z-ADD*ZERO     WCHFPR           COA BHR Gallon
     C                     Z-ADD*ZERO     WCR5NY           COA RIN Support
     C                     Z-ADD*ZERO     WCR6NY           COA RIN Support
     C                     Z-ADD*ZERO     WCTWDT           COA GEN EMTS Da
     C                     Z-ADD*ZERO     WCDUTM           COA GEN EMTS Ti
     C                     Z-ADD*ZERO     WCTVDT           COA RIN EMTS Da
     C                     Z-ADD*ZERO     WCDTTM           COA RIN EMTS Ti
     C                     Z-ADD*ZERO     WCR9NY           COA EMTS PTD Nb
     C                     Z-ADD*ZERO     WCSQNY           COA EMTS Batch
     C                     Z-ADD*ZERO     WCSRNY           COA BHR Unused
     C                     Z-ADD*ZERO     WCT2DT           COA BHR Unused
     C                     Z-ADD*ZERO     WCSXNY           COA BHR Equiv V
     C                     Z-ADD*ZERO     WCSYNY           COA BHR RINs to
     C                     Z-ADD*ZERO     WCSZNY           COA BHR Unused
     C                     Z-ADD*ZERO     WCMJDT           Create Date
     C                     Z-ADD*ZERO     WCBETM           Create Time
     C                     Z-ADD*ZERO     WCMKDT           Change Date
     C                     Z-ADD*ZERO     WCBFTM           Change Time
      * Define work field RFS Report Year
     C                     MOVEL*BLANK    WUNYT1  4
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WDKWNY           RFS Gas Prd/fue
     C                     Z-ADD*ZERO     WDGSPC           RFS Renew Fuel
     C                     Z-ADD*ZERO     WDKXNY           RFS Renew Vol O
     C                     Z-ADD*ZERO     WDKYNY           RFS Prior Yr De
     C                     Z-ADD*ZERO     WDKZNY           RFS Cur RFS1 RI
     C                     Z-ADD*ZERO     WDK0NY           RFS Prior Yr Ga
     C                     Z-ADD*ZERO     WDK1NY           RFS Deficit RVO
      * Obtain default message file
     C           *NAMVAR   DEFN CAMGFLA   ZADFMF 10
     C                     IN   ZADFMF
      * Define *Synon program work fields
     C                     Z-ADD*ZEROS    YRSW00  50       *Synon (5,0) wo
     C                     Z-ADD*ZEROS    YRSW01  50       *Synon (5,0) wo
     C                     Z-ADD*ZEROS    W0WD01 177       *Synon (17,7) w
     C                     Z-ADD*ZEROS    W0WD00 177       *Synon (17,7) w
     C                     Z-ADD*ZEROS    W0WJ01 150       *Synon (15,0) w
      * Dummy move for compiler
     C                     MOVE '0'       @CN#,1
     C                     MOVEL'N'       W0PMT   1
      * Define local work field COA Bio-dsl Fuel Cd Descr
     C                     MOVEL*BLANK    YL0001 30
      * Define local work field COA Producer Regist Nbr
     C                     MOVEL*BLANK    YL0002 25
      * Define local work field COA Employer ID
     C                     MOVEL*BLANK    YL0003 20
      * Define local work field COA Sold From Name
     C                     MOVEL*BLANK    YL0004 40
      * Define local work field COA ULSD Company #
     C                     MOVEL*BLANK    YL0005  4
      * Define local work field COA ULSD Facility #
     C                     MOVEL*BLANK    YL0006  5
      * Define local work field COA RIN Equivalence Valu
     C                     MOVEL*BLANK    YL0007  2
      * Define local work field COA RIN Renewable Enrgy
     C                     MOVEL*BLANK    YL0008  1
      * Define local work field COA RIN Type Flag
     C                     MOVEL*BLANK    YL0009  1
      * Define local work field COA Density Loadout
     C                     Z-ADD*ZERO     YL0010  75
      * Define local work field COA BOL Percent
     C                     Z-ADD*ZERO     YL0011  41
      * Define local work field COA RFS Renew Fuel Code
     C                     MOVEL*BLANK    YL0012  3
      * Define local work field COA RFS Rnwbl Feedstock
     C                     MOVEL*BLANK    YL0013  3
      * Define local work field RFS RIN Status
     C                     MOVEL*BLANK    YL0014  1
      * Define local work field RFS Cur RFS1 Gl RINS Prch
     C                     Z-ADD*ZERO     YL0015  70
      * Define local work field RFS Cur RFS1 Gl RINS Sold
     C                     Z-ADD*ZERO     YL0016  70
      * Define local work field RFS Cur RFS1 Gl RINS Rtrd
     C                     Z-ADD*ZERO     YL0017  70
      * Define local work field RFS Cur RFS2 Gl RINS Prch
     C                     Z-ADD*ZERO     YL0018  70
      * Define local work field RFS Cur RFS2 Gl RINS Sold
     C                     Z-ADD*ZERO     YL0019  70
      * Define local work field RFS Cur RFS2 Gl RINS Rtrd
     C                     Z-ADD*ZERO     YL0020  70
      *================================================================
     CSR         ZZEXIT    ENDSR
** @CN
00001 RFS0300
00002 1111111
