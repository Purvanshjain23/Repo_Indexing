/********************************************************************/
/*                                                                  */
/*  SYNOPSIS -  PRINT STOCK STATUS REPORT FOR TRIUMPH FOODS         */
/*              CALLS PDX3CLP FOR FOUR DIFFERENT WAREHOUSES         */
/*              PASSES COMPANY, WAREHOUSE, AS-OF DATE = SUNDAY,     */
/*              DETAIL TYPE, REPORT TYPE = I ONLY                   */
/*              SEND TO JIMMY REMIREZ' OUTPUT QUEUE ONLY            */
/*                                                                  */
/*  SYSTEM    - INVENTORY CONTROL                                   */
/*  PROGRAM   - STOCK STATUS REPORT FOR 4 WAREHOUSES                */
/*  DATE      - 10/10/2006                                          */
/********************************************************************/
/*  PROGRAMMER NOTES:  THIS PROGRAM CALLS AND EXISTING PROGRAM      */
/*             THAT SELECTS RECORDS USING OPEN QUERY FILE. THE      */
/*             CALCS DO **NOT** SELECT BY DATE. THE DATE IS ONLY    */
/*             USED IF THE REPORT TYPE = SUMMARY AND THIS REPORT    */
/*             TYPE ONLY = DETAIL.                                  */
/********************************************************************/
/*  MODIFICATIONS:                                                   */
/*   RMC 07/16/07 PUT ON HOLD PER DAN NORMAN                         */
/*   RMC 09/02/08 ADD WHSES, PRINT SUMMARY ONLY, RELEASE-PER DAN     */
/*       MARLOW   + NEW WHSES:  EF1,NCS,FF2                          */
/*   RMC 02/16/09 DONT RUN FOR NCS, FF2, AND ADD GC2 PER DAN MARLOW  */
/*   RMC 05/18/09 DO   RUN FOR NCS     PER DAN MARLOW                */
/*   RMC 05/18/09 DONT RUN FOR SJ1     PER DAN MARLOW                */
/*   LJB 06/29/09 ADD CC2 AND MR1      PER DAN MARLOW                */
/*   RMC 09/08/09 REMOVE EF1, GC2      PER DAN MARLOW                */
/*   LJB 03/01/10 ADD SJ1 BACK IN      PER DAN MARLOW                */
/*   LJB 04/16/10 ADD MR2, SKIP NCS    PER DAN MARLOW                */
/*   RMC 11/22/10 REMOVE MR1,MR2, ADD EF1   PER DAN MARLOW                */
/*   RMC 01/17/11 REMOVE GC2,     ADD SA2   PER DAN MARLOW                */
/*   RMC 09/09/13 ADD NO2                   PER DAN MARLOW                */
/*   RMC 03/10/14 ADD NA1                   PER DAN MARLOW                */
/*   RMC 03/23/15 DO   RUN FOR NCS     PER DAN MARLOW                */
/*********************************************************************/
 PMBRUPC:    PGM        PARM(&RETURN)

/* PARMS                                                          */
             DCL        VAR(&RETURN) TYPE(*CHAR) LEN(7) /* Return +
                          Code */
             DCL        VAR(&PGM) TYPE(*CHAR) LEN(10) /* Program to +
                          submit */
             DCL        VAR(&COPYN) TYPE(*DEC) /* No. Copies */
             DCL        VAR(&OUTQ) TYPE(*CHAR) LEN(10) /* Output +
                          queue */
             DCL        VAR(&HOLD) TYPE(*CHAR) LEN(4) VALUE(*NO ) /* +
                          Hold */
             DCL        VAR(&SAVE) TYPE(*CHAR) LEN(4) VALUE(*NO ) /* +
                          Save */
             DCL        VAR(&NQSTAT) TYPE(*CHAR) LEN(01) VALUE('N') +
                          /* NIGHT Q    */
             DCL        VAR(&NIGHTQ) TYPE(*CHAR) LEN(10) +
                          VALUE('*JOBD') /* NIGHT JOB QUEUE     */
             DCL        VAR(&COMPNYN) TYPE(*DEC) /* CO +
                          NUMBER           */
             DCL        VAR(&ASDATE) TYPE(*DEC) /* Date */
             DCL        VAR(&QDATE) TYPE(*CHAR) LEN(6) /* System +
                          date */
             DCL        VAR(&CYMD) TYPE(*CHAR) LEN(7) /* Converted +
                          date */
             DCL        VAR(&WHSE) TYPE(*CHAR) LEN(3) /* Warehouse */
             DCL        VAR(&ITEM) TYPE(*DEC) /* Item */
             DCL        VAR(&DTLSUM) TYPE(*CHAR) LEN(1) VALUE('S') /* +
                          Detail/Summary */
             DCL        VAR(&ITMTYP) TYPE(*DEC) /* Item Str Type */
             DCL        VAR(&ITMGRP) TYPE(*DEC) /* Item Str Group */
             DCL        VAR(&ITMCLS) TYPE(*DEC) /* Item Str Class */
             DCL        VAR(&ITEMTP) TYPE(*CHAR) LEN(3) /* Item type */
             DCL        VAR(&NONZER) TYPE(*CHAR) LEN(1) VALUE('Y') /* +
                          Non Zero Y/N */
             DCL        VAR(&ITEMLV) TYPE(*CHAR) LEN(2) /* Item +
                          Level */
             DCL        VAR(&QLTYLV) TYPE(*CHAR) LEN(2) /* Quality +
                          Level */
             DCL        VAR(&RPTTYP) TYPE(*CHAR) LEN(1) VALUE(I) /* +
                          Report Type */

/*------------------------------------------------------------------*/
/*   INITIALIZE VARIABLES                                           */
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&RETURN) VALUE('       ')
             CHGVAR     VAR(&PGM) VALUE('ICQ0PFR')
             CHGVAR     VAR(&COMPNYN) VALUE(960)
             CHGVAR     VAR(&COPYN) VALUE(1)
             CHGVAR     VAR(&OUTQ) VALUE('TFPRT01')
             CHGVAR     VAR(&SAVE) VALUE(*YES)

/*------------------------------------------------------------------*/
/*   CONVERT SYSTEM DATE TO CMMDDYY NUMERIC                         */
/*------------------------------------------------------------------*/
             RTVSYSVAL  SYSVAL(QDATE) RTNVAR(&QDATE)
             CVTDAT     DATE(&QDATE) TOVAR(&CYMD) +
                          FROMFMT(*SYSVAL) TOFMT(*CYMD) TOSEP(*NONE)
             CHGVAR     VAR(&ASDATE) VALUE(&CYMD)

/*------------------------------------------------------------------*/
/*   CALL PRINT PROGRAM 7 TIMES - ONCE FOR EACH WAREHOUSE           */
/*------------------------------------------------------------------*/
/*   GOTO SF1 (RUN FOR SJ1, AGAIN-3/01/10 E000568)                  */
             CHGVAR     VAR(&WHSE) VALUE('SJ1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
SF1:
             CHGVAR     VAR(&WHSE) VALUE('SF1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
             CHGVAR     VAR(&WHSE) VALUE('SB1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
NA1:         CHGVAR     VAR(&WHSE) VALUE('NA1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
             CHGVAR     VAR(&WHSE) VALUE('SA1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&WHSE) VALUE('SA2')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/

             CHGVAR     VAR(&WHSE) VALUE('EF1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
GC2: GOTO NCS
             CHGVAR     VAR(&WHSE) VALUE('GC2')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
NCS: /* GOTO CC2   */
             CHGVAR     VAR(&WHSE) VALUE('NCS')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
CC2:         CHGVAR     VAR(&WHSE) VALUE('CC2')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
NO2:         CHGVAR     VAR(&WHSE) VALUE('NO2')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
        GOTO       CMDLBL(END)
             CHGVAR     VAR(&WHSE) VALUE('MR1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&WHSE) VALUE('MR2')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
             GOTO       CMDLBL(END)
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&WHSE) VALUE('FF2')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)

 END:        ENDPGM
