// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLSHXFR
// ?Date: 14.08.2025 Time: 02:55:19
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Rtv Next DsDtl Err    RT) TYPE(RTVOBJ) FILE(PLBKCPP)           AB1311449;
PARAMETER(PAR.DSU_Company_Number);
PARAMETER(PAR.DSU_Transaction_Date);
PARAMETER(PAR.DSU_Transaction_Time);
PARAMETER(PAR.DSU_Transaction_Seq);
PARAMETER(WRK.DSE_Line_Sequence);
{
 //?USER: Processing if Data record not found

 // PAR.DSE Line Sequence = CON.001
 PAR.DSE_Line_Sequence = 001;

 QUIT;

 //?USER: Process Data record

 // PAR.DSE Line Sequence = DB1.DSE Line Sequence + CON.001
 PAR.DSE_Line_Sequence = DB1.DSE_Line_Sequence + 001;

 QUIT;

}


// WRK.DSE Line Comment = Condition name of PAR.DSE Error Code
WRK.DSE_Line_Comment = RTVCND(PAR.DSE_Error_Code);

EXECUTE FUNCTION(Crt Delivery Sched DtlECO) TYPE(CRTOBJ) FILE(PLBKCPP)          AB1311436;
PARAMETER(PAR.DSU_Company_Number);
PARAMETER(PAR.DSU_Transaction_Date);
PARAMETER(PAR.DSU_Transaction_Time);
PARAMETER(PAR.DSU_Transaction_Seq);
PARAMETER(WRK.DSE_Line_Sequence);
PARAMETER(PAR.DSE_Error_Code);
PARAMETER(WRK.DSE_Line_Comment);
PARAMETER(WRK.RS_User_Changed);
PARAMETER(WRK.RS_Date_Changed);
PARAMETER(WRK.RS_Time_Changed);
PARAMETER(WRK.RS_Record_Status);
PARAMETER(PAR.RS_Job);
PARAMETER(PAR.RS_Program);
PARAMETER(WRK.RS_User_Added);
PARAMETER(WRK.RS_Date_Added);
PARAMETER(WRK.RS_Time_Added);
{
 //?USER: Processing before Data update

 // DB1.RS Record Status = CND.Active
 DB1.RS_Record_Status = 'A';

 // DB1.RS User Added = JOB.*USER
 DB1.RS_User_Added = JOB.*USER;

 // Call program Rtv System Date & Tim UP.
 CALL PROGRAM(Rtv System Date & Tim UP) ('PKWDUPC');
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);

 // DB1.RS Program = JOB.*PROGRAM
 DB1.RS_Program = JOB.*PROGRAM;

 // DB1.RS Job = JOB.*JOB
 DB1.RS_Job = JOB.*JOB;

}


