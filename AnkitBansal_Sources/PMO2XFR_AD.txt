// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMO2XFR
// ?Date: 14.08.2025 Time: 03:43:40
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?1.  Performing the Seaboard Print Override
DO;

// LCL.Nbr of Copies-Alpha   USR = PAR.PRT Number of Copies
LCL.Nbr_of_Copies_Alpha_USR = PAR.PRT_Number_of_Copies;

//?rtv right bol overlay per company
// Call program RTV CDD for Overlays   XF.
CALL PROGRAM(RTV CDD for Overlays   XF) ('PMG9XFR');
PARAMETER(PAR.Company_Number);
PARAMETER('BL');
PARAMETER('TRAFF');
PARAMETER(LCL.CDD_Name_of_Overlay);
PARAMETER(LCL.CDD_Program_Name);
PARAMETER(LCL.CDD_Printer_File_Name);
PARAMETER(LCL.CDD_Additional_Object);
PARAMETER(LCL.CDD_Sender_Phone);
PARAMETER(LCL.CDD_Sender_Fax);
PARAMETER(LCL.Output_Queue);
PARAMETER(LCL.Hold_File);
PARAMETER(LCL.Save_File);
PARAMETER(LCL.Source_Drawer);
PARAMETER(LCL.Printer_Device_Type);
PARAMETER(LCL.Page_Length_2);
PARAMETER(LCL.Page_Width_2);
PARAMETER(LCL.Page_LPI);
PARAMETER(LCL.Page_CPI);
PARAMETER(LCL.Page_Overflow);
PARAMETER(LCL.Page_Rotation);
PARAMETER(LCL.CDD_Comment_1);
PARAMETER(LCL.CDD_Comment_2);
PARAMETER(LCL.CDD_Comment_3);
PARAMETER(LCL.CDD_Comment_4);
PARAMETER(LCL.CDD_Comment_5);
PARAMETER(LCL.Record_Status);

CASE;

// IF LCL.CDD Program Name is HPB BOL PRINT
IF LCL.CDD_Program_Name = 'PMO7PFR';

// Call program RTV CDD for Overlays   XF.
CALL PROGRAM(RTV CDD for Overlays   XF) ('PMG9XFR');
PARAMETER(PAR.Company_Number);
PARAMETER('BK');
PARAMETER('TRAFF');
PARAMETER(LCL.CDD_Name_of_Overlay_Back);
PARAMETER(NLL.CDD_Program_Name);
PARAMETER(NLL.CDD_Printer_File_Name);
PARAMETER(NLL.CDD_Additional_Object);
PARAMETER(NLL.CDD_Sender_Phone);
PARAMETER(NLL.CDD_Sender_Fax);
PARAMETER(NLL.Output_Queue);
PARAMETER(NLL.Hold_File);
PARAMETER(NLL.Save_File);
PARAMETER(NLL.Source_Drawer);
PARAMETER(NLL.Printer_Device_Type);
PARAMETER(NLL.Page_Length_2);
PARAMETER(NLL.Page_Width_2);
PARAMETER(NLL.Page_LPI);
PARAMETER(NLL.Page_CPI);
PARAMETER(NLL.Page_Overflow);
PARAMETER(NLL.Page_Rotation);
PARAMETER(NLL.CDD_Comment_1);
PARAMETER(NLL.CDD_Comment_2);
PARAMETER(NLL.CDD_Comment_3);
PARAMETER(NLL.CDD_Comment_4);
PARAMETER(NLL.CDD_Comment_5);
PARAMETER(NLL.Record_Status);

ENDIF;

// Call program EXC Command OVRPRTF ovlUP.
CALL PROGRAM(EXC Command OVRPRTF ovlUP) ('PNN6UPC');
PARAMETER(LCL.CDD_Printer_File_Name);
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(LCL.Nbr_of_Copies_Alpha_USR);
PARAMETER(LCL.CDD_Name_of_Overlay);
PARAMETER(LCL.CDD_Name_of_Overlay_Back);

// Call program EXC Command SBDOVR     UP.
CALL PROGRAM(EXC Command SBDOVR     UP) ('PDPOUPR');
PARAMETER('PMQBPFR$');
PARAMETER(PAR.PRT_Printer_Device);
PARAMETER(PAR.PRT_Hold_Output_Sts);
PARAMETER(PAR.PRT_Save_Output_Sts);
PARAMETER(LCL.Nbr_of_Copies_Alpha_USR);

ENDDO;

//?2.  Print Report
DO;

CASE;

// IF PAR.Status - Y or N is Not Yes
IF PAR.Status_Y_or_N = *BLANK/'N';

// Call program PRT Bill of Lading-HPB PF.
CALL PROGRAM(PRT Bill of Lading-HPB PF) ('PMO7PFR');
PARAMETER(PAR.Load_ID);
PARAMETER(361);
PARAMETER('N');

// IF *OTHERWISE
IF *OTHERWISE;

// Call program PRT Bill of Lading-HPBYPF.
CALL PROGRAM(PRT Bill of Lading-HPBYPF) ('PMQBPFR');
PARAMETER(PAR.Load_ID);
PARAMETER(361);
PARAMETER('N');

ENDIF;

// Execute command - 'DLTOVR'
EXECUTE COMMAND(USR2787);

ENDDO;

