// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLU2XFR
// ?Date: 14.08.2025 Time: 02:55:30
// ?------------------------------------------------------------------------------------------------

//?Execute user function

// WRK.Hot Weight From Num Usr = CVTVAR(PAR.Hot Weight From Alpha)
WRK.Hot_Weight_From_Num_Usr = CVTVAR(PAR.Hot_Weight_From_Alpha);

// WRK.Hot Weight To Num Usr = CVTVAR(PAR.Hot Weight To Alpha)
WRK.Hot_Weight_To_Num_Usr = CVTVAR(PAR.Hot_Weight_To_Alpha);

EXECUTE FUNCTION(ZZTV Eval Trans UPL VryRT) TYPE(RTVOBJ) FILE(PLBUCPP)          AB1320440;
PARAMETER(WRK.Hot_Weight_From_Num_Usr);
PARAMETER(WRK.Hot_Weight_To_Num_Usr);
{
 //?USER: Initialize routine

 // LCL.EA Hot Weight = CON.326.0
 LCL.EA_Hot_Weight = 326.0;

 CASE;

 // IF PAR.Hot Weight From Num Usr GE LCL.EA Hot Weight
 IF PAR.Hot_Weight_From_Num_Usr >= LCL.EA_Hot_Weight;

 // WRK.Hotrgs WGT Group Frm 5/0 = CON.326
 WRK.Hotrgs_WGT_Group_Frm_5_0 = 326;

 // WRK.Hotrgs WGT Group To 5/0 = CON.999
 WRK.Hotrgs_WGT_Group_To_5_0 = 999;

 // IF PAR.Hot Weight From Num Usr LT LCL.EA Hot Weight
 IF PAR.Hot_Weight_From_Num_Usr < LCL.EA_Hot_Weight;

 // WRK.Hotrgs WGT Group Frm 5/0 = CON.288
 WRK.Hotrgs_WGT_Group_Frm_5_0 = 288;

 // WRK.Hotrgs WGT Group To 5/0 = CON.301
 WRK.Hotrgs_WGT_Group_To_5_0 = 301;

 // IF *OTHERWISE
 IF *OTHERWISE;

 QUIT;

 ENDIF;

 //?USER: Process Data record

 CASE;

 // IF DB1.ER Hot Weight GE LCL.EA Hot Weight
 IF DB1.ER_Hot_Weight >= LCL.EA_Hot_Weight;

 //?Corr 326 - LARGEST WEIGHT
 // WRK.ER HOTRGS Description = DB1.ER HOTRGS Description
 WRK.ER_HOTRGS_Description = DB1.ER_HOTRGS_Description;

 EXECUTE FUNCTION(Rtv Erp Hog Hot Wgt RGRT2) TYPE(RTVOBJ) FILE(PLBTREP)          AB1320441;
 PARAMETER(LCL.EA_Hot_Weight);
 PARAMETER(LCL.Erp_Hot_Wgt_Description);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 CASE;

 // IF DB1.ER HOTRGS Description NE LCL.Erp Hot Wgt Description
 IF DB1.ER_HOTRGS_Description <> LCL.Erp_Hot_Wgt_Description;

 EXECUTE FUNCTION(ZChg EvalTransUplHRgERPCH) TYPE(CHGOBJ) FILE(PLBUCPP)          AB1320442;
 PARAMETER(DB1.ER_Company_Number);
 PARAMETER(DB1.ER_Kill_Date);
 PARAMETER(DB1.ER_Scale_Sequence_Number);
 PARAMETER(DB1.ER_Tattoo_Number);
 PARAMETER(LCL.Erp_Hot_Wgt_Description);
 PARAMETER(DB1.ER_HOTRGS_WGT_Group);
 ENDIF;

 ENDIF;

}


