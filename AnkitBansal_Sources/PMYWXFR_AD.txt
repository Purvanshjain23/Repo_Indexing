// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMYWXFR
// ?Date: 14.08.2025 Time: 03:44:33
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?E00233                RMC 9/22/08
//?Call BOL Received hours - from job scheduler
EXECUTE FUNCTION(Rtv Plant Cos all     RT) TYPE(RTVOBJ) FILE(PDJYREP)           AC1809261;
PARAMETER(*ZERO);
PARAMETER(LCL.USR_Company_Number_1);
PARAMETER(LCL.USR_Company_Number_2);
PARAMETER(LCL.USR_Company_Number_3);
PARAMETER(LCL.USR_Company_Number_4);
PARAMETER(LCL.USR_Company_Number_5);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 CASE;

 // IF PAR.USR Company Number 1 is Equal to zero
 IF PAR.USR_Company_Number_1 = *ZERO;

 // PAR.USR Company Number 1 = DB1.Company Number
 PAR.USR_Company_Number_1 = DB1.Company_Number;

 // IF PAR.USR Company Number 2 is Equal to zero
 IF PAR.USR_Company_Number_2 = *ZERO;

 // PAR.USR Company Number 2 = DB1.Company Number
 PAR.USR_Company_Number_2 = DB1.Company_Number;

 // IF PAR.USR Company Number 3 is Equal to zero
 IF PAR.USR_Company_Number_3 = *ZERO;

 // PAR.USR Company Number 3 = DB1.Company Number
 PAR.USR_Company_Number_3 = DB1.Company_Number;

 // IF PAR.USR Company Number 4 is Equal to zero
 IF PAR.USR_Company_Number_4 = *ZERO;

 // PAR.USR Company Number 4 = DB1.Company Number
 PAR.USR_Company_Number_4 = DB1.Company_Number;

 // IF PAR.USR Company Number 5 is Equal to zero
 IF PAR.USR_Company_Number_5 = *ZERO;

 // PAR.USR Company Number 5 = DB1.Company Number
 PAR.USR_Company_Number_5 = DB1.Company_Number;

 ENDIF;

}


//?RMC Run sql and email to Gary Martin 9/22/08
//?RMC add a 7:00am run with a prev act ship date
//?RMC add a 3:30pm run with curr act ship date
//?RMC run 2 times - once for each plant
CASE;

// IF PAR.Report Type - 1 or 2  USR is By Ship Date
IF PAR.Report_Type_1_or_2_USR = '1';

// Call program RTV Prior Ship Date   XF.
CALL PROGRAM(RTV Prior Ship Date   XF) ('POE7XFR');
PARAMETER(LCL.USR_Company_Number_1);
PARAMETER(JOB.*Job_date);
PARAMETER(1);
PARAMETER(LCL.Number_Value_7);

// IF *OTHERWISE
IF *OTHERWISE;

// LCL.Number Value - 7 = JOB.*Job date
LCL.Number_Value_7 = JOB.*Job_date;

ENDIF;

// Call program Rtv Alpha Value       XF.
CALL PROGRAM(Rtv Alpha Value       XF) ('POMTXFR');
PARAMETER(LCL.USR_Company_Number_1);
PARAMETER('PRKBOLRC');
PARAMETER(WRK.Text_USR);

// Execute command - 'EXECUTE SQL VIEW'
EXECUTE COMMAND(USR4026);
PARAMETER(LCL.Number_Value_7);
PARAMETER(WRK.Text_USR);
PARAMETER(LCL.USR_Company_Number_1);

// Call program Rtv Alpha Value       XF.
CALL PROGRAM(Rtv Alpha Value       XF) ('POMTXFR');
PARAMETER(LCL.USR_Company_Number_2);
PARAMETER('PRKBOLRC');
PARAMETER(WRK.Text_USR);

// Execute command - 'EXECUTE SQL VIEW'
EXECUTE COMMAND(USR4026);
PARAMETER(LCL.Number_Value_7);
PARAMETER(WRK.Text_USR);
PARAMETER(LCL.USR_Company_Number_2);

