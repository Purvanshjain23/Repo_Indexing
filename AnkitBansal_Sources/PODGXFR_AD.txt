// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PODGXFR
// ?Date: 14.08.2025 Time: 03:36:47
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Read all rcds for Prg RT) TYPE(RTVOBJ) FILE(PDJ2CPP)           AC1594944;
PARAMETER(PAR.Deposit_Date);
PARAMETER(PAR.Date_From_USR);
PARAMETER(PAR.Date_In);
{
 //?USER: Initialize routine

 // WRK.First Time Flag = CND.Yes
 WRK.First_Time_Flag = 'Y';

 //?USER: Process Data record

 //?First Time processing Only
 CASE;

 // IF WRK.First Time Flag is Yes
 IF WRK.First_Time_Flag = 'Y';

 CASE;

 // IF PAR.Date From             USR LT DB1.Deposit Date
 IF PAR.Date_From_USR < DB1.Deposit_Date;

 // OR PAR.Date From             USR is Not Entered
 OR PAR.Date_From_USR = *ZERO;

 // PAR.Date From             USR = DB1.Deposit Date
 PAR.Date_From_USR = DB1.Deposit_Date;

 ENDIF;

 // WRK.First Time Flag = CND.NO
 WRK.First_Time_Flag = 'N';

 ENDIF;

 EXECUTE FUNCTION(CRT AR A/R Bank DepPRG CR) TYPE(CRTOBJ) FILE(PDJ2CPP)          AC1595006;
 PARAMETER(DB1.Bank_Code);
 PARAMETER(DB1.Deposit_Date);
 PARAMETER(DB1.Deposit_Time);
 PARAMETER(DB1.Deposit_Amount);
 PARAMETER(DB1.Total_Cash_Applied);
 PARAMETER(DB1.A_R_Processing_Status);
 PARAMETER(DB1.GL_Document_Number);
 PARAMETER(DB1.Number_of_Deposit_Checks);
 PARAMETER(DB1.Number_of_Applied_Checks);
 PARAMETER(DB1.CD_TF_Internal_Batch_Nbr);
 PARAMETER(DB1.CD_TF_Immediate_Fund_Amt);
 PARAMETER(DB1.CD_TF_1_Day_Fund_Amt);
 PARAMETER(DB1.CD_TF_2_Day_Fund_Amt);
 PARAMETER(DB1.CD_SB_Exempt_Immed_Amt);
 PARAMETER(DB1.CD_SB_1_Day_Exempt_Immed);
 PARAMETER(DB1.CD_SB_2_Day_Exempt_Immed);
 PARAMETER(DB1.SBD_Exempt_Total_Amount);
 PARAMETER(DB1.ARBD_Unused_Amt_2);
 PARAMETER(DB1.ARBD_Unused_Amt_3);
 PARAMETER(DB1.ARBD_Unused_Amt_4);
 PARAMETER(DB1.ARBD_Unused_Amt_5);
 PARAMETER(DB1.G_L_Post_Date);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 EXECUTE FUNCTION(DLT AR A/R Bank Dp PRG DL) TYPE(DLTOBJ) FILE(PDJ2CPP)          AC1594948;
 PARAMETER(DB1.Bank_Code);
 PARAMETER(DB1.Deposit_Date);
 PARAMETER(DB1.Deposit_Time);
 {
  //?USER: Processing after Data update

  EXECUTE FUNCTION(Rtv/Dlt Non-A/R PRG    RT) TYPE(RTVOBJ) FILE(ARBKCPP)          AC1594949;
  PARAMETER(DB1.Bank_Code);
  PARAMETER(DB1.Deposit_Date);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(CRT Non-A/R Cash PRG   CR) TYPE(CRTOBJ) FILE(ARBKCPP)          AC1595007;
   PARAMETER(DB1.Bank_Code);
   PARAMETER(DB1.Deposit_Date);
   PARAMETER(DB1.Deposit_Time);
   PARAMETER(DB1.Reference_Field);
   PARAMETER(DB1.Company_Number);
   PARAMETER(DB1.Adjustment_Type_Code);
   PARAMETER(DB1.Transaction_Amount);
   PARAMETER(DB1.A_R_Check_Number);
   PARAMETER(DB1.Explanation);
   PARAMETER(DB1.Transaction_Date_Code);
   PARAMETER(DB1.A_R_Processing_Status);
   PARAMETER(DB1.G_L_Post_Date);
   PARAMETER(DB1.GL_Document_Number);
   PARAMETER(DB1.G_L_ID_Code_JDE);
   PARAMETER(DB1.Effect_on_Account);
   PARAMETER(DB1.EDI_Status_1);
   PARAMETER(DB1.EDI_Status_2);
   PARAMETER(DB1.EDI_Status_3);
   PARAMETER(DB1.Record_Status);
   PARAMETER(DB1.Job_Time);
   PARAMETER(DB1.User_Id);
   PARAMETER(DB1.Job_Name);
   PARAMETER(DB1.Job_Date);
   EXECUTE FUNCTION(DLT Non-A/R Cash       DL) TYPE(DLTOBJ) FILE(ARBKCPP)          AC1112392;
   PARAMETER(DB1.Bank_Code);
   PARAMETER(DB1.Deposit_Date);
   PARAMETER(DB1.Deposit_Time);
   PARAMETER(DB1.Reference_Field);
  }

 }

 CASE;

 // IF PAR.Date In GT DB1.Deposit Date
 IF PAR.Date_In > DB1.Deposit_Date;

 // OR PAR.Date In is not entered
 OR PAR.Date_In = *ZERO;

 // PAR.Date In = DB1.Deposit Date
 PAR.Date_In = DB1.Deposit_Date;

 ENDIF;

}


