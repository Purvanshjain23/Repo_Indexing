// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDZFXFR
// ?Date: 14.08.2025 Time: 03:30:41
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?5/14/01 Output Type from company/customer
// PAR.Error Status = CND.no
PAR.Error_Status = 'N';

EXECUTE FUNCTION(RTV G/L Code/Type      RT) TYPE(RTVOBJ) FILE(CAEOREP)          AC1623096;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Type_Code);
PARAMETER(WRK.G_L_Code);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 // PAR.G/L Code = DB1.G/L Code
 PAR.G_L_Code = DB1.G_L_Code;

 // PAR.Type Code = DB1.Type Code
 PAR.Type_Code = DB1.Type_Code;

}


EXECUTE FUNCTION(RTV Customer Name      RT) TYPE(RTVOBJ) FILE(CABBREP)          AC1108159;
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Customer_Name);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


EXECUTE FUNCTION(RTV Salesperson        RT) TYPE(RTVOBJ) FILE(CAAPREP)          AC1369411;
PARAMETER(PAR.Salesperson_Code);
PARAMETER(PAR.Salesperson_Name);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// PAR.G/L Code = WRK.G/L Code
PAR.G_L_Code = WRK.G_L_Code;

//?Update Error Status=Yes if Customer record did not exist
CASE;

// IF PGM.*Return code is *Record does not exist
IF PGM.*Return_code = 'Y2U0005';

// PAR.Error Status = CND.yes
PAR.Error_Status = 'Y';

ENDIF;

//?Update Error Status=Yes if G/L Code = Blank
CASE;

// IF WRK.G/L Code EQ WRK.BLANK
IF WRK.G_L_Code = WRK.BLANK;

// PAR.Error Status = CND.yes
PAR.Error_Status = 'Y';

ENDIF;

