// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPPPFFR
// ?Date: 14.08.2025 Time: 03:42:25
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Crt CustChgHist       IF) TYPE(EXCINTFUN)                      AC1787202;
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Parent_Customer);
{
 //?Execute internal function

 EXECUTE FUNCTION(Rtv CustChgHist NextRc RT) TYPE(RTVOBJ) FILE(PPB7REP)          AC1787205;
 PARAMETER(LCL.CCH_Sequence_No);
 {
  //?USER: Processing if Data record not found

  // PAR.CCH Sequence No = CON.1
  PAR.CCH_Sequence_No = 1;

  QUIT;

  //?USER: Process Data record

  // PAR.CCH Sequence No = DB1.CCH Sequence No + CON.1
  PAR.CCH_Sequence_No = DB1.CCH_Sequence_No + 1;

  QUIT;

 }

 EXECUTE FUNCTION(Crt CustChgHist       CO) TYPE(CRTOBJ) FILE(PPB7REP)           AC1787169;
 PARAMETER(LCL.CCH_Sequence_No);
 PARAMETER(PAR.Ship_To_Customer);
 PARAMETER(PAR.Parent_Customer);
 PARAMETER('S');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(WRK.Job_Time);
 PARAMETER(WRK.User_Id);
 PARAMETER(WRK.Job_Name);
 PARAMETER(WRK.Job_Date);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Record Stamp CHGOB IF) TYPE(EXCINTFUN)                     AC1283156;
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*PROGRAM
   PAR.Job_Name = JOB.*PROGRAM;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

 }

}


