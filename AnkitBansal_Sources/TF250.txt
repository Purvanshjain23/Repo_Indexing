      *****************  RPG PROGRAM HEADING  ************************
      *
      * SYSTEM:      Triumph Foolds
      * PROGRAM:     TF250 - Inventory: Delete Current Records
      * PROGRAMMER:  LeAnne Ramsey
      * CREATED:     03/27/07
      *
      * Function:    When the Weekly Inventory Close function is run, we call this
      *              program first to delete any records that may already exist for the
      *              'current' week in the files.
      *
      ****************************************************************
      * MODIFICATIONS:
      ****************************************************************
      * DATE      PROGRAMMER
      *
      * 05/21/07  LeAnne Ramsey
      *           Recompile only. Fields added to files:
      *                  Sales Timing Allocation
      *                  Freezer Charges
      *
      * 07/17/07  LeAnne Ramsey
      *           Recompile only. Fields removed from files:
      *                  Sales Timing Allocation
      *                  Freezer Charges
      *
      * 08/08/07  LeAnne Ramsey
      *           Recompile only. "CoOwned" fields removed from file:
      *                  Sales Timing Allocation
      *
      * 12/11/07  LeAnne Ramsey
      *           Recompile only. New "Freezer Interest" fields added to
      *           Freezer Charges file.
      *
      * 01/24/08  LeAnne Ramsey
      *           Added new files/logic for:
      *               1) Sales Timing Allocation Detail
      *               2) Freezer Charges Detail
      *           The new files are basically snapshots of the data we
      *           read/used to produce the existing Sales Timing/Freezer files.
      *           We added the new "detail" files because we were unable to "prove"
      *           the numbers historically (because the data could change after-
      *           the-fact.)
      *
      * 07/03/08  LeAnne Ramsey
      *           Recompile only. The size/decimal positions for the "exception"
      *           fields in TFP151-Sales Timing Detail were increased.
      *
      * 08/15/08  LeAnne Ramsey
      *           Recompile only. Fields in TFP152-Freezer Charges Detail and
      *           TFP052-Freezer Charges were removed from files.
      /eject
      ****************************************************************
      * FILE SPECIFICATIONS
      ****************************************************************
      *
     Ftfp051    uf   e           k disk
      *  Sales timing allocation
      *
      *
     Ftfp151    uf   e           k disk
      *  Sales timing allocation detail
      *
      *
     Ftfp052    uf   e           k disk
      *  Freezer charges
      *
      *
     Ftfp152    uf   e           k disk
      *  Freezer charges detail
      *
      /eject
      ****************************************************************
      * DEFINITION SPECIFICATIONS
      ****************************************************************
      *
      ****************************************************************
      * STANDALONE FIELDS
      ****************************************************************
      *
      *
      ****************************************************************
      * DATA STRUCTURES
      ****************************************************************
      *
      *---------------------------------------------------------------
      * Standard program status data structure
      *---------------------------------------------------------------
      *    externally defined as UTPGFR (record format: PGMDSR)
     D pgmds         esds                  extname(utpgfr)
      *
      *
      *---------------------------------------------------------------
      *  Local data area
      *---------------------------------------------------------------
      *
     d lda            uds                  dtaara(*lda)
     D  ldwedt                29     36  0
      *
      * The following is a dummy C-spec to keep the D-specs from
      * running over into the C-specs on the compile listing. It
      * serves no other purpose and can be deleted at any time.
      *
     C                   if        sdpgm = *blank
     C                   endif
      /EJECT
      ****************************************************************
      * Mainline
      ****************************************************************
      *
      * Sales Timing Allocation
      *
     C     ldwedt        setll     tfp051
      *
     C                   dou       *in90 = *on                                  Do timing
     C     ldwedt        reade     tfp051                                 90
     C                   if        *in90 = *off
     C                   delete    tarec
     C                   endif
     C                   enddo                                                  Do timing
      *
      * Sales Timing Allocation Detail
      *
     C     ldwedt        setll     tfp151
      *
     C                   dou       *in90 = *on                                  Do time dtl
     C     ldwedt        reade     tfp151                                 90
     C                   if        *in90 = *off
     C                   delete    tdrec
     C                   endif
     C                   enddo                                                  Do time dtl
      *
      * Freezer Charges
      *
     C     ldwedt        setll     tfp052
      *
     C                   dou       *in90 = *on                                  Do freezer
     C     ldwedt        reade     tfp052                                 90
     C                   if        *in90 = *off
     C                   delete    fzrec
     C                   endif
     C                   enddo                                                  Do freezer
      *
      * Freezer Charges Detail
      *
     C     ldwedt        setll     tfp152
      *
     C                   dou       *in90 = *on                                  Do freeze dtl
     C     ldwedt        reade     tfp152                                 90
     C                   if        *in90 = *off
     C                   delete    fbrec
     C                   endif
     C                   enddo                                                  Do freezer dtl
      *
     C                   seton                                        lr
      /eject
      *---------------------------------------------------------------
      * Initialization subroutine
      *---------------------------------------------------------------
      *
     C     *inzsr        begsr
      *
      *
     C                   endsr
      /eject
