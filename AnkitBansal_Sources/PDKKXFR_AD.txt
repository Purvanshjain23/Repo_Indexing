// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDKKXFR
// ?Date: 14.08.2025 Time: 03:34:57
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?*** Calculate Next Sequence Number ***
EXECUTE FUNCTION(RTV Highest Seq Number RT) TYPE(RTVOBJ) FILE(PDMDCPP)          AC1511268;
PARAMETER(PAR.LckBx_Number);
PARAMETER(PAR.LckBx_Deposit_Date);
PARAMETER(PAR.LckBx_Deposit_Time);
PARAMETER(PAR.LckBx_Batch_Number);
PARAMETER(PAR.LckBx_Item_Number);
PARAMETER(PAR.LckBx_Seq_Number);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// PAR.LckBx Seq Number = PAR.LckBx Seq Number + CON.1
PAR.LckBx_Seq_Number = PAR.LckBx_Seq_Number + 1;

// PAR.LckBx Seq Counter = CON.1
PAR.LckBx_Seq_Counter = 1;

//?*** Call Create Screen ***
// Call program EDT Lockbox Invoice    E1.
CALL PROGRAM(EDT Lockbox Invoice    E1) ('PDKRE1R');
PARAMETER(PAR.LckBx_Number);
PARAMETER(PAR.LckBx_Deposit_Date);
PARAMETER(PAR.LckBx_Deposit_Time);
PARAMETER(PAR.LckBx_Batch_Number);
PARAMETER(PAR.LckBx_Item_Number);
PARAMETER(PAR.LckBx_Seq_Number);
PARAMETER(PAR.LckBx_Seq_Counter);
PARAMETER(PAR.LckBx_Check_Number);
PARAMETER(PAR.LckBx_Check_Amount);
PARAMETER(PAR.LckBx_Hold_Flag);
PARAMETER(PAR.LckBx_Deposit_Status);
PARAMETER(PAR.LckBx_Total_Inv_Amt_USR);
PARAMETER(PAR.LckBx_Inv_Chk_Diff_USR);

