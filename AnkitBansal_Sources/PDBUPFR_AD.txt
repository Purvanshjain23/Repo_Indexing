// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDBUPFR
// ?Date: 14.08.2025 Time: 12:03:37
// ?------------------------------------------------------------------------------------------------

//?USER: Record selection processing

CASE;

// IF PAR.Component Item Code is Entered
IF PAR.Component_Item_Code <> *ZERO;

CASE;

// IF PAR.Component Item Code NE DB1.Component Item Code
IF PAR.Component_Item_Code <> DB1.Component_Item_Code;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

ENDIF;

//?USER: Process before print of first page format

MOVE *ALL (To: 1PG From: PAR);

CASE;

// IF 1PG.Component Item Code is Entered
IF X1PG_Component_Item_Code <> *ZERO;

EXECUTE FUNCTION(Rtv Item Description   RT) TYPE(RTVOBJ) FILE(CABZREP)          AC1325690;
PARAMETER(X1PG_Component_Item_Code);
PARAMETER(X1PG_Item_Description);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// IF *OTHERWISE
IF *OTHERWISE;

// 1PG.Item Description = CON.*ALL
X1PG_Item_Description = *ALL;

ENDIF;

//?USER: Print required level headings

CASE;

IF NEW Company_Number;
// Print Company Number header format
PRINT Company Number header format;

ENDIF;

CASE;

IF NEW Component_Item_Code;
// Print Component Item Code header format
PRINT Component Item Code header format;

ENDIF;

//?USER: Process before print of detail format

EXECUTE FUNCTION(Rtv Item Description   RT) TYPE(RTVOBJ) FILE(CABZREP)          AC1325690;
PARAMETER(CUR.Item_Code);
PARAMETER(CUR.Item_Description);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


//?USER: Print required level totals

// SUPPRESSED PRINT Component Item Code totals format

// SUPPRESSED PRINT Company Number totals format

