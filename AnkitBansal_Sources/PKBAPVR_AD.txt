// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKBAPVR
// ?Date: 14.08.2025 Time: 02:51:06
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?Modifications and Comments
DO;

//? 1/10/2019 JBB E14234 - Repayment Enhancements - Phase 2
//?- When F3 pressed, pass back "*User Quit requested" return code
//?E3851 JJH 01/21/15 - Remove Carcass Detail
//?-Remove the Default for the Remove Carcass Detail.  This will
//? require user to enter *No or *Yes.
//?-Display the following Text if Remove Carcass Detail = Y
//? **** SAVE CARCASS DETAIL (PKB1CPP) BEFORE PROCEEDING ****
//?-Remove Input Parameters for Buy Order Header
//?-Remove Input Parameter for Re-Pay 1 Tattoo RsqbyUsr
ENDDO;

//?USER: Load screen

//?E3851 JJH 01/21/15 - Remove the Default for the Remove Carcass
//? Detail.  This will require user to enter *No or *Yes.
//?USER: User defined action

// Call program Chg Re-Evl UnpTatCarc XF.
CALL PROGRAM(Chg Re-Evl UnpTatCarc XF) ('PLWSXFR');
PARAMETER(DTL.BOH_Company_Number);
PARAMETER(DTL.TH_Tattoo_Number);
PARAMETER(DTL.TH_Kill_Date);
PARAMETER(DTL.PD_Producer_Code);
PARAMETER(DTL.PL_Location_Code);
PARAMETER('T');
PARAMETER(DTL.Kill_Date_2_USR);
PARAMETER(DTL.Carcass_Detail_Remove_Usr);

//?USER: Exit program processing

//?If user presses F3, set return code and exit program directly
CASE;

// IF DTL.*CMD key is *Exit
IF DTL.*CMD_key = '03';

// PGM.*Return code = CND.*User QUIT requested
PGM.*Return_code = 'Y2U9999';

RETURN;

ENDIF;

