// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PODEXFR
// ?Date: 14.08.2025 Time: 03:36:47
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Read all rcds to purge) TYPE(RTVOBJ) FILE(PDMACPP)             AC1594849;
PARAMETER(PAR.LckBx_Deposit_Date);
PARAMETER(PAR.Date_From_USR);
PARAMETER(PAR.Date_In);
{
 //?USER: Initialize routine

 // WRK.First Time Flag = CND.Yes
 WRK.First_Time_Flag = 'Y';

 //?USER: Process Data record

 //?First Time processing Only
 CASE;

 // IF WRK.First Time Flag is Yes
 IF WRK.First_Time_Flag = 'Y';

 // PAR.Date From             USR = DB1.LckBx Deposit Date
 PAR.Date_From_USR = DB1.LckBx_Deposit_Date;

 // WRK.First Time Flag = CND.NO
 WRK.First_Time_Flag = 'N';

 ENDIF;

 EXECUTE FUNCTION(CRT A/R Lockbox Dp PRG CR) TYPE(CRTOBJ) FILE(PDMACPP)          AC1594991;
 PARAMETER(DB1.LckBx_Number);
 PARAMETER(DB1.LckBx_Deposit_Date);
 PARAMETER(DB1.LckBx_Deposit_Time);
 PARAMETER(DB1.LckBx_Dpst_Nbr_of_Batches);
 PARAMETER(DB1.LckBx_Dpst_Nbr_of_Checks);
 PARAMETER(DB1.LckBx_Deposit_Amount);
 PARAMETER(DB1.LckBx_Deposit_Status);
 EXECUTE FUNCTION(DLT A/R Lockbox DpsPRG DL) TYPE(DLTOBJ) FILE(PDMACPP)          AC1594946;
 PARAMETER(DB1.LckBx_Number);
 PARAMETER(DB1.LckBx_Deposit_Date);
 PARAMETER(DB1.LckBx_Deposit_Time);
 {
  //?USER: Processing after Data update

  EXECUTE FUNCTION(RTV & DLT Lckbx Batch  RT) TYPE(RTVOBJ) FILE(PDMBCPP)          AC1509836;
  PARAMETER(DB1.LckBx_Number);
  PARAMETER(DB1.LckBx_Deposit_Date);
  PARAMETER(DB1.LckBx_Deposit_Time);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(CRT A/R Lockbx BtchPRG CR) TYPE(CRTOBJ) FILE(PDMBCPP)          AC1595003;
   PARAMETER(DB1.LckBx_Number);
   PARAMETER(DB1.LckBx_Deposit_Date);
   PARAMETER(DB1.LckBx_Deposit_Time);
   PARAMETER(DB1.LckBx_Batch_Number);
   PARAMETER(DB1.LckBx_Batch_Nbr_of_Checks);
   PARAMETER(DB1.LckBx_Batch_Amount);
   PARAMETER(DB1.LckBx_Location);
   EXECUTE FUNCTION(DLT A/R Lockbox Batch  DL) TYPE(DLTOBJ) FILE(PDMBCPP)          AC1507053;
   PARAMETER(DB1.LckBx_Number);
   PARAMETER(DB1.LckBx_Deposit_Date);
   PARAMETER(DB1.LckBx_Deposit_Time);
   PARAMETER(DB1.LckBx_Batch_Number);
  }

  EXECUTE FUNCTION(RTV & DLT Lckbox Check RT) TYPE(RTVOBJ) FILE(PDMCCPP)          AC1509837;
  PARAMETER(DB1.LckBx_Number);
  PARAMETER(DB1.LckBx_Deposit_Date);
  PARAMETER(DB1.LckBx_Deposit_Time);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(CRT A/R Lockbox ChcPRG CR) TYPE(CRTOBJ) FILE(PDMCCPP)          AC1595004;
   PARAMETER(DB1.LckBx_Number);
   PARAMETER(DB1.LckBx_Deposit_Date);
   PARAMETER(DB1.LckBx_Deposit_Time);
   PARAMETER(DB1.LckBx_Batch_Number);
   PARAMETER(DB1.LckBx_Item_Number);
   PARAMETER(DB1.LckBx_Check_Number);
   PARAMETER(DB1.LckBx_Check_Date);
   PARAMETER(DB1.LckBx_Check_Amount);
   PARAMETER(DB1.LckBx_Customer_Number);
   PARAMETER(DB1.LckBx_Customer_Name);
   PARAMETER(DB1.LckBx_Invoice_Flag);
   PARAMETER(DB1.LckBx_Hold_Flag);
   EXECUTE FUNCTION(DLT A/R Lockbox Check  DL) TYPE(DLTOBJ) FILE(PDMCCPP)          AC1507056;
   PARAMETER(DB1.LckBx_Number);
   PARAMETER(DB1.LckBx_Deposit_Date);
   PARAMETER(DB1.LckBx_Deposit_Time);
   PARAMETER(DB1.LckBx_Batch_Number);
   PARAMETER(DB1.LckBx_Item_Number);
  }

  EXECUTE FUNCTION(RTV & DLT Lckbx Invoic RT) TYPE(RTVOBJ) FILE(PDMDCPP)          AC1509844;
  PARAMETER(DB1.LckBx_Number);
  PARAMETER(DB1.LckBx_Deposit_Date);
  PARAMETER(DB1.LckBx_Deposit_Time);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(CRT A/R Lockbox InvPRG CR) TYPE(CRTOBJ) FILE(PDMDCPP)          AC1595005;
   PARAMETER(DB1.LckBx_Number);
   PARAMETER(DB1.LckBx_Deposit_Date);
   PARAMETER(DB1.LckBx_Deposit_Time);
   PARAMETER(DB1.LckBx_Batch_Number);
   PARAMETER(DB1.LckBx_Item_Number);
   PARAMETER(DB1.LckBx_Seq_Number);
   PARAMETER(DB1.LckBx_Seq_Counter);
   PARAMETER(DB1.LckBx_Invoice_Number);
   PARAMETER(DB1.LckBx_Invoice_Amount);
   PARAMETER(DB1.Company_Number);
   PARAMETER(DB1.Adjustment_Type_Code);
   PARAMETER(DB1.LckBx_Trans_Source);
   PARAMETER(DB1.Explanation);
   EXECUTE FUNCTION(DLT A/R Lockbox Invoic DL) TYPE(DLTOBJ) FILE(PDMDCPP)          AC1507062;
   PARAMETER(DB1.LckBx_Number);
   PARAMETER(DB1.LckBx_Deposit_Date);
   PARAMETER(DB1.LckBx_Deposit_Time);
   PARAMETER(DB1.LckBx_Batch_Number);
   PARAMETER(DB1.LckBx_Item_Number);
   PARAMETER(DB1.LckBx_Seq_Number);
   PARAMETER(DB1.LckBx_Seq_Counter);
  }

 }

 // PAR.Date In = DB1.LckBx Deposit Date
 PAR.Date_In = DB1.LckBx_Deposit_Date;

}


