// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKZZXFR
// ?Date: 14.08.2025 Time: 02:50:56
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and comments
DO;

//?H16853 ISE 11/09/2020 - Recompiled due to change in Buy Order Number
ENDDO;

EXECUTE FUNCTION(Upd Kill Date         RT) TYPE(RTVOBJ) FILE(PKAZREP)           AB1171564;
PARAMETER(PAR.CC_Company_Number);
{
 //?USER: Process Data record

 //?Based on curent date Get Next Current Kill date
 // Call program Rtv Nxt Kill Dt 2 OMS XF.
 CALL PROGRAM(Rtv Nxt Kill Dt 2 OMS XF) ('PDUXXFR');
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(DB1.Current_Kill_Date);
 PARAMETER(WRK.Current_Kill_Date);

 //?Based on Payment date Get Next Current Kill date Next (Next) Kill date
 // Call program Rtv Nxt Kill Dt 2 OMS XF.
 CALL PROGRAM(Rtv Nxt Kill Dt 2 OMS XF) ('PDUXXFR');
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(WRK.Current_Kill_Date);
 PARAMETER(WRK.Next_Kill_Date);

 EXECUTE FUNCTION(Chg Cur/Nxt Dates     CH) TYPE(CHGOBJ) FILE(PKAZREP)           AB1153374;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(WRK.Current_Kill_Date);
 PARAMETER(WRK.Next_Kill_Date);
 PARAMETER(DB1.Current_Production_Date);
 PARAMETER(DB1.Next_Production_Date);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

}


