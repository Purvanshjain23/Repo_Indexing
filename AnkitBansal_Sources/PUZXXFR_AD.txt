// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUZXXFR
// ?Date: 14.08.2025 Time: 03:51:46
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV Co Frm AR Hdr) TYPE(RTVOBJ) FILE(PDNHCPP)                  AC2215455;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Invoice_Number);
PARAMETER(PAR.Invoice_Suffix);
PARAMETER(PAR.Company);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 //?USER: Process Data record

 EXECUTE FUNCTION(RTV Company by Refernc#RT) TYPE(RTVOBJ) FILE(ARBDCPP)          AC2135829;
 PARAMETER(DB1.Reference_Number);
 PARAMETER(LCL.Company);
 {
  //?USER: Initialize routine

  // PAR.Company Number = CON.*ZERO
  PAR.Company_Number = *ZERO;

  //?USER: Process Data record

  // PAR.Company Number = DB1.Company Number
  PAR.Company_Number = DB1.Company_Number;

  QUIT;

 }

 //?** Move Spread Company back otherwise move same company.
 CASE;

 // IF PAR.Company Number NE LCL.Company
 IF PAR.Company_Number <> LCL.Company;

 // PAR.Company = LCL.Company
 PAR.Company = LCL.Company;

 //?** Move Spread Company back otherwise move same company.
 // IF *OTHERWISE
 IF *OTHERWISE;

 // PAR.Company = PAR.Company Number
 PAR.Company = PAR.Company_Number;

 ENDIF;

 QUIT;

}


