// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for POCXXFR
// ?Date: 14.08.2025 Time: 03:36:45
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?***** Change Log and Comments
DO;

//?** 01/30/2008 LJB FP1009 Post Install Changes
//?** Pass in the "Purge To Library" from the Purge Control Group
//?** file
//?** 08/06/2007 LJB FP1009
//?** Change input parms from Library, Date From, Date In, Company#
//?** Add rtv to pass purge file info to the post program
//?** Change RTV of POST RT Prg & Tape Files from con.ardtl,
//?** con.arbdcpp, library, date from, date in
ENDDO;

EXECUTE FUNCTION(Post Prg & Tape Files  RT) TYPE(RTVOBJ) FILE(PDLQREP)          AC1593319;
PARAMETER(PAR.PCG_Code);
PARAMETER(PAR.Purge_Application_Code);
PARAMETER(PAR.PCG_From_Library);
PARAMETER(PAR.Date_From_USR);
PARAMETER(PAR.To_Library_USR);
{
 //?USER: Initialize routine

 //?***** Change Log and comments
 DO;

 //?** 01/30/2008 LJB FP1009 Post Install Changes
 //?** Pass in the "Purge To Library" from the Purge Control Group
 ENDDO;

 //?USER: Process Data record

 CASE;

 // IF DB1.Record Status is Active
 IF DB1.Record_Status = 'A';

 // Call program Post Purge Operations CL.
 CALL PROGRAM(Post Purge Operations CL) ('PRGPSTO');
 PARAMETER(PAR.PCG_Code);
 PARAMETER(PAR.PCG_From_Library);
 PARAMETER(PAR.Purge_Application_Code);
 PARAMETER(DB1.File_Name);
 PARAMETER(DB1.Purge_Tape_Physical);
 PARAMETER(JOB.*Job_date);
 PARAMETER(PAR.To_Library_USR);

 ENDIF;

}


