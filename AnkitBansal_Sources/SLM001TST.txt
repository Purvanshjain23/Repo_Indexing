/*  PROGRAM NUMBER:  SLM001TST  COME BACK AND CHANGE NAME          */
/*  PROGRAM TITLE:   Send the options that is being requested      */
/*  PROGRAM NAME:    Select the Year 2007 - 2018                   */
/*                   each enviorments is by year                   */
/*                                                                 */
/*  PROGRAMMER:      Susan Mason                                   */
/*  CREATE DATE:     08/22/19                                      */
/*  ************     ********************************************* */
/*                                                                 */
/*  FUNCTION:        For Guymon only at this time 360 company      */
/*                   this cl was developed to allow the user       */
/*                   to pick which year and the year will be       */
/*                   history that we will be using in the          */
/*                   enviorment that has been restore from tape    */
/*                   Year 2007 - 2018                              */
/*                                                                 */
/*                   Help desk will restore each yearly libs       */
/*                   Tapes will restore to 07 - 18 enviorments     */
/*                   *note when requested we will do 960 and 440   */
/*                                                                 */
/*                   Then the option will state which report to    */
/*                   run,                                          */
/* &OPTION                                                         */
/*   1 HOG PROCUREMENT PERF. REPORT PKUDPVR ' '                    */
/*   3 HOG POPULATION REPORT PKUUPVR ' '                           */
/*   5 PURCHASE JOURNAL BY DATE PKUDFVR ' '                        */
/*******************************************************************/
/*  Modification History                                           */
/*  8/6/2019  Creation Susan L, Blakey                             */
/*******************************************************************/
             PGM        PARM(&OPTION)

             DCL        VAR(&OPTION) TYPE(*CHAR) LEN(2)
             DCL        VAR(&YEARLY) TYPE(*DEC) LEN(4)
             DCL        VAR(&CO) TYPE(*DEC) LEN(3) VALUE(000)
             DCL        VAR(&TEXT) TYPE(*CHAR) LEN(50)

/*PERFORM PSHLIBL TO KEEP THE LIBRARY LIST BEFORE WE START.       */
             PSHLIBL


             CALL       PGM(PWJNPVR) PARM(' ' &YEARLY &CO)


             IF         COND(&CO *EQ 360) THEN(DO)
/*  SETLIBL FOR 360                                               */
             SETLIBL PRKTSTGUP
             DSPLIBL    OUTPUT(*PRINT)
YEAR2018:
/*           ADDLIBLE   LIB(PRKFGUP18) POSITION(*BEFORE PRKFTSTGUP)*/
             IF         COND(&YEARLY *EQ 2018) THEN(DO)
             CHGVAR     VAR(&TEXT) VALUE('Yearly 2018 and enviorment +
                          is PRKFGUP18,PRKPLIB18, PRKFLIB18')
/*           ADDLIBLE   LIB(PRKPLIB18) POSITION(*BEFORE PRKPLIB))  */
/*           ADDLIBLE   LIB(PRKFLIB18) POSITION(*BEFORE TPMTESTF)  */
             DSPLIBL    OUTPUT(*PRINT)

             GOTO RUNRPTS

             ENDDO
             ENDDO
/*  SETLIBL FOR 960                                               */
             IF         COND(&CO *EQ 960) THEN(DO)
             SETLIBL PRKTSTTFP
/*           ADDLIBLE   LIB(PRKPLIB18) POSITION(*BEFORE PRKPLIB))  */
/*           ADDLIBLE   LIB(PRKFLIB18) POSITION(*BEFORE TPMTESTF)  */
/*           ADDLIBLE   LIB(PRKFTFP18) POSITION(*BEFORE PRKFTSTTFP)*/
             DSPLIBL    OUTPUT(*PRINT)

             GOTO RUNRPTS

             ENDDO
/*  SETLIBL FOR 440                                               */
             IF         COND(&CO *EQ 440) THEN(DO)
             SETLIBL PRKTSTSTP
/*           ADDLIBLE   LIB(PRKPLIB18) POSITION(*BEFORE PRKPLIB))  */
/*           ADDLIBLE   LIB(PRKFLIB18) POSITION(*BEFORE TPMTESTF)  */
/*           ADDLIBLE   LIB(PRKFSTP18) POSITION(*BEFORE PRKFTSTSTP)*/
             DSPLIBL    OUTPUT(*PRINT)

             GOTO RUNRPTS

             ENDDO

RUNRPTS:

/*   NOW test the reporting                                      */
/*   Add the first option                                        */
IF COND(&OPTION *EQ '01') THEN(DO)
/***   1 Hog Procurement Perf. Report PKUDPVR ' '              ***/
              CALL PKUDPVR ''
              ENDDO
IF COND(&OPTION *EQ '03') THEN(DO)
/***   3 Hog Population Report PKUUPVR ' '                     ***/
              CALL PKUUPVR ''
              ENDDO
IF COND(&OPTION *EQ '05') THEN(DO)
/***   5 Purchase Journal by Date PKUDFVR ' '                  ***/
              CALL PKUDFVR ''
              ENDDO

/*   Now push the library list back                              */

             POPLIBL
             DSPLIBL    OUTPUT(*PRINT)

ENDPGM
