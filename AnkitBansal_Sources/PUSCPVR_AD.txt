// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUSCPVR
// ?Date: 14.08.2025 Time: 03:51:14
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?Modification history
DO;

//?12/17/2020 JBB E17024 - Copy Warehouse
//?                        Function created.  Copy from an existing
//?                        warehouse to a new warehouse.
ENDDO;

//?USER: Load screen

MOVE *ALL (To: DTL From: PAR);

// DTL.Warehouse Type Desc. = Condition name of DTL.Warehouse Type
DTL.Warehouse_Type_Desc = RTVCND(DTL.Warehouse_Type);

//?USER: Validate relations

//?Validate new Warehouse Code
CASE;

// IF DTL.Warehouse Code Assigned is Not Blanks
IF DTL.Warehouse_Code_Assigned <> *BLANK;

EXECUTE FUNCTION(Chk Warehouse Exists  RT) TYPE(RTVOBJ) FILE(CAADREP)           AC2178308;
PARAMETER(DTL.Warehouse_Code_Assigned);

//?If Warehouse Code already exists, send error message
CASE;

// IF PGM.*Return code is *Normal
IF PGM.*Return_code = *BLANK;

// Send error message - 'Warehouse &1 already exists.'
ERROR(USR5199);
MSGPARM(DTL.Warehouse_Code_Assigned);

ENDIF;

ENDIF;

//?USER: User defined action

// Call program EDT Warehouse         E1.
CALL PROGRAM(EDT Warehouse         E1) ('PDYPE1R');
PARAMETER(DTL.Warehouse_Code_Assigned);
PARAMETER(PAR.Warehouse_Type);
PARAMETER('Y');
PARAMETER(DTL.Warehouse_Code);

