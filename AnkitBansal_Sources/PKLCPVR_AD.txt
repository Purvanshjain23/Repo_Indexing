// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKLCPVR
// ?Date: 14.08.2025 Time: 02:49:51
// ?------------------------------------------------------------------------------------------------

//?USER: Validate fields

CASE;

// IF DTL.Year USR is GT 1990
IF DTL.Year_USR > 1990;

// IF *OTHERWISE
IF *OTHERWISE;

// Send error message - 'Please enter the 4-digit year.'
ERROR(PRK0839);
MSGPARM(DTL.Year_USR);

ENDIF;

//?USER: User defined action

// WRK.Year Alpha Usr = DTL.Year USR
WRK.Year_Alpha_Usr = DTL.Year_USR;

// DTL.Year 2 USR = SUBSTRING(WRK.Year Alpha Usr,CON.3,CON.2)
DTL.Year_2_USR = SUBSTRING(WRK.Year_Alpha_Usr:3:2);

// Call program Zzz Calendar Week     XF.
CALL PROGRAM(Zzz Calendar Week     XF) ('PKLDXFR');
PARAMETER(DTL.Year_2_USR);
PARAMETER(DTL.Company_Number_USR);

