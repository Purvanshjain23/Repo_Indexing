// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBSWXFR
// ?Date: 14.08.2025 Time: 03:49:17
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(CNV Trd Prtnr-1 time   RT) TYPE(RTVOBJ) FILE(PDNEREP)          AC2111438;
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 CASE;

 // IF DB1.EDI Trading Partner No. is Entered
 IF DB1.EDI_Trading_Partner_No <> *BLANK;

 EXECUTE FUNCTION(CRT Trade Partner Ctrl CR) TYPE(CRTOBJ) FILE(PBB8REP)          AC2111387;
 PARAMETER(DB1.EDI_Trading_Partner_No);
 PARAMETER('A');
 PARAMETER('N');
 PARAMETER(LCL.Live_w_EDI_Auto_Orders);
 PARAMETER(LCL.Use_PO_Price);
 PARAMETER(LCL.Hold_856_f_Cust_Asgn_App#);
 PARAMETER(LCL.Hold_856_f_Carr_PRO);
 PARAMETER(LCL.Requested_Delv_Time_Dflt);
 PARAMETER(LCL.Invoice_810_Crt_VN_Name);
 PARAMETER(LCL.ASN_856_Crt_VN_Name);
 PARAMETER(LCL.Check_856_Error_Pallet_0);
 PARAMETER(LCL.TPC_Unused_Status_3_2);
 PARAMETER(LCL.TPC_Unused_Status_3_3);
 PARAMETER(LCL.TPC_Unused_Status_6_1);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
  PARAMETER(DB1.Create_Time);
  PARAMETER(DB1.Create_User);
  PARAMETER(DB1.Create_Program);
  PARAMETER(DB1.Create_Date);
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  //?USER: Processing if Data record already exists

  // PGM.*Return code = CND.*Record already exists
  PGM.*Return_code = 'Y2U0003';

  //?USER: Processing if Data update error

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

 }

 ENDIF;

}


