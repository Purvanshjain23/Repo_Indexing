// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBVRPVR
// ?Date: 14.08.2025 Time: 03:49:31
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?Modifications and Comments
DO;

//?01/21/16 JJH E4890 - 960/COPACK Item Balance Warehouses Report
//?- This function lists all Item Balance Warehouses for Accounting
//?  Company = 960 and Item Structure Type = 900 (COPACK)
//?- Remove Item Balance Warehouses? option allows the requestor
//?  to print or print and remove the Item Balance Warehouses.
ENDDO;

//?USER: Load screen

// DTL.Company Number Select = CND.St. Joseph
DTL.Company_Number_Select = 960;

EXECUTE FUNCTION(Company Name DRV) TYPE(DRVFLD)                                 AC1532476;
PARAMETER(DTL.Company_Name_DRV);
PARAMETER(DTL.Company_Number_Select);
{
 //?Calculate derived field

 EXECUTE FUNCTION(RTV Company Name       RT) TYPE(RTVOBJ) FILE(CAABREP)          AC1255767;
 PARAMETER(PAR.Company_Number);
 PARAMETER(PAR.Company_Name_DRV);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


// DTL.Item Structure Type Code = CND.EQ 900
DTL.Item_Structure_Type_Code = 900;

EXECUTE FUNCTION(RTV  Description       RT) TYPE(RTVOBJ) FILE(OME8REP)          AC1219219;
PARAMETER(DTL.Item_Structure_Type_Code);
PARAMETER(DTL.Item_Structure_Type_Desc);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 MOVE *ALL (To: PAR From: DB1);

}


// DTL.Remove Records Flag = CND.No
DTL.Remove_Records_Flag = 'N';

//?USER: User defined action

// Call program Zzz ItmBal 960/COPACK PF.
CALL PROGRAM(Zzz ItmBal 960/COPACK PF) ('PBVQPFR');
PARAMETER(DTL.Item_Structure_Type_Code);
PARAMETER(DTL.Company_Number_Select);
PARAMETER(DTL.Remove_Records_Flag);

