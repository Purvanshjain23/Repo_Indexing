// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBCZXFR
// ?Date: 14.08.2025 Time: 03:47:28
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV Match Cust RecSts  RT) TYPE(RTVOBJ) FILE(PDJYREP)          AC2041468;
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.USR_Return_Code);
{
 //?USER: Process Data record

 // WRK.USR Return Code = CND.Does Not Exist
 WRK.USR_Return_Code = 'N';

 // Call program Zzz Assoc Cust RecSts  XF.
 CALL PROGRAM(Zzz Assoc Cust RecSts  XF) ('PBC0XFR');
 PARAMETER(PAR.Ship_To_Customer);
 PARAMETER(DB1.Company_Number);
 PARAMETER(PAR.USR_Return_Code);

 CASE;

 // IF PAR.USR Return Code NE WRK.USR Blank Field
 IF PAR.USR_Return_Code <> WRK.USR_Blank_Field;

 // AND PAR.USR Return Code NE WRK.USR Return Code
 AND PAR.USR_Return_Code <> WRK.USR_Return_Code;

 QUIT;

 ENDIF;

}


CASE;

// IF PAR.USR Return Code is Not Returned
IF PAR.USR_Return_Code = *BLANK;

// OR PAR.USR Return Code is Does Not Exist
OR PAR.USR_Return_Code = 'N';

//?** Update record status of associated files as well as Customer
//?** if usr return code is blanks or is "N"
// Call program UPD Match Cust RecSts  XF.
CALL PROGRAM(UPD Match Cust RecSts  XF) ('PBCXXFR');
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Record_Status);

ENDIF;

