// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKM2XFR
// ?Date: 14.08.2025 Time: 02:52:13
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Cnv HPE099            RT) TYPE(RTVOBJ) FILE(PKAFREP)           AB1204742;
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

 //?Fax to Location
 CASE;

 // IF DB1.PL Fax Status EQ WRK.Blank USR
 IF DB1.PL_Fax_Status = WRK.Blank_USR;

 // PAR.PL Fax Status = CND.No
 PAR.PL_Fax_Status = 'N';

 ENDIF;

 //?Print Carcass Summary
 CASE;

 // IF DB1.PL Print Carcass Summary EQ WRK.Blank USR
 IF DB1.PL_Fax_Carcass_Summary = WRK.Blank_USR;

 // PAR.PL Print Carcass Summary = CND.Yes
 PAR.PL_Fax_Carcass_Summary = 'Y';

 ENDIF;

 //?Print Carcass Summary Analysis
 CASE;

 // IF DB1.PL Print Crc Sum Analysis EQ WRK.Blank USR
 IF DB1.PL_Unused = WRK.Blank_USR;

 // PAR.PL Print Crc Sum Analysis = CND.No
 PAR.PL_Unused = 'N';

 ENDIF;

 //?Print Carcass Detail
 CASE;

 // IF DB1.PL Print Carcass Detail EQ WRK.Blank USR
 IF DB1.PL_Fax_Carcass_Detail = WRK.Blank_USR;

 // PAR.PL Print Carcass Detail = CND.Yes
 PAR.PL_Fax_Carcass_Detail = 'Y';

 ENDIF;

 //?Fax To Producer
 CASE;

 // IF DB1.PL Fax to Producer EQ WRK.Blank USR
 IF DB1.PL_Fax_to_Producer = WRK.Blank_USR;

 // PAR.PL Fax to Producer = CND.No
 PAR.PL_Fax_to_Producer = 'N';

 ENDIF;

 //?Fax Sequence
 CASE;

 // IF DB1.PL Producer Fax Sequence EQ WRK.Blank USR
 IF DB1.PL_Producer_Fax_Sequence = WRK.Blank_USR;

 // PAR.PL Producer Fax Sequence = CND.Ninth
 PAR.PL_Producer_Fax_Sequence = 9;

 ENDIF;

 EXECUTE FUNCTION(Cnv HPE099            CH) TYPE(CHGOBJ) FILE(PKAFREP)           AB1204743;
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.PL_Location_Code);
 PARAMETER(PAR.PL_Fax_Status);
 PARAMETER(PAR.PL_Fax_Carcass_Summary);
 PARAMETER(PAR.PL_Unused);
 PARAMETER(PAR.PL_Fax_Carcass_Detail);
 PARAMETER(PAR.PL_Fax_to_Producer);
 PARAMETER(PAR.PL_Producer_Fax_Sequence);
}


