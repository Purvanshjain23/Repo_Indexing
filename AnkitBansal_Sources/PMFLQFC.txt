PGM       PARM(&RTNCDE &FUNCTION)
/*T: Customer EXT              V-BillTo/ShpTo */
/*Z: CRTCLPGM */

/*H: Generated by AllFusion 2E release 2ECBLTYP ( 1250) */
/*H: Company       : OMS Development Model */
/*H: System        : OMS Development Model */
/*H: User name     : ISLBUSE */
/*H: Date          : 02/26/09  Time  : 11:37:19 */
/*H: Copyright     : OMS Development Model */
/*H:  */
/*============================================================*/
/*M: Maintenance   : */
/*============================================================*/
DCL       &RTNCDE        *CHAR     7    /* O: Return Code */
DCL       &FUNCTION      *CHAR     3    /* I: Requested function */
DCL       &MSGDTA        *CHAR     132
DCL       &MSGID         *CHAR     7
DCL       &MSGF          *CHAR     10
DCL       &MSGFLIB       *CHAR     10

          MONMSG MSGID(CPF0000) EXEC(GOTO ERROR)

          CHGVAR &RTNCDE ' '
          CHGVAR &MSGID  ' '

          IF   (&FUNCTION = OPN) +
          THEN(DO)
             OPNQRYF +
               FILE(PDNEREL6) +
               OPTION(*INP) +
               FORMAT(PDNEREQ6) +
               KEYFLD( +
                      NEANC7 +
                      NEBKC7 +
                   ) +
               UNIQUEKEY(*NONE) +
               OPTIMIZE(*ALLIO  ) +
               SEQONLY(*NO) +
               TYPE(*PERM)
          ENDDO
          ELSE DO
             CLOF OPNID(PDNEREL6)
          ENDDO

EXITPGM:
          IF (&MSGID¬= ' ') DO
             SNDPGMMSG MSGID(&MSGID) +
                       MSGF(&MSGFLIB/&MSGF) +
                       MSGDTA(&MSGDTA) +
                       MSGTYPE(*ESCAPE)
             MONMSG MSGID(CPF0000)
          ENDDO
          RMVMSG CLEAR(*ALL)
          MONMSG MSGID(CPF0000)
          RETURN

ERROR:
          CHGVAR &RTNCDE YYY9999
          RCVMSG MSGTYPE(*EXCP) +
                 MSGDTA(&MSGDTA) MSGID(&MSGID) +
                 MSGF(&MSGF) MSGFLIB(&MSGFLIB)
          MONMSG MSGID(CPF0000)

          GOTO EXITPGM
ENDPGM
