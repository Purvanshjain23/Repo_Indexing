// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLQCDFR
// ?Date: 14.08.2025 Time: 02:55:07
// ?------------------------------------------------------------------------------------------------

//?USER: Process subfile record (Pre-confirm)

CASE;

// IF RCD.*SFLSEL is Select Option 1
IF RCD.*SFLSEL = '1'/'1';

EXECUTE FUNCTION(Rtv Sub-Contract Info RT) TYPE(RTVOBJ) FILE(PKAQCPP)           AB1110451;
PARAMETER(RCD.PC_Contract_Code);
PARAMETER(RCD.PSC_Sub_Contract_Code);
PARAMETER(NLL.PSC_Sub_Contract_Type);
PARAMETER(NLL.PSC_Commodity_Market_Code);
PARAMETER(NLL.PSC_Commodity_Price_Group);
PARAMETER(NLL.PSC_Mkt_+_or);
PARAMETER(WRK.PSC_Market_Date_Method);
PARAMETER(WRK.GN_Genetic_Code);
PARAMETER(WRK.PO_Option_Code);
PARAMETER(WRK.CMP_Program_Code);
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// Call program Clc Base Mkt Price    XF.
CALL PROGRAM(Clc Base Mkt Price    XF) ('PKJ7XFR');
PARAMETER(WRK.BOH_Market_Add_Deduct);
PARAMETER(WRK.BOH_Quote_Price_Type);
PARAMETER(WRK.BOH_Quoted_Base_Mkt_Price);
PARAMETER(WRK.BOH_Commodity_Market_Code);
PARAMETER(WRK.BOH_Commodity_Price_Group);
PARAMETER('CUR');
PARAMETER(RCD.PC_Contract_Code);
PARAMETER(RCD.PSC_Sub_Contract_Code);
PARAMETER('MMP');
PARAMETER(WRK.CMP_Program_Code);
PARAMETER(960);
PARAMETER(WRK.BOH_Buy_Order_Number);
PARAMETER(WRK.BOL_Load_Number);
PARAMETER(WRK.TH_Tattoo_Number);
PARAMETER(WRK.TH_Kill_Date);
PARAMETER(WRK.TH_Purchase_Date);
PARAMETER(WRK.TH_Live_Wgt);
PARAMETER(WRK.TH_CM_Base_Mkt_Price);
PARAMETER(WRK.PSC_Floor_Price);
PARAMETER(WRK.PSC_Ceiling_Price);
PARAMETER(WRK.PSC_Market_Percent_NU);
PARAMETER(WRK.PSC_Mkt_Percent);
PARAMETER(WRK.Market_Price_USR);
PARAMETER(WRK.Pricing_UOM_USR);
PARAMETER(WRK.Pricing_Date_USR);

ENDIF;

