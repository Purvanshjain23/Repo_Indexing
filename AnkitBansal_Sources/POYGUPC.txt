/********************************************************************/
/*                                                                  */
/*  SYNOPSIS -  PRINT YIELD REPORTS                                 */
/*                                                                  */
/*  SYSTEM    - YIELD REPORTING                                     */
/*  DATE      - 07/12/03                                            */
/*                                                                  */
/********************************************************************/
/*                       MAINTENANCE LOG                            */
/*------------------------------------------------------------------*/
/* 99/99/99 XXX XXXXXXXXXXXXX                                       */
/*                                                                  */
/*                                                                  */
/********************************************************************/

 POL3UPC:    PGM        PARM(&PRTF &PGM &OUTQ &HOLD &SAVE &COPIES +
                          &COMPN &DEPT &PDTE &SHIFT &PDTE2 &SHIFT2)

/* INPUT PARMS */
        DCL    &PRTF       *CHAR   (10)          /* PRINT FILE                */
        DCL    &PGM        *CHAR   (10)          /* PROGRAM NAME              */
        DCL    &OUTQ       *CHAR   (10)          /* Output Queue              */
        DCL    &HOLD       *CHAR   (4)           /* Hold Status               */
        DCL    &SAVE       *CHAR   (4)           /* Save Status               */
        DCL    &COPIES    *DEC    (2 0)           /*  # OF COPIES   */
        DCL    &COMPN      *DEC   (3 0)          /* Company Number (PASSED)   */
        DCL    &DEPT       *CHAR  (6)            /* DEPARTMENT   */
        DCL    &PDTE       *DEC   (7 0)          /* PROD DATE    */
        DCL    &SHIFT      *CHAR  (1)            /* PROD DATE    */
        DCL    &PDTE2      *DEC   (7 0)          /* PROD DATE    */
        DCL    &SHIFT2     *CHAR  (1)            /* PROD DATE    */

/* OVERRIDE PRINT FILE */
        DCL    &COMMAND    *CHAR   (512)

/* ERROR MESSAGE FIELDS                                                       */
        DCL    &MSG        *CHAR   (512)         /* message                   */
        DCL    &MSGID      *CHAR   (7)           /* message id                */
        DCL    &MSGL       *DEC    (5 0)

/********************************************************************/
/*   INITIALIZE VARIABLES                                           */
/********************************************************************/

/********************************************************************/
/*   MONITOR FOR ALL MESSAGES AT PROGRAM LEVEL                      */
/********************************************************************/

             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(MSGTRAP))

/********************************************************************/
/*   CALL PRINT CL PROGRAM                                        */
/********************************************************************/

             SBDPRTOVR  CMDVAR(&COMMAND) FILE(&PRTF) OUTQ(&OUTQ) +
                          COPIES(&COPIES) HOLD(&HOLD) SAVE(&SAVE)
             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)

             CALL       PGM(&PGM) PARM(' ' &COMPN &DEPT &PDTE &SHIFT +
                          &PDTE2 &SHIFT2)

             GOTO       CMDLBL(END)

/*----------------------RECEIVE MESSAGES----------------------------*/

 MSGTRAP:    RCVMSG     MSGTYPE(*EXCP) MSGDTA(&MSG) MSGDTALEN(&MSGL) +
                          MSGID(&MSGID)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(END))

             SNDPGMMSG  MSGID(&MSGID) MSGF(QCPFMSG) MSGDTA(%SST(&MSG +
                          1 &MSGL)) MSGTYPE(*ESCAPE)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(END))

 END:        ENDPGM

