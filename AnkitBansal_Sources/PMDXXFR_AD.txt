// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMDXXFR
// ?Date: 14.08.2025 Time: 03:42:47
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Documentation - 2025
DO;

//?06/26/25  Ankit Bansal  Bug 36512, Task 38180: Added Credit_Check_Complete
//?_Dt field to OMGZCPP file, need to re-compile it for CST/ITM changes
ENDDO;

//?E01654 RMC 8/18/11 upd gl sales acct type in comp cust ext
// WRK.Text USR = CON.dumbshit
WRK.Text_USR = 'dumbshit';

EXECUTE FUNCTION(FP1309 Inventory Age  IF) TYPE(EXCINTFUN)                      AC1981251;
{
 //?Execute internal function

 //?FP1309 Inventory Age Code Description
}


//?FP1110 - RMC 01/08/07 Pass in fields to crt Comp Cust Ext with HPB Flds
EXECUTE FUNCTION(CRT Co/Cust w/G/L PlntsRT) TYPE(RTVOBJ) FILE(PDJYREP)          AC1808918;
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Terms_Code);
PARAMETER(PAR.Sales_Route_Code);
PARAMETER(PAR.Special_Instructions_2);
PARAMETER(PAR.Special_Instructions);
PARAMETER(PAR.Carrier_Code);
PARAMETER(PAR.Broker);
PARAMETER(PAR.P_O_Required_Flag);
PARAMETER(PAR.Deliver_after_time);
PARAMETER(PAR.Deliver_before_time);
PARAMETER(PAR.Alt_Remittance_Flag);
PARAMETER(PAR.Type_Code);
PARAMETER(PAR.Absorbed_Freight_Rate_CWT);
PARAMETER(PAR.Mileage_To_Customer);
PARAMETER(PAR.Co_Cust_Overage_Rate_CWT);
PARAMETER(PAR.Age_Code);
PARAMETER(PAR.Outside_Warehouse_Flag);
PARAMETER(PAR.Customer_Group_Code);
PARAMETER(PAR.Customer_Group_Code_2);
PARAMETER(PAR.G_L_Code);
PARAMETER(PAR.Commodity_Market_Code);
PARAMETER(PAR.Credit_Contact_Name);
PARAMETER(PAR.Credit_Contact_Telephone);
PARAMETER(PAR.Credit_Contact_Bus_Title);
PARAMETER(PAR.Credit_Contact_Fax_Number);
PARAMETER(PAR.Allow_Man_Qt_WO_Approval);
PARAMETER(PAR.Fax_Invoice_Flag);
PARAMETER(PAR.Fax_Invoice_Fax_Number);
PARAMETER(PAR.Fax_Invoice_Contact_Name);
PARAMETER(PAR.Distributor);
PARAMETER(PAR.Default_Shipping_Co_Sts);
PARAMETER(PAR.Ord_Ent_Default_Sls_Rte);
PARAMETER(PAR.Bypass_DDt_Delay_w_Invcng);
PARAMETER(PAR.EDI_Status_1);
PARAMETER(PAR.EDI_Status_2);
PARAMETER(PAR.EDI_Status_3);
PARAMETER(PAR.Record_Status);
PARAMETER(PAR.Extra_Amount_1);
PARAMETER(PAR.Extra_Number_1);
PARAMETER(PAR.Extra_Status_1);
PARAMETER(PAR.SH_Expense_Bucket);
PARAMETER(PAR.G_L_Sub_Account);
PARAMETER(PAR.City);
PARAMETER(PAR.State_Code);
PARAMETER(PAR.AR_Customer_Number);
PARAMETER(PAR.Shipping_Zone_Code);
PARAMETER(PAR.HPB_Employer_ID_#);
PARAMETER(PAR.HPB_ULSD_Company_#);
PARAMETER(PAR.HPB_ULSD_Facility_ID);
PARAMETER(PAR.CCE_GL_Sales_Acct_Type);
PARAMETER(PAR.Item_Age_Days_Fresh);
PARAMETER(PAR.Item_Age_Days_Frozen);
{
 //?USER: Process Data record

 //?Added the company customer ext for every company customer
 EXECUTE FUNCTION(CRT Co/Cust w/G/L PlntsCR) TYPE(CRTOBJ) FILE(CAEOREP)          AC1708989;
 PARAMETER(DB1.Company_Number);
 PARAMETER(PAR.Ship_To_Customer);
 PARAMETER(PAR.Terms_Code);
 PARAMETER(PAR.Sales_Route_Code);
 PARAMETER(PAR.Special_Instructions_2);
 PARAMETER(PAR.Special_Instructions);
 PARAMETER(PAR.Carrier_Code);
 PARAMETER(PAR.Broker);
 PARAMETER(PAR.P_O_Required_Flag);
 PARAMETER(PAR.Deliver_after_time);
 PARAMETER(PAR.Deliver_before_time);
 PARAMETER(PAR.Alt_Remittance_Flag);
 PARAMETER(PAR.Type_Code);
 PARAMETER(PAR.Absorbed_Freight_Rate_CWT);
 PARAMETER(PAR.Mileage_To_Customer);
 PARAMETER(PAR.Co_Cust_Overage_Rate_CWT);
 PARAMETER(PAR.Age_Code);
 PARAMETER(PAR.Outside_Warehouse_Flag);
 PARAMETER(PAR.Customer_Group_Code);
 PARAMETER(PAR.Customer_Group_Code_2);
 PARAMETER(PAR.G_L_Code);
 PARAMETER(PAR.Commodity_Market_Code);
 PARAMETER(PAR.Credit_Contact_Name);
 PARAMETER(PAR.Credit_Contact_Telephone);
 PARAMETER(PAR.Credit_Contact_Bus_Title);
 PARAMETER(PAR.Credit_Contact_Fax_Number);
 PARAMETER(PAR.Allow_Man_Qt_WO_Approval);
 PARAMETER(PAR.Fax_Invoice_Flag);
 PARAMETER(PAR.Fax_Invoice_Fax_Number);
 PARAMETER(PAR.Fax_Invoice_Contact_Name);
 PARAMETER(PAR.Distributor);
 PARAMETER(PAR.Default_Shipping_Co_Sts);
 PARAMETER(PAR.Ord_Ent_Default_Sls_Rte);
 PARAMETER(PAR.Bypass_DDt_Delay_w_Invcng);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(PAR.Extra_Amount_1);
 PARAMETER(PAR.Extra_Number_1);
 PARAMETER(PAR.Extra_Status_1);
 PARAMETER(PAR.SH_Expense_Bucket);
 PARAMETER(PAR.G_L_Sub_Account);
 PARAMETER(WRK.Internet_Password);
 PARAMETER(WRK.Email_Address);
 PARAMETER(WRK.Email_User_ID);
 PARAMETER(WRK.EDI_Trading_Partner_No);
 PARAMETER(WRK.EDI_Cust_Duns_Number);
 PARAMETER(WRK.EDI_Warehouse_Store_No);
 PARAMETER(WRK.State_Tax_ID);
 PARAMETER(WRK.Additional_Route_Hours);
 PARAMETER(WRK.Cust_Shipping_Temp);
 PARAMETER(WRK.Cust_Shipping_Temp_C_F);
 PARAMETER(WRK.EDI_Invoices);
 PARAMETER(WRK.One_Invoice_Per_PO);
 PARAMETER(WRK.EDI_Advanced_Ship_Notice);
 PARAMETER(PAR.HPB_Employer_ID_#);
 PARAMETER(PAR.HPB_ULSD_Company_#);
 PARAMETER(PAR.HPB_ULSD_Facility_ID);
 PARAMETER(WRK.Ship_To_Warehouse);
 PARAMETER(WRK.CCE_Unused_Text_3);
 PARAMETER(WRK.Print_Req_Delv_Tm_on_Docs);
 PARAMETER(PAR.CCE_GL_Sales_Acct_Type);
 PARAMETER(WRK.DP_Location_15);
 PARAMETER(WRK.CCE_Unused_Text_2);
 PARAMETER(WRK.CCE_Last_ABS_Frt_Rate_Dte);
 PARAMETER(PAR.Item_Age_Days_Fresh);
 PARAMETER(PAR.Item_Age_Days_Frozen);
 PARAMETER(WRK.CCE_Classification_ABC);
 {
  //?USER: Processing before Data update

  // DB1.Age Code = CND.Blank
  DB1.Age_Code = *BLANK;

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  // LCL.A/R Customer Number = CND.equal to zero
  LCL.AR_Customer_Number = *ZERO;

  //?USER: Processing after Data update

  EXECUTE FUNCTION(CHG OM Company/Cust    CH) TYPE(CHGOBJ) FILE(OMGZCPP)          AC1214274;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Ship_To_Customer);
  PARAMETER(PAR.Extra_Amount_1);
  PARAMETER(PAR.Extra_Number_1);
  PARAMETER(PAR.Extra_Status_1);
  PARAMETER(PAR.SH_Expense_Bucket);
  PARAMETER(PAR.G_L_Sub_Account);
  PARAMETER(DB1.EDI_Status_1);
  PARAMETER(DB1.EDI_Status_2);
  PARAMETER(DB1.EDI_Status_3);
  {
   //?USER: Processing before Data read

   EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
   {
    //?Execute internal function

    // PAR.Job Time = JOB.*Job time
    PAR.Job_Time = JOB.*Job_time;

    // PAR.User Id = JOB.*USER
    PAR.User_Id = JOB.*USER;

    // PAR.Job Name = JOB.*JOB
    PAR.Job_Name = JOB.*JOB;

    // PAR.Job Date = JOB.*Job date
    PAR.Job_Date = JOB.*Job_date;

   }

   //?USER: Processing if Data record not found

   EXECUTE FUNCTION(CRT OM Company/Cust    CR) TYPE(CRTOBJ) FILE(OMGZCPP)          AC1214273;
   PARAMETER(PAR.Company_Number);
   PARAMETER(PAR.Ship_To_Customer);
   PARAMETER(PAR.Extra_Amount_1);
   PARAMETER(PAR.Extra_Number_1);
   PARAMETER(PAR.Extra_Status_1);
   PARAMETER(PAR.SH_Expense_Bucket);
   PARAMETER(PAR.G_L_Sub_Account);
   PARAMETER(PAR.EDI_Status_1);
   PARAMETER(PAR.EDI_Status_2);
   PARAMETER(PAR.EDI_Status_3);
   {
    //?USER: Processing before Data update

    EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
    {
     //?Execute internal function

     // PAR.Job Time = JOB.*Job time
     PAR.Job_Time = JOB.*Job_time;

     // PAR.User Id = JOB.*USER
     PAR.User_Id = JOB.*USER;

     // PAR.Job Name = JOB.*JOB
     PAR.Job_Name = JOB.*JOB;

     // PAR.Job Date = JOB.*Job date
     PAR.Job_Date = JOB.*Job_date;

    }

   }

  }

  EXECUTE FUNCTION(Crt Co Customer Ext   CR) TYPE(CRTOBJ) FILE(PDNIREP)           AC1984185;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Ship_To_Customer);
  PARAMETER(PAR.Internet_Password);
  PARAMETER(PAR.Email_Address);
  PARAMETER(PAR.Email_User_ID);
  PARAMETER(PAR.EDI_Trading_Partner_No);
  PARAMETER(PAR.EDI_Cust_Duns_Number);
  PARAMETER(PAR.EDI_Warehouse_Store_No);
  PARAMETER(PAR.State_Tax_ID);
  PARAMETER(PAR.Additional_Route_Hours);
  PARAMETER(PAR.Cust_Shipping_Temp);
  PARAMETER(PAR.Cust_Shipping_Temp_C_F);
  PARAMETER(PAR.EDI_Invoices);
  PARAMETER(PAR.One_Invoice_Per_PO);
  PARAMETER(PAR.EDI_Advanced_Ship_Notice);
  PARAMETER(PAR.HPB_Employer_ID_#);
  PARAMETER(PAR.HPB_ULSD_Company_#);
  PARAMETER(PAR.HPB_ULSD_Facility_ID);
  PARAMETER(PAR.Ship_To_Warehouse);
  PARAMETER(PAR.CCE_Unused_Text_3);
  PARAMETER(PAR.Print_Req_Delv_Tm_on_Docs);
  PARAMETER(PAR.CCE_GL_Sales_Acct_Type);
  PARAMETER(PAR.DP_Location_15);
  PARAMETER(PAR.CCE_Unused_Text_2);
  PARAMETER(PAR.CCE_Last_ABS_Frt_Rate_Dte);
  PARAMETER(PAR.Item_Age_Days_Fresh);
  PARAMETER(PAR.Item_Age_Days_Frozen);
  PARAMETER(PAR.CCE_Classification_ABC);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
   PARAMETER(DB1.Job_Time);
   PARAMETER(DB1.User_Id);
   PARAMETER(DB1.Job_Name);
   PARAMETER(DB1.Job_Date);
   {
    //?Execute internal function

    // PAR.Job Time = JOB.*Job time
    PAR.Job_Time = JOB.*Job_time;

    // PAR.User Id = JOB.*USER
    PAR.User_Id = JOB.*USER;

    // PAR.Job Name = JOB.*JOB
    PAR.Job_Name = JOB.*JOB;

    // PAR.Job Date = JOB.*Job date
    PAR.Job_Date = JOB.*Job_date;

   }

  }

 }

 //?Automatically create A/R Summary after new Company/Customer
 // WRK.Current Month = JOB.*Job date *MONTH
 WRK.Current_Month = DATEDTLS(JOB.*Job_date 'MO' 1111111 'NONE' 'N' 1);

 EXECUTE FUNCTION(RTV Salesman Code      RT) TYPE(RTVOBJ) FILE(PDJEREP)          AC1284971;
 PARAMETER(PAR.Sales_Route_Code);
 PARAMETER(LCL.Salesperson_Code);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 //?Create A/R Summary for A/R Customers only
 CASE;

 // IF PAR.Ship To Customer EQ PAR.A/R Customer Number
 IF PAR.Ship_To_Customer = PAR.AR_Customer_Number;

 EXECUTE FUNCTION(CRT A/R Summary        CR) TYPE(CRTOBJ) FILE(ARBCREP)          AC1109013;
 PARAMETER(DB1.Company_Number);
 PARAMETER(PAR.Ship_To_Customer);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(LCL.Salesperson_Code);
 PARAMETER(PAR.Sales_Route_Code);
 PARAMETER(WRK.Current_Month);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

 }

 ENDIF;

 //?DLY029 - RMC 08/10/07 Moved here from 'after data update' in crtobj cust
 // Call program Add/Chg Cust Dest.     XF.
 CALL PROGRAM(Add/Chg Cust Dest.     XF) ('PPHMXFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(PAR.State_Code);
 PARAMETER(PAR.Shipping_Zone_Code);
 PARAMETER(PAR.City);

}


