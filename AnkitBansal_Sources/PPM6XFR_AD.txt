// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPM6XFR
// ?Date: 14.08.2025 Time: 03:41:14
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(PFS One Warehouse     RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1732219;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Warehouse_Code);
{
 //?USER: Process Data record

 // PAR.PFS Company Number = DB1.Shipping Company
 PAR.PFS_Company_Number = DB1.Shipping_Company;

 // PAR.PFS Warehouse Code = DB1.Warehouse Code
 PAR.PFS_From_Warehouse_Code = DB1.Warehouse_Code;

 // PAR.PFS Warehouse Name = DB1.Warehouse Description
 PAR.PFS_Warehouse_Name = DB1.Warehouse_Description;

 // PAR.PFS Warehouse Address 1 = DB1.Address Line 1
 PAR.PFS_Warehouse_Address_1 = DB1.Address_Line_1;

 // PAR.PFS Warehouse Address 2 = DB1.Address Line 2
 PAR.PFS_Warehouse_Address_2 = DB1.Address_Line_2;

 // PAR.PFS Warehouse Address 3 = DB1.Address Line 3
 PAR.PFS_Warehouse_Address_3 = DB1.Address_Line_3;

 // PAR.PFS Warehouse City = DB1.City
 PAR.PFS_Warehouse_City = DB1.City;

 // PAR.PFS Warehouse State = DB1.State Code
 PAR.PFS_Warehouse_State = DB1.State_Code;

 // PAR.PFS Warehouse Zip = DB1.Zip/Postal Code
 PAR.PFS_Warehouse_Zip = DB1.Zip_Postal_Code;

 // PAR.PFS Warehouse Location = DB1.Warehouse Location
 PAR.PFS_Warehouse_Location = DB1.Warehouse_Location;

 // PAR.PFS Warehouse Type = DB1.Warehouse Type
 PAR.PFS_Warehouse_Type = DB1.Warehouse_Type;

 //?PFS Record Status
 CASE;

 // IF DB1.Record Status is Active
 IF DB1.Record_Status = 'A';

 // PAR.PFS Record Status = CND.Change
 PAR.PFS_Record_Status = 'C';

 //?PFS Record Status
 // IF *OTHERWISE
 IF *OTHERWISE;

 // PAR.PFS Record Status = CND.Delete
 PAR.PFS_Record_Status = 'D';

 ENDIF;

 EXECUTE FUNCTION(Upd Warehouse         RT) TYPE(RTVOBJ) FILE(PPA8REP)           AC1732217;
 PARAMETER(PAR.PFS_Company_Number);
 PARAMETER(PAR.PFS_From_Warehouse_Code);
 PARAMETER(PAR.PFS_Warehouse_Name);
 PARAMETER(PAR.PFS_Warehouse_Address_1);
 PARAMETER(PAR.PFS_Warehouse_Address_2);
 PARAMETER(PAR.PFS_Warehouse_Address_3);
 PARAMETER(PAR.PFS_Warehouse_City);
 PARAMETER(PAR.PFS_Warehouse_State);
 PARAMETER(PAR.PFS_Warehouse_Zip);
 PARAMETER(PAR.PFS_Warehouse_Location);
 PARAMETER(PAR.PFS_Warehouse_Type);
 PARAMETER(PAR.PFS_Record_Status);
 {
  //?USER: Processing if Data record not found

  CASE;

  // IF PAR.PFS Record Status is Not Delete
  IF PAR.PFS_Record_Status = 'A'/'C';

  EXECUTE FUNCTION(Crt PFS Warehouse     CR) TYPE(CRTOBJ) FILE(PPA8REP)           AC1732204;
  PARAMETER(PAR.PFS_Company_Number);
  PARAMETER(PAR.PFS_From_Warehouse_Code);
  PARAMETER(PAR.PFS_Warehouse_Name);
  PARAMETER(PAR.PFS_Warehouse_Address_1);
  PARAMETER(PAR.PFS_Warehouse_Address_2);
  PARAMETER(PAR.PFS_Warehouse_Address_3);
  PARAMETER(PAR.PFS_Warehouse_City);
  PARAMETER(PAR.PFS_Warehouse_State);
  PARAMETER(PAR.PFS_Warehouse_Zip);
  PARAMETER(PAR.PFS_Warehouse_Location);
  PARAMETER(PAR.PFS_Warehouse_Type);
  PARAMETER(PAR.PFS_Record_Status);
  PARAMETER(PAR.PFS_Process_Status);
  PARAMETER(PAR.PFS_Error_Reason);
  PARAMETER(PAR.PFS_Create_Date);
  PARAMETER(PAR.PFS_Create_Time);
  PARAMETER(PAR.PFS_Change_Date);
  PARAMETER(PAR.PFS_Change_Time);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Create Stamp      IF) TYPE(EXCINTFUN)                      AC1732162;
   PARAMETER(DB1.PFS_Process_Status);
   PARAMETER(DB1.PFS_Create_Date);
   PARAMETER(DB1.PFS_Create_Time);
   {
    //?Execute internal function

    // PAR.PFS Process Status = CND.Not Processed
    PAR.PFS_Process_Status = *ZERO;

    // PAR.PFS Create Date = JOB.*Job date
    PAR.PFS_Create_Date = JOB.*Job_date;

    // PAR.PFS Create Time = JOB.*Job time
    PAR.PFS_Create_Time = JOB.*Job_time;

   }

  }

  ENDIF;

  //?USER: Process Data record

  EXECUTE FUNCTION(Chg PFS Warehouse     CH) TYPE(CHGOBJ) FILE(PPA8REP)           AC1732205;
  PARAMETER(PAR.PFS_Company_Number);
  PARAMETER(PAR.PFS_From_Warehouse_Code);
  PARAMETER(PAR.PFS_Warehouse_Name);
  PARAMETER(PAR.PFS_Warehouse_Address_1);
  PARAMETER(PAR.PFS_Warehouse_Address_2);
  PARAMETER(PAR.PFS_Warehouse_Address_3);
  PARAMETER(PAR.PFS_Warehouse_City);
  PARAMETER(PAR.PFS_Warehouse_State);
  PARAMETER(PAR.PFS_Warehouse_Zip);
  PARAMETER(PAR.PFS_Warehouse_Location);
  PARAMETER(PAR.PFS_Warehouse_Type);
  PARAMETER(PAR.PFS_Record_Status);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Change Stamp      IF) TYPE(EXCINTFUN)                      AC1732163;
   PARAMETER(DB1.PFS_Change_Date);
   PARAMETER(DB1.PFS_Change_Time);
   {
    //?Execute internal function

    // PAR.PFS Change Date = JOB.*Job date
    PAR.PFS_Change_Date = JOB.*Job_date;

    // PAR.PFS Change time = JOB.*Job time
    PAR.PFS_Change_Time = JOB.*Job_time;

   }

  }

 }

}


