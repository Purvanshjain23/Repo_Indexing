/********************************************************************/
/*  INVNIGHTRS -- COPIED FROM INVNIGHTRN GUYMON PGM    12/14/2017   */
/*                AND MODIFIED FOR IOWA PLANT - CO 440 WHSE ST1/STF */
/*                                                                  */
/*  SYNOPSIS - CL PROGRAM TO BE RUN AT NIGHT                        */
/*                                                                  */
/*  SYSTEM    - INVENTORY MANAGEMENT                                */
/*  DATE      -  2/14/2017                                          */
/*                                                                  */
/*------------------------------------------------------------------*/
/* REPORTS/PROCESS (AS OF 06/04/2009)                               */
/*------------------------------------------------------------------*/
/* STS:  "A"CTIVE; "C"OMMENTED OUT                                  */
/*                                                                  */
/* STS REPORT/PROCESS       WHS PRINTER     DATE OR DATE RANGE      */
/* --- -------------------- --- ----------  ----------------------- */
/* A   AGED INVENTORY       SJ1 EMAILED     *NONE                   */
/* A   AGED INVENTORY       SF1 EMAILED     *NONE                   */
/* A   BUILD PROD SCHED     --- --------    *NOT DONE HERE ANYMORE  */
/* A   PA (DAY REPORT)      SJ1 PRKPRT05    CURRENT DATE            */
/* A   PA DETAIL            SJ1 PRKPRT05    *NONE                   */
/* A   WHS INV/ORD COMP     SJ1,SA1 PRKPRT05    06/23/00-06/24/00       */
/* A   FREEZER INVENTORY    SF1 PRKPRT03    TO SALES                */
/* A   PRODUCTION SCHEDULE  SJ1 PRKPRT05,EMAILED                    */
/* A   HAM PROD SCHEDULE    SJ1 PRKPRT05,EMAILED                    */
/*                                                                  */
/*------------------------------------------------------------------*/
/* MAINTENANCE LOG                                                  */
/*------------------------------------------------------------------*/
/*  MODIFIED:   R. CENTONZE       11/04/05                           */
/*               COPIED FROM INVNIGHTRN GUYMON PGM.                  */
/*               1. DELETE OLD COMMENTED CODE                        */
/*               2. CHANGE CO 360 TO 960                             */
/*               3. COMMENT REPORTS GOING TO A GUP--- PRINTER        */
/*  MODIFIED:   R. CENTONZE       02/02/06                           */
/*               ADDED COMP PARM TO CALL PDC5XFR                     */
/*  MODIFIED:   L. BUSER          03/02/2006   T00006                */
/*               IF OUTQ IS PRKPRT05, THEN CHANGE TO HOLD(*YES)      */
/*  MODIFIED:   R  CENTONZE       03/15/06                           */
/*               CALL PGM(PPTDXFR) PARM(' ' 'N' 'SJ1') TO 0 NEG VALUES */
/*  MODIFIED:   L. BUSER          03/23/2006   T070                  */
/*               CHANGE SELECTED REPORTS TO PRINT IN PRKPRT05        */
/*  MODIFIED:   LJB               10/04/2006                         */
/*             ADD PRINT STATUS FLAG = "N" TO PDPDCLP                */
/*             SEE TAG L61002C                                       */
/*  MODIFIED:   RMC               01/30/07                          */
/*               ADDED REPORT TYPE(DAILY/WEEKLY) PARM- PASS TO PDRPPFR  */
/*               FROM PDM9UPC  -- FOR 960 SET &DAYWK='2' FOR SA1 WHSE */
/*               NEWSA1:  TAG--  RUN PDRPPFR FOR SA1                  */
/*  MODIFIED:   RMC   02/13/07 RPT POGDPFR TODAYS PA -  CHG 10 TO 11 COPIES */
/*                    (CALLED BY CL POGFUPC)                            */
/*  MODIFIED: LJB 02/27/07  L70125A - PDRCCLP, INVENTORY TRANSACTION */
/*                JOURNAL, ADDED ZERO QUANTITY = N PARM              */
/*                THIS FUNCTION IS SKIPPED IN THIS PROGRAM,          */
/*                HOWEVER, THE CHANGE WAS MADE TO MATCH GUYMAN       */
/*                                                                   */
/*  MODIFIED: SLM 05/23/07  DLY029 - PDRZCLP PASS AGEING CODE        */
/*            IF COMPANY 360 PURVA HAS REQUESTED 1 DAY TO AGE        */
/*            &AGEDAYS                                               */
/*  MODIFIED: RMC 09/25/07  DLY029 - PDPDCLP-  PRICE MTH PARM BEFORE OUTQ */
/*  MODIFIED: LJB 02/27/07  L70125A - PDRCCLP, INVENTORY TRANSACTION */
/*                JOURNAL, ADDED ZERO QUANTITY = N PARM              */
/*                THIS FUNCTION IS SKIPPED IN THIS PROGRAM,          */
/*                HOWEVER, THE CHANGE WAS MADE TO MATCH GUYMAN       */
/*  MODIFIED: LJB 04/02/2008 FP1235                                  */
/*               ADD PROGRAM IMMEDIATELY AFTER THE PRODUCTION        */
/*               SCHEDULE RUNS TO PRINT THE MAKE SHEET (960 ONLY)    */
/*               ADD &COMPN AS 15.5 PARM AND &DAYSTS AS "T"(TODAY)   */
/*  MODIFIED: PKD 08/21/2008 S00415 PRINT 1 COPY OF TODAY'S PA       */
/*               REPORT AND PLACE IT ON HOLD.                        */
/*  MODIFIED: RMC 10/20/2008 S00524 PRINT/EMAIL AGED INV REPORTS     */
/*               FOR SJ1 AND SF1   - PDVBPFR - NOT ON SAT/SUN ;     */
/*               PRINT PA GROUP 600 REPORTS FIRST FEW PAGES FOR DAMON  */
/*  MODIFIED: SLM 11/10/08  E00243 - Add the processing of the       */
/*                Belly & Trim report AT PRODUCTION SCHEDULE SECTION */
/*                Add the two new process for the Belly & Trim       */
/*                production schedule reports                        */
/*  MODIFIED: RMC 11/18/2008 S00524 CHG SJ1 AGE BUCKET FROM 8 DAYS TO 4  */
/*               FOR SJ1  - PDVBPFR - PER DAN SCHMERBACH  */
/*  MODIFIED: SLM 11/21/08  E00243 - Allow new belly & trim report   */
/*                to go ahead and print                              */
/*  MODIFIED: SLM 12/01/08  E00243 - ADD the E to email for the      */
/*                Belly & Trim Reports                               */
/*  MODIFIED: SLM 12/11/08  E00298 - Pass in the new Hold Over parm  */
/*                daily production schedule send in blank            */
/*                trim and belly send in 'Y' FOR yes print hold      */
/*                over                                               */
/*  MODIFIED: SLM 12/25/08  E00298 - Place in the afternoon run      */
/*                of the bellys and trim but only pass in the        */
/*                company select of T for Triumph Foods, or G for    */
/*                Guymon  -- These reports will be executed if       */
/*                this is a production day and if so then print the  */
/*                reports.                                           */
/* MODIFIED:  RMC 3/04/09 FP1054  REMOVED OLD COMMENTED CODE;    */
/*                        SKIP BUILD SCHEDULE PROCESS -- ITS DONE IN   +
/*                        INVBUILDPS FOR BOTH PLANTS NOW.           */
/*                        SCAN:    SKIPSCHED                            */
/*                6/01/09 ADDED EMAIL PARM ' ' TO CALL PDRCCLP      */
/*                6/01/09 CHG  PDJSUPR TO CALL PMFAPFR INSTEAD OF             */
/*                        PDRUPFR; ADD CALL TO EMAIL THE REPORT TO SCHEDULING */
/*                6/10/09 DONT CALL PMTTUPC ANY MORE PER STEVE              */
/* MODIFIED:  RMC 7/09/09 FP1054  PRINT PROD SCHEDULE FIRST- CONDITION ON   +
              CURRENT DAY'S  PRODUCTION DAY STATUS BEING = "Y"         */
/* MODIFIED:  RMC 2/18/11 E01365  DUPSPLF PMFAPFR$, PDV0PFR$ TO &OUTQ2    */
/*                        FROM COMP VALUE "INVNIGHT2"                    */
/*                        SCAN:    E01365                               */
/* MODIFIED:  RMC 10/21/11 E1773  ADDED &AVAILG TO PDRZCLP CALL              */
/* MODIFIED:  RMC 12/05/11 E1819  ADDED PARM TO PDJSUPR - &SUMBOX -PRINT   */
/*     SUMMARY BOX ON REPORT BUT DOESNT APPLY TO RPT TYPES CALLED FROM HERE  */
/* MODIFIED:  SLM 02/29/12 E1891  PROCESS THE PRODUCTION SCHEDULE    */
/*                                TO A WORK FILES THAT WILL BE SENT  */
/*                                VIA EMAIL USING A DISTRIBUTION     */
/*                                LIST                               */
/*                                PROCESS THE HAM SCHEDULE TO A WORK */
/*                                FILE THAT WILL BE SNET VIA EMAILS  */
/*                                PROGRAM PDWKXFR IS BEING REPLACED  */
/*                                HERE BY PBCHUPR, AND PBCHUPR IS    */
/*                                TAKING CARE OF THE NEW FILE ON     */
/*                                A SPREAD SHEET, AND WILL CALL      */
/*                                THE PROGRAM PDWKXFR                */
/*                                                                   */
/*           *NOTE I created a save version of the prior changes     */
/*           that are currently in PRKSYNSRC to new name of          */
/*           **************  INVNISVTRS  **************************  */
/*           since there were a lot of changes.                      */
/* MODIFIED:  SLM 09/06/12 E2202: Remove spread sheet selection        */
/* Remove &PRDSPS from PDJSUPR                                      */
/* Remove &PRDNOS from PDJSUPR                                      */
/* MODIFIED:  SLM 11/05/12 E2202: Remove HAM spread sheet           */
/* REMOVE &HAMSPS                                                   */
/* REMOVE &HAMNOS)                                                  */
/* MODIFIED:  RMC 03/05/13 E2490: EMAIL SHIP OFF CUT- CALL PNILUPC */
/* MODIFIED:  RMC 05/27/13 E3129: PRT/SAVE SHIP OFF CUT- CALL PNILUPC */
/*            RMC 10/2/14  E3483:LOAD SCHED SUMMARY BY SCHED SHIP FOR TOM F */
/*                               CALL PBP0UPC -- SCAN: E3483          */
/* MODIFIED:  RMC 02/13/15 CHG ALL SBMJOB TO JOBQ PRKJS1              */
/* MODIFIED:  JBB 07/21/16 ADD JOB TYPE = 0 ON CALL TO PDPWUPC       */
/* MODIFIED:  RMC 09/26/17 R11742 ADDED RPTS; FIX PDX9CLP PARMS      */
/* DN  01/26/23 W118693 - ADDED &JUSTSCHED PARM TO BYPASS TO LABEL   */
/*                'EVERYDAY' OR NOT.                                 */
/*                ADDED &JUSTSCHD AS ENTRY INPUT PARM.               */
/*                &JUSTSCHD = N --> THEN GO TO LABEL 'EVERYDAY'.     */
/*                                  JS 'INVNIGHTGU', 'INVNIGHTSP' &  */
/*                                  'INVNIGHTTF' SETS TO 'N'.        */
/*                &JUSTSCHD = Y --> THEN PROCESS UP TO 'EVERYDAY'    */
/*                                  LABEL THEN GO TO 'ENDPGM'.       */
/*                                  PROGRAM 'INVBLDALC' SETS TO 'Y'. */
/*                CHANGE WILL ALLOW THE HAM REPORTS TO BE PROCESS    */
/*                SOONER.                                            */
/*                SUNDAY'S JS WAS ALSO CHANGED TO SUBMIT WITH BOTH   */
/*                &JUSTSCHD = 'N' & 'Y':                             */
/*                  INVNIGHTGX, INVNIGHTSX & INVNIGHTTX.             */
/*                                                                   */
/*********************************************************************/

 INVNIGHTSP: PGM        PARM(&JUSTSCHD)

             DCL        VAR(&JUSTSCHD) TYPE(*CHAR) LEN(1) /* W118693 */

             DCL        &COMP       *DEC     3 0
             DCL        VAR(&COMPSEL) TYPE(*CHAR) LEN(1)
             DCL        &DAYWK      *CHAR    1
             DCL        &COMPA      *CHAR    3  /* CO. # FOR MSG */
             DCL        &AGEDAYS    *DEC     /* No. of DAYS      */
             DCL        &AVAILG     *CHAR    3  /* AVAIL GROUP   */
             DCL        &JOBDATE    *CHAR   6
             DCL        &JOBDTE     *CHAR   7
             DCL        &DATE       *CHAR   7
             DCL        &DATE2      *CHAR   7
             DCL        &DATEFRM    *DEC    7 0
             DCL        &DATETO     *DEC    7 0
             DCL        &XTDATE     *CHAR   7
             DCL        &TDATE      *DEC
             DCL        &TDATE2     *DEC    7 0
             DCL        &PDATE2     *DEC    7 0
             DCL        &PDATE     *DEC
             DCL        &XPDATE     *CHAR   7
             DCL        &DAYS       *DEC    3 0
             DCL        &DAYS2      *DEC    8 0

             DCL        VAR(&QDAY) TYPE(*CHAR) LEN(4) /* DAY OF +
                          WEEK   */
             DCL        VAR(&PRDDAY) TYPE(*CHAR) LEN(1) /* PRD DAY STS */

         DCL        &DISTSCH    *CHAR    30   /* DIST LIST FOR SCHEDULE EMAIL */
         DCL        &DISTAGE    *CHAR    30   /* DIST LIST FOR AGED INV EMAIL */
         DCL        &OUTQ3      *CHAR    10   /* FOR FRZR INV RPTS TO SALES */
         DCL        &OUTQ5      *CHAR    10  /* FOR SCHED PRINTER */
         DCL        &OUTQ2      *CHAR    10  /* FOR SCHED PRINTER- 2ND CPY */
         DCL        &OUTQ1      *CHAR    10   /* PLANT OUTQ FOR PHYS RPTS */
             DCL        &BASELNE    *CHAR VALUE('Y')
/*------------------------------------------------------------------*/
/* CONVERT PARAMETERS TO REQUIRED SIZE FOR PRINT FUNCTION                  */
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&COMP) VALUE(440)
             CHGVAR     VAR(&COMPA) VALUE(440)
             CHGVAR     VAR(&AGEDAYS) VALUE(000000000000001)
             CHGVAR     VAR(&AVAILG) VALUE('   ')
/*------------------------------------------------------------------*/
             RTVSYSVAL  SYSVAL(QDAYOFWEEK) RTNVAR(&QDAY)
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/* GET INVNIGHT OUTPUT QUEUES AND EMAIL DIST LIST                         */
/*------------------------------------------------------------------*/
/* GET OUTQ -- WHICH IS CURRENTLY PRKPRT05     */
 GETOUTQ5:    CALL       PGM(POMTXFR) PARM(' ' X'440F' 'INVNIGHTQ' &OUTQ5)
/* GET SALES OUTQ -- WHICH IS CURRENTLY PRKPRT03     */
 GETOUTQ3:    CALL       PGM(POMTXFR) PARM(' ' X'440F' 'INVNIGHTF' &OUTQ3)
/* GET PLANT OUTQ -- WHICH IS CURRENTLY GUPPRT131    */
 GETOUTQ1:    CALL       PGM(POMTXFR) PARM(' ' X'440F' 'INVNIGHTP' &OUTQ1)
/* GET EMAIL DIST LIST FOR AGED INV REPORTS         */
 GETEMAIL:  CALL       PGM(POMTXFR) PARM(' ' X'440F' 'INVNIGHTA' &DISTAGE)
/* GET EMAIL DIST LIST FOR SCHED REPORT      */
GETEMLSC:     CALL       PGM(POMTXFR) PARM(' ' X'440F' 'INVNIGHTS' &DISTSCH)
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
             RTVJOBA    DATE(&JOBDATE)
             CVTDAT     DATE(&JOBDATE) TOVAR(&JOBDTE) FROMFMT(*MDY) +
                          TOFMT(*CYMD) TOSEP(*NONE)

             CHGVAR     VAR(&DATE) VALUE(&JOBDTE)
             CHGVAR     VAR(&DATEFRM) VALUE(&JOBDTE)
             CHGVAR     VAR(&DATETO) VALUE(&JOBDTE)

/*-------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/*   DO THIS SECTION IF CURRENT DAY'S  PRODUCTION DAY STATUS = Y    */
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
             CALL       PGM(PMB5XFR) PARM('' '440' &DATE &PRDDAY)

             IF         COND(&PRDDAY = 'N') THEN(GOTO CMDLBL(EVERYDAY))

/*------------------------------------------------------------------*/
/* W118693 - ADDED &JUSTSCHD TO JUMP TO LABEL 'EVERYDAY' OR NOT.     */
/*------------------------------------------------------------------*/
             IF         COND(&JUSTSCHD = 'N') THEN(GOTO CMDLBL(EVERYDAY))

  /* OLD     IF         COND(&PRDDAY = 'N') THEN(GOTO CMDLBL(EVERYDAY))     */

             IF         COND(&PRDDAY = 'N') THEN(GOTO CMDLBL(ENDPGM))

/*------------------------------------------------------------------*/
/* PRODUCTION SCHEDULE   - PMFAPFR                                  */
/*-------------------------------------------------------------------*/
/*    --- CALL NEW REPORT PMFAPFR INSTEAD OF PDRUPFR   6/04/09      */
/*    --- EMAIL HAM SCHED ALSO-PMV0PFR                 6/04/09      */
/*-------------------------------------------------------------------*/
 PRODS:
/*------------------------------------------------------------------*/
/* E002202 SLM 09/06/2012                                           */
/* Remove the production schedule report with the creation of th    */
/* the data from the report into a spread sheet.                    */
/* This spead sheet is now going to be done in the new Generic      */
/* Primal Schedules                                                 */
/* Remove &PRDSPS from PDJSUPR                                      */
/*------------------------------------------------------------------*/

             CALL       PGM(PDJSUPR) PARM(' ' 'QPRINT2' '*YES' +
                          '*YES' '1' 'PMFAPFR' 'PMFAPFR$' 'P/S' +
                          '440' 'S' &DATE 'Y' 'D' 'ST1' ' ' ' ' ' ')

/* E001891 SLM 02/29/2012                                           */
/* Created new wrap CL to process the Ham Schedule.                 */
/* Replaced PDWKXFR with new PBCHUPR                                */
/* 1105/2012 SLM REMOVE THE HAM SPREAD SHEET NO LONGER PER CURT     */
 HAM:        CALL       PGM(PBCHUPR) PARM('       ' 'QPRINT2   ' +
                          '*NO ' '*NO ' '01' &COMPA &DATE)

        ESEND/ESNDMAIL   RECIPIENT(&DISTSCH) SUBJECT('Production +
                          Schedule') ATTLIST((* *PDF *N PMFAPFR$) +
                          (* *PDF *N PDV0PFR$))


/*------------------------------------------------------------------*/
/* E002202 SLM 09/06/2012                                           */
/* Remove the production schedule report with the creation of th    */
/* the data from the report into a spread sheet.                    */
/* This spead sheet is now going to be done in the new Generic      */
/* Primal Schedules                                                 */
/* Remove &PRDNOS from PDJSUPR                                      */
/*------------------------------------------------------------------*/

 /* PRINT AGAIN ON &OUTQ5 (PRKPRT05)                                  */

             CALL       PGM(PDJSUPR) PARM(' ' &OUTQ5 '*YES' '*YES' +
                          '1' 'PMFAPFR' 'PMFAPFR$' 'P/S' '440' 'S' +
                          &DATE 'Y' 'D' 'ST1' ' ' ' ' ' ')

/* E001891 SLM 02/29/2012                                           */
/* Created new wrap CL to process the Ham Schedule.                 */
/* Replaced PDWKXFR with new PBCHUPR                                */
/* 1105/2012 SLM REMOVE THE HAM SPREAD SHEET NO LONGER PER CURT     */
             CALL       PGM(PBCHUPR) PARM('       ' &OUTQ5 '*NO ' +
                          '*NO ' '01' &COMPA &DATE)

E01365:  /* GET 2ND OUTQ -- WHICH IS CURRENTLY TFPRT03      */
 GETOUTQ2:    CALL       PGM(POMTXFR) PARM(' ' X'440F' 'INVNIGHT2' &OUTQ2)
             IF         COND(&OUTQ2 > '          ') THEN(DO)
             DUPSPLF    FILE(PMFAPFR$) OUTQ(&OUTQ2) SPLNBR(*LAST)
             MONMSG     MSGID(CPF3C40)
             DUPSPLF    FILE(PDV0PFR$) OUTQ(&OUTQ2) SPLNBR(*LAST) +
                          HOLD(*YES) SAVE(*YES)
             MONMSG     MSGID(CPF3C40)
             ENDDO
/*-------------------------------------------------------------------*/
/* PRODUCTION SCHEDULE                                               */
/* & NEW GENERIC PROCESS FOR BELLY/TRIM/ETC                          */
/*-------------------------------------------------------------------*/
 PRODSB:
             CHGVAR     VAR(&COMPSEL) VALUE('S')
             CALL       PGM(PMB2UPC) PARM(&COMPSEL &BASELNE)
/*------------------------------------------------------------------*/
/* SHIP OFF CUT - EMAIL   E2490 3/05/2013 \/ PRINT E3129 5/27/14       */
/*-------------------------------------------------------------------*/
PRINT:       CALL       PGM(PNILUPC) PARM(' ' &OUTQ2 '*NO ' '*YES +
                          ' '01' &COMPA &DATE '      ')
             MONMSG     MSGID(CPF0000)
EMAIL:       CALL       PGM(PNILUPC) PARM(' ' 'QPRINT2' '*NO ' '*NO +
                          ' '01' &COMPA &DATE &DISTSCH)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/

/*------------------------------------------------------------------*/
/* W118693 - ADDED &JUSTSCHD TO JUMP TO LABEL 'ENDPGM'.             */
/*------------------------------------------------------------------*/
             IF         COND(&JUSTSCHD = 'Y') THEN(GOTO CMDLBL(ENDPGM))

/*------------------------------------------------------------------*/
/*   DO THIS SECTION EVERY DAY                                   */
/*------------------------------------------------------------------*/
EVERYDAY:
/*------------------------------------------------------------------*/
/* ZERO NEG ITEM BAL VALUES    -- MOVED HERE FROM JOB SCHEDULER 3/15/06   */
/*------------------------------------------------------------------*/
             CALL       PGM(PPTDXFR) PARM(' ' 'N' 'ST1')
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
/* PRINT THE AGED INVENTORY REPORTS FOR STFPRT05                    */
/*----------------------------------------------- ------------------*/
             CALL       PGM(PDRZCLP) PARM('PDVBPFR' 440.00000 'ST1' +
                          0.00000 ' ' ' ' ' ' 0.00000 0.00000 +
                          0.00000 'Y' 'N' &OUTQ1      '*NO' '*YES' +
                          1.00000 '*JOBD' &AGEDAYS &AVAILG)

/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/* PRINT THE AGED INVENTORY REPORTS FOR EMAIL                       */
/*------------------------------------------------------------------*/
             IF         COND(&QDAY *EQ '*SUN') THEN(GOTO SKIPAG)
             IF         COND(&QDAY *EQ '*SAT') THEN(GOTO SKIPAG)
             CHGVAR     VAR(&AGEDAYS) VALUE(000000000000004)
             CALL       PGM(PDRZCLP) PARM('PDVBPFR' 440.00000 'ST1' +
                          0.00000 'FG ' ' ' ' ' 0.00000 0.00000 +
                          0.00000 'Y' 'N' 'QPRINT2' '*YES' '*YES' +
                          1.00000 '*JOBD' &AGEDAYS &AVAILG)
             ESEND/ESNDMAIL RECIPIENT(&DISTAGE) SUBJECT('Aged +
                          Inventory Reports') ATTLIST((* *DFT *N +
                          PDVBPFR$))
             MONMSG     MSGID(CPF0000)
             CHGVAR     VAR(&AGEDAYS) VALUE(000000000000030)
             CALL       PGM(PDRZCLP) PARM('PDVBPFR' 440.00000 'SF1' +
                          0.00000 ' ' ' ' ' ' 0.00000 0.00000 +
                          0.00000 'Y' 'N' 'QPRINT2' '*YES' '*YES' +
                          1.00000 '*JOBD' &AGEDAYS &AVAILG)
             ESEND/ESNDMAIL RECIPIENT(&DISTAGE) SUBJECT('Aged +
                          Inventory Reports') ATTLIST((* *DFT *N +
                          PDVBPFR$))
             MONMSG     MSGID(CPF0000)
 SKIPAG:
/*------------------------------------------------------------------*/
/* PRINT AVAILABLE TO SELL AND TODAY'S PA                            */
/*-------------------------------------------------------------------*/
/* CHANGE FOR ST JO         -----------------------------------------*/
/* CHANGE OUTQ PRKPRT05 TO HOLD(*YES)  T00006 03/02/2006 LJB         */
/*-------------------------------------------------------------------*/
/* DEWEY-PA GROUP */
             CALL       PGM(PDSIUPR) PARM(' ' &OUTQ5  '*YES' +
                          '*YES' '1' 'PDSFPFR' 'PDSFPFR$' '440' +
                          'ST1' 'FR' &DATE 'P' '40500' 'DIW' 'N')
             MONMSG     MSGID(CPF0000)

/*-------------------------------------------------------------------*/
/* ADDED ON 7/11/00 BY  R CENTONZE   PER JUDY SCHAUB  PK0286         */
/* TODAY'S PA                                                        */
/*-------------------------------------------------------------------*/
             IF         COND(&QDAY *EQ '*SUN') THEN(GOTO +
                          CMDLBL(SKIPPA))
             IF         COND(&QDAY *EQ '*SAT') THEN(GOTO SKIPPA)

/*  PKD   08/21/08 RPT PRINT 1 COPY ON HOLD                          */
             CALL       PGM(POGFUPC) PARM(' ' &OUTQ5  '*YES' +
                          '*YES' 'OMS' X'000000000100000F' +
                          X'000000044000000F' 'ALL' 'ST1' &DATE &DATE)
  SKIPPA:
/*-------------------------------------------------------------------*/
/* WAREHOUSE INVENTORY/ORDERS COMPARISON                             */
/*-------------------------------------------------------------------*/
             CALL       PGM(PDSUXFR) PARM(' ' &COMP &DATEFRM &DATETO)
             CHGVAR     VAR(&DATE2) VALUE(&DATETO)
             CHGVAR     VAR(&DAYWK) VALUE('1')

             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ5  '*NO' +
                         '*YES' '1' 'PDRPPFR' 'PDRPPFR$' +
                         'OMS' 'ALL' 'S' '440' 'ST1' '   ' &DATE +
                         &DATE2 'S' &DAYWK)

 NEWSA1:     CHGVAR     VAR(&DAYWK) VALUE('2')

             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ5  '*NO' +
                         '*YES' '1' 'PDRPPFR' 'PDRPPFR$' +
                         'OMS' 'ALL' 'S' '440' 'STN' '   ' &DATE +
                         &DATE2 'S' &DAYWK)
/*-------------------------------------------------------------------*/
/*-------------------------------------------------------------------*/
/* PRODUCT AVAILABILITY REPORT FOR PA GROUP 600                      */
/*-------------------------------------------------------------------*/
/*  CHANGE FOR ST JO         ----------------------------------------*/
/* CHANGE OUTQ PRKPRT05 TO HOLD(*YES)      T00006 03/02/2006 LJB     */
/*-------------------------------------------------------------------*/
             CALL       PGM(PDSIUPR) PARM(' ' &OUTQ5  '*YES' +
                          '*YES' '1' 'PDKJPFR' 'PDKJPFR$' '440' +
                          'ST1' 'FR' &DATE 'L' '40500' '600' 'N')

/*------------------------------------------------------------------*/
/* EXPORT ORDER TOTAL FOR THE WEEK                                  */
/*------------------------------------------------------------------*/
             CALL       PGM(POYXXFR) PARM('' &COMP &DATEFRM)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
/* LOAD SCHED SUMMARY BY SCHED SHIP FOR TOM FRENCH    10/2/04 RMC  */
 /* DONT RUN FOR STF!              */
/*-------------------------------------------------------------------*/
 /* E3483:      CALL       PGM(PBP0UPC) PARM(&COMP &DATEFRM &DATETO) */

/*------------------------------------------------------------------*/

/**********************************************************************/
/* FREEZER INVENTORY REPORTS                                          */
/* RMC  FP1054 USE OUTQ3 INSTEAD OF 'PRKPRT03'  6/04/09               */
/**********************************************************************/
/*** STF AND AGE CODE = *ALL                                          */
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'440F' 'STF' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3 '*NO ' '*YES' X'F0F1' +
                          'A' X'0000000F' X'00000F' ' ' '0')) +
                          JOB(FRZINVSF1) JOBQ(PRKJS1) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'440F' 'STF' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3 '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' ' ' '0')) +
                          JOB(FRZINVSTF))

/*** STF AND AGE CODE = H                                             */
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'440F' 'STF' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3 '*NO ' '*YES' X'F0F1' +
                          'A' X'0000000F' X'00000F' 'H' '0')) +
                          JOB(FRZINVSTFH) JOBQ(PRKJS1) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'440F' 'STF' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3 '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' 'H' '0')) +
                          JOB(FRZINVSTFH))

/*** STF AND AGE CODE = I                                             */
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'440F' 'STF' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3 '*NO ' '*YES' X'F0F1' +
                          'A' X'0000000F' X'00000F' 'I' '0')) +
                          JOB(FRZINVSTFI) JOBQ(PRKJS1) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'440F' 'STF' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3 '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' 'I' '0')) +
                          JOB(FRZINVSTFI))
/**********************************************************************/
/*** STF AGE CODE = H   --> ALL AGES AS OF 7/16/09 PER JIM NORRIS      ***/
/**********************************************************************/
/* ADDED ON 09/25/17 BY R. CENTONZE-  FREEZER INVENTORY REPORT -- STF */

 RC1001A:    SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'440F' 'STF' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ1 '*NO ' '*YES' X'F0F1' +
                          'A' X'0000000F' X'00000F' ' ' '0')) +
                          JOB(FRZRINV3) JOBQ(PRKJS1)

/*------------------------------------------------------------------*/
/* LOAD LIST     ADDED HERE FOR STF  9-25-17 RMC                 */
/*------------------------------------------------------------------*/
/* LOAD LIST FOR CURRENT DATE */
   LOADL:    CHGVAR     VAR(&TDATE) VALUE(&DATE)

             CALL       PGM(PDOIPCLP) PARM(440.00000 &TDATE ' ' ' ' +
               440.00000  'STF' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' +
                          'S' ' ' '1' 'PRINT LOAD LIST' &OUTQ1      +
                          '*NO' '*YES' 1.00000 'GUYNIGHTQ')
             MONMSG     MSGID(CPF0000)

/* LOAD LIST FOR PRIOR DATE */
             CHGVAR     VAR(&DAYS) VALUE(1)
             CHGVAR     VAR(&TDATE2) VALUE(&TDATE)
             CHGVAR     VAR(&PDATE2) VALUE(0000000)
             CALL       PGM(POE7XFR) PARM(' ' &COMP &TDATE2 &DAYS +
                          &PDATE2)
             CHGVAR     VAR(&PDATE) VALUE(&PDATE2)

             CALL       PGM(PDOIPCLP) PARM(440.00000 &PDATE ' ' ' ' +
                440.00000 'STF' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' +
                          'S' ' ' '1' 'PRINT LOAD LIST' &OUTQ1      +
                          '*NO' '*YES' 1.00000 'GUYNIGHTQ')
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* WAREHOUSE INVENTORY/ORDERS COMPARISON                            */
/*------------------------------------------------------------------*/
             /* FROM DATE */
             CHGVAR     VAR(&TDATE) VALUE(&DATE)
             CHGVAR     VAR(&DAYS) VALUE(1)
             CHGVAR     VAR(&TDATE2) VALUE(&TDATE)
             CHGVAR     VAR(&PDATE2) VALUE(0000000)
             CALL       PGM(POE7XFR) PARM(' ' &COMP &TDATE2 &DAYS +
                          &PDATE2)

             /* TO DATE */
             CHGVAR     VAR(&DAYS2) VALUE(3)
             CALL       PGM(PDNKXFR) PARM(' ' &TDATE2 &COMP &PDATE2 +
                          &DAYS2)

             /* PRINT REPORT */
             CHGVAR     VAR(&XTDATE) VALUE(&TDATE2)
             CHGVAR     VAR(&XPDATE) VALUE(&PDATE2)
             CHGVAR     VAR(&DAYWK) VALUE('1')
             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ1      '*NO' +
                          '*YES' '1' 'PDRPPFR' 'PDRPPFR$' 'OMS' +
                          'ALL' 'S' '440' 'ST1' '' &XPDATE &XTDATE 'S' &DAYWK)
             MONMSG     MSGID(CPF0000)

             /*STF*/
             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ1      '*NO' +
                          '*YES' '1' 'PDRPPFR' 'PDRPPFR$' 'OMS' +
                          'ALL' 'D' '440' 'STF' '' &XPDATE &XTDATE 'S' &DAYWK)
ERC1001:     MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* DAILY HOLDOVER FOR PREVIOUS DAY WITH REPORT TYPE = 2             */
/*------------------------------------------------------------------*/

             CHGVAR     VAR(&PDATE) VALUE(&PDATE2)
             CALL       PGM(PDX9CLP) PARM(440.00000 &PDATE 0.00000 +
                          '2' 0.00000 0.00000 &OUTQ1      '*YES' +
                          '*YES' 1.00000 '*JOBD' '   ' '   ' '   ' +
                          '   ' '   ' '   ' '   ' '    ' '   ' '   ' +
                          ' '  0.00000  '   ' ' ' ' ' ' ')
         /*          &SELOMT  &DELIVDTN &CARRIER &SENDYN &EMAIL1  &EMAIL2) */
         /*               ' ' ' 0.00000)         WAS ABOVE???  */
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* ORDER STATUS REPORT     8/31/06 RUN FOR PRIOR DATE, WAS 0.000    */
/*------------------------------------------------------------------*/
 L61002C:    CALL       PGM(PDPDCLP) PARM(440.00000 0.00000 0.00000 +
                          &PDATE 0.00000 0.00000 'STF' 'D' '2' ' ' +
                          ' ' ' ' ' ' ' ' ' ' ' ' '   ' &OUTQ1      '*NO' +
                          '*YES' 1.00000 '*JOBD' 'N')
             MONMSG     MSGID(CPF0000)

/* ---------- EMAIL TO DISTRIBUTION LIST ---------- */
    /*       ESNDMAIL   RECIPIENT(&DISTOD) SUBJECT('Order Status +
                          STF') ATTLIST((* *PDF *N PDPUPFR$))          */
             MONMSG     MSGID(CPF0000)

   /* RMC RUN FOR ST1 TOO AS OF 9/25/17                            */
 RMC0831:    CALL       PGM(PDPDCLP) PARM(440.00000 0.00000 0.00000 +
                          &PDATE 0.00000 0.00000 'ST1' 'D' '2' ' ' +
                          ' ' ' ' ' ' ' ' ' ' ' ' '   ' &OUTQ1      '*NO' +
                          '*YES' 1.00000 '*JOBD' 'N')
             MONMSG     MSGID(CPF0000)

/* ---------- EMAIL TO DISTRIBUTION LIST ---------- */
  /*         ESNDMAIL   RECIPIENT(&DISTOD) SUBJECT('Order Status +
                          ST1') ATTLIST((* *PDF *N PDPUPFR$))          */
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/* INVENTORY ADJUSTMENT TRANSACTIONS JOURNAL                        */
/*------------------------------------------------------------------*/
/* RETRIEVE PRIOR DAY */
             CHGVAR     VAR(&TDATE2) VALUE(&DATE)
             CHGVAR     VAR(&DAYS2) VALUE(-1)
             CALL       PGM(PDNKXFR) PARM(' ' &PDATE2 &COMP &TDATE2 +
                          &DAYS2)
             CHGVAR     VAR(&PDATE) VALUE(&PDATE2)

/* ST1 */

 L70125A:    CALL       PGM(PDRCCLP) PARM('PPHNPFR' 440.00000 &PDATE +
                          &PDATE 'ST1' 0.00000 ' ' ' ' ' ' ' ' ' ' +
                          ' ' ' ' ' ' ' ' 'A' 'T' 0.00000 0.00000 +
                          0.00000 'N' ' ' ' ' 'ALL' 0.00000 +
                          235900.00000 ' ' &OUTQ1  '*NO ' +
                          '*YES' 1.00000 '  ')
             MONMSG     MSGID(CPF0000)
 E2103: /* ADD ICQHPFR FOR STF      DETAIL AS OF 8/16/12       */
             CALL       PGM(PDRCCLP) PARM('ICQHPFR' 440.00000 &PDATE +
                          &PDATE 'STF' 0.00000 ' ' ' ' ' ' ' ' ' ' +
                          ' ' ' ' ' ' ' ' 'D' 'T' 0.00000 0.00000 +
                          0.00000 'N' ' ' ' ' 'ALL' 0.00000 +
                          235900.00000 'A' &OUTQ1  '*NO ' +
                          '*YES' 1.00000 '  ')
             MONMSG     MSGID(CPF0000)
 /* E2103      COMMENT THE LOT LOCATION RPT PER NATHAN                */
  /* LOT LOCATION TRANSACTIONS                                             +
             CALL       PGM(PDTQXFR) PARM('       ' X'440F' 'STF' +
                          &PDATE &PDATE X'0000000F' '  ' '          +
                          ' 'A' &OUTQ1  '*NO ' '*YES' X'001F' +
                          'S' ' ' ' ')                    +
             MONMSG     MSGID(CPF0000)                    */
/**********************************************************************/
/* PROGRAM END                                                        */
/**********************************************************************/
 ENDPGM:
             ENDPGM
