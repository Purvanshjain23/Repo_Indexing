      *****************  RPG PROGRAM HEADING  ************************
      *
      * SYSTEM:      HPS Data Mart
      * PROGRAM:     HP210D- Delete daily records only
      * PROGRAMMER:  Barb Gutierrez
      * CREATED:     05/24/04
      *
      * Function:    This program will only delete records out of the daily nurfin files.
      *
      *              This program is called from HPBLDFIND.
      *
      ****************************************************************
      * MODIFICATIONS:
      ****************************************************************
      * DATE      PROGRAMMER
      *
      * 10/11/04  LeAnne Fedor
      *           Added a 'submitted flag' position to the data area DAFIN.
      *
      * 11/29/04  LeAnne Fedor
      *           Recompile only. Two new fields added to Datamart FIN: Reported
      *           Daily Activity:
      *               Daily farm phase
      *               Origin BGF pod
      *
      * 03/21/05  Barb Gutierrez
      *           Recompile only. Two new fields (origin BGF Pod and Sire line code)
      *           added to HPPF088.  And two new fields (culled head and culled lbs)
      *           added to HPPF103.
      *
      * 08/25/05  LeAnne Fedor
      *           Recompile only.
      *           Added a new field "Man Hours" to Datamart FIN: Reported Daily Activity.
      *
      * 10/03/05  LeAnne Fedor
      *           Recompile only.
      *           Added a new field "Avg Prior Week Dead Pounds" to the
      *           Datamart FIN: Reported Daily Activity file.
      *
      * 04/07/09  LeAnne Ramsey
      *           We are deleting file HPPF088-Datamart FIN: Farm Deaths with Reasons; it
      *           is no longer being used.
      *
      * 05/19/09  LeAnne Ramsey
      *           Recompile only. Field "projected destroyed head" was removed from
      *           Reported Daily Activity.
      *
      * 11/14/17  Danny Nguyen     (E11978 - DM Add Origin Sow Cell to NurFin Daily File)
      *           Recompile only. Added 1 field to HPPF103 file:
      *              RDOBCELL - Origin BGF Cell
      *
      /eject
      ****************************************************************
      * FILE SPECIFICATIONS
      ****************************************************************
      *
     Fhplf103b  uf   e           k disk
      *  Datamart FIN: Reported Daily Activity
      *
      /eject
      ****************************************************************
      * DEFINITION SPECIFICATIONS
      ****************************************************************
      *
      ****************************************************************
      * STANDALONE FIELDS
      ****************************************************************
      *
     D wkwkbegdt       s               d   datfmt(*iso)
     D wkwkenddt       s               d   datfmt(*iso)
      *
      ****************************************************************
      * DATA STRUCTURES
      ****************************************************************
      *
      *---------------------------------------------------------------
      * Standard program status data structure
      *---------------------------------------------------------------
      *    externally defined as UTPGFR (record format: PGMDSR)
     D pgmds         esds                  extname(utpgfr)
      *
      *
      *---------------------------------------------------------------
      * Definition for external data area DAFIN
      *---------------------------------------------------------------
     D
     Ddafin            ds                  dtaara(dafin)
     D  dacwkbegdt            29     36  0
     D  dacwkenddt            38     45  0
     D  dadays                47     49  0
     D  dasbmfl               62     62
      *
      * The following is a dummy C-spec to keep the D-specs from
      * running over into the C-specs on the compile listing. It
      * serves no other purpose and can be deleted at any time.
      *
     C                   if        sdpgm = *blank
     C                   endif
      /EJECT
      ****************************************************************
      * Mainline
      ****************************************************************
      *
      * Reported Daily Activity
      * (Logic deletes records where the record week-ending date is equal to
      * or greater than the data area week-ending date.)
      *
     C     wkwkenddt     setll     hplf103b
      *
     C                   dou       *in90 = *on                                  Do no reasons
     C                   read      hplf103b                               90
     C                   if        *in90 = *off                                 If not EOF
     C                   delete    rdrec
     C                   endif                                                  If not EOF
     C                   enddo                                                  Do no reasons
      *
     C                   seton                                        lr
      *
      *---------------------------------------------------------------
      * Initialization subroutine
      *---------------------------------------------------------------
      *
     C     *inzsr        begsr
      *
      * Bring in the data area that contains the week-beginning date and the week-ending
      * date for the first week of 'current' data.
      *
     C                   in        dafin
      *
     C                   movel     dacwkbegdt    wkwkbegdt
     C                   movel     dacwkenddt    wkwkenddt
      *
     C                   endsr
      /eject
