// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PWOMXFR
// ?Date: 14.08.2025 Time: 02:57:13
// ?------------------------------------------------------------------------------------------------

//?Execute user function

// LCL.VCH Batch Number = CVTVAR(PAR.Text 5                USR)
LCL.VCH_Batch_Number = CVTVAR(PAR.Text_5_USR);

// LCL.Company Number Alpha Usr = CVTVAR(PAR.VCH Company number)
LCL.Company_Number_Alpha_Usr = CVTVAR(PAR.VCH_Company_number);

EXECUTE FUNCTION(Rtv Vch Payee Type    RT) TYPE(RTVOBJ) FILE(PKBKCPP)           AB1371351;
PARAMETER(PAR.VCH_Company_number);
PARAMETER(LCL.VCH_Batch_Number);
PARAMETER(LCL.VCH_Payee_Type);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 //?get 1st payee type
 MOVE *ALL (To: PAR From: DB1);

 QUIT;

}


CASE;

// IF LCL.VCH Payee Type is Internal
IF LCL.VCH_Payee_Type = 'I';

// LCL.Payment type Desc Usr 16 = CONCAT(CON.Internal,CON.GL Batch,CON.1)
LCL.Payment_type_Desc_Usr_16 = 'Internal' + 'GL Batch' (1);

// IF LCL.VCH Payee Type is External
IF LCL.VCH_Payee_Type = 'E';

// LCL.Payment type Desc Usr 16 = CONCAT(CON.Producer,CON.Payment,CON.1)
LCL.Payment_type_Desc_Usr_16 = 'Producer' + 'Payment' (1);

// IF LCL.VCH Payee Type is Trucker
IF LCL.VCH_Payee_Type = 'T';

// LCL.Payment type Desc Usr 16 = CONCAT(CON.Trucker,CON.Payment,CON.1)
LCL.Payment_type_Desc_Usr_16 = 'Trucker' + 'Payment' (1);

// IF *OTHERWISE
IF *OTHERWISE;

// LCL.Payment type Desc Usr 16 = CONCAT(CON.Hog,CON.Payment,CON.1)
LCL.Payment_type_Desc_Usr_16 = 'Hog' + 'Payment' (1);

ENDIF;

// PAR.Desc USR = CONCAT(LCL.Company Number Alpha Usr,LCL.Payment type Desc Usr 16,CON.1)
PAR.Desc_USR = LCL.Company_Number_Alpha_Usr + LCL.Payment_type_Desc_Usr_16 (1);

