// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMMNXFR
// ?Date: 14.08.2025 Time: 03:43:28
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?** Convert CYYMMDD date to YYYYMMDD
EXECUTE FUNCTION(CNV cyymmdd to yyyymmdd) TYPE(EXCINTFUN)                       AC1732965;
PARAMETER(PAR.Purge_Date_USR);
PARAMETER(WRK.ISC_Week_Ending_Date);
{
 //?Execute internal function

 // LCL.Year Code = PAR.Date In  (7,0) USR *YEAR
 LCL.Year_Code = DATEDTLS(PAR.Date_In_70_USR 'YR' 1111111 'NONE' 'N' 1);

 // LCL.Month NBR USR = PAR.Date In  (7,0) USR *MONTH
 LCL.Month_NBR_USR = DATEDTLS(PAR.Date_In_70_USR 'MO' 1111111 'NONE' 'N' 1);

 // LCL.Day of Month USR = PAR.Date In  (7,0) USR *DAY OF MONTH
 LCL.Day_of_Month_USR = DATEDTLS(PAR.Date_In_70_USR 'DM' 1111111 'NONE' 'N' 1);

 // PAR.Year Alpha (YYYY) USR = CVTVAR(LCL.Year Code)
 PAR.Year_Alpha_YYYY_USR = CVTVAR(LCL.Year_Code);

 // PAR.Month (Char) USR = CVTVAR(LCL.Month NBR USR)
 PAR.Month_Char_USR = CVTVAR(LCL.Month_NBR_USR);

 // PAR.Day   (Char) USR = CVTVAR(LCL.Day of Month USR)
 PAR.Day_Char_USR = CVTVAR(LCL.Day_of_Month_USR);

 // PAR.Date (Char-8) USR = CONCAT(PAR.Year Alpha (YYYY) USR,PAR.Month (Char) USR,CON.*ZERO)
 PAR.Date_Char_8_USR = PAR.Year_Alpha_YYYY_USR + PAR.Month_Char_USR (*ZERO);

 // PAR.Date (Char-8) USR = CONCAT(PAR.Date (Char-8) USR,PAR.Day   (Char) USR,CON.*ZERO)
 PAR.Date_Char_8_USR = PAR.Date_Char_8_USR + PAR.Day_Char_USR (*ZERO);

 // PAR.Date Out (8,0) USR = CVTVAR(PAR.Date (Char-8) USR)
 PAR.Date_Out_80_USR = CVTVAR(PAR.Date_Char_8_USR);

}


//?R9083 02/22/17 DN-Changed to Use New Access Path PPBSCPLB.
EXECUTE FUNCTION(RTV Inventory Stock Purge) TYPE(RTVOBJ) FILE(PPBSCPP)          AC1844106;
PARAMETER(WRK.ISC_Week_Ending_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(CRT Inventory Stock Purge) TYPE(CRTOBJ) FILE(PPBSCPP)          AC1844105;
 PARAMETER(DB1.ISC_Week_Ending_Date);
 PARAMETER(DB1.ISC_Warehouse_Company);
 PARAMETER(DB1.ISC_Warehouse_Code);
 PARAMETER(DB1.ISC_Item_Code);
 PARAMETER(DB1.ISC_Warehouse_Type);
 PARAMETER(DB1.ISC_Item_Cmdty_Price_Grp);
 PARAMETER(DB1.ISC_Item_Dft_Cmdty_Mkt_Bs);
 PARAMETER(DB1.ISC_Item_Type);
 PARAMETER(DB1.ISC_Item_Market_Overage);
 PARAMETER(DB1.ISC_Item_Structure_Type);
 PARAMETER(DB1.ISC_Item_Structure_Group);
 PARAMETER(DB1.ISC_Item_Structure_Class);
 PARAMETER(DB1.ISC_Item_GL_Sub_Code);
 PARAMETER(DB1.ISC_Item_UOM_Pricing);
 PARAMETER(DB1.ISC_Begin_Inv_Final_Qty);
 PARAMETER(DB1.ISC_Begin_Inv_Final_Lbs);
 PARAMETER(DB1.ISC_Begin_Inv_Adjust_Qty);
 PARAMETER(DB1.ISC_Begin_Inv_Adjust_Lbs);
 PARAMETER(DB1.ISC_Begin_Inv_Qty);
 PARAMETER(DB1.ISC_Begin_Inv_Lbs);
 PARAMETER(DB1.ISC_Floor_Production_Qty);
 PARAMETER(DB1.ISC_Floor_Production_Lbs);
 PARAMETER(DB1.ISC_Floor_Prod_Adj_Qty);
 PARAMETER(DB1.ISC_Floor_Prod_Adj_Lbs);
 PARAMETER(DB1.ISC_Sales_Production_Qty);
 PARAMETER(DB1.ISC_Sales_Production_Lbs);
 PARAMETER(DB1.ISC_Inventory_Shipmnt_Qty);
 PARAMETER(DB1.ISC_Inventory_Shipmnt_Lbs);
 PARAMETER(DB1.ISC_Ord_Dtl_Shipment_Qty);
 PARAMETER(DB1.ISC_Ord_Dtl_Shipment_Lbs);
 PARAMETER(DB1.ISC_Shipment_Final_Qty);
 PARAMETER(DB1.ISC_Shipment_Final_Lbs);
 PARAMETER(DB1.ISC_FOB_Gross_Amount);
 PARAMETER(DB1.ISC_Inventory_Txfr_Qty);
 PARAMETER(DB1.ISC_Inventory_Txfr_Lbs);
 PARAMETER(DB1.ISC_Misc_Invntry_Adj_Qty);
 PARAMETER(DB1.ISC_Misc_Invntry_Adj_Lbs);
 PARAMETER(DB1.ISC_Ending_Inventory_Qty);
 PARAMETER(DB1.ISC_Ending_Inventory_Lbs);
 PARAMETER(DB1.ISC_End_Inv_User_Id);
 PARAMETER(DB1.ISC_End_Inv_Date);
 PARAMETER(DB1.ISC_End_Inv_Time);
 PARAMETER(DB1.ISC_Sun_Ship_Inv_Adj_Qty);
 PARAMETER(DB1.ISC_Sun_Ship_Inv_Adj_Lbs);
 PARAMETER(DB1.ISC_Unsh_Ship_Inv_Adj_Qty);
 PARAMETER(DB1.ISC_Unsh_Ship_Inv_Adj_Lbs);
 PARAMETER(DB1.ISC_End_Inv_Partial_Qty);
 PARAMETER(DB1.ISC_End_Inv_Partial_Lbs);
 PARAMETER(DB1.ISC_Ending_Inv_Adj_Qty);
 PARAMETER(DB1.ISC_Ending_Inv_Adj_Lbs);
 PARAMETER(DB1.ISC_End_Inv_Adj_Comment);
 PARAMETER(DB1.ISC_Ending_Inv_Adj_User);
 PARAMETER(DB1.ISC_Ending_Inv_Adj_Date);
 PARAMETER(DB1.ISC_Ending_Inv_Adj_Time);
 PARAMETER(DB1.ISC_Ending_Inv_Final_Qty);
 PARAMETER(DB1.ISC_Ending_Inv_Final_Lbs);
 PARAMETER(DB1.ISC_Warehouse_Price_UOM);
 PARAMETER(DB1.ISC_Warehouse_Price_Ovrrd);
 PARAMETER(DB1.ISC_Post_Balance_Sts);
 PARAMETER(DB1.ISC_Post_Warehouse_Sts);
 PARAMETER(DB1.ISC_Commission_Amount);
 PARAMETER(DB1.ISC_Unused_Lbs_1);
 PARAMETER(DB1.ISC_TF_Exempt_NPR_Dollars);
 PARAMETER(DB1.ISC_TF_Exempt_Pounds);
 PARAMETER(DB1.ISC_Valuation_Grouping);
 PARAMETER(DB1.ISC_Unused_Date_1);
 PARAMETER(DB1.ISC_Unused_Sts_2);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Create_Date);
 PARAMETER(DB1.Create_Time);
 PARAMETER(DB1.Create_User);
 PARAMETER(DB1.Create_Program);
 PARAMETER(DB1.Change_Date);
 PARAMETER(DB1.Change_Time);
 PARAMETER(DB1.Change_User);
 PARAMETER(DB1.Change_Program);
 EXECUTE FUNCTION(Del Inventory Stock   DO) TYPE(DLTOBJ) FILE(PPBSCPP)           AC1738129;
 PARAMETER(DB1.ISC_Week_Ending_Date);
 PARAMETER(DB1.ISC_Warehouse_Company);
 PARAMETER(DB1.ISC_Warehouse_Code);
 PARAMETER(DB1.ISC_Item_Code);
 {
  //?USER: Processing before Data update

  //?R9083 02/22/17 DN-Access Path is Read by WeekEnd. Removed RST on Item Cde.
  EXECUTE FUNCTION(RTV Inventory Value Purge) TYPE(RTVOBJ) FILE(PPBTCPP)          AC1844118;
  PARAMETER(PAR.ISC_Week_Ending_Date);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(CRT Inventory Value Purge) TYPE(CRTOBJ) FILE(PPBTCPP)          AC1844121;
   PARAMETER(DB1.IVF_Valuation_Grouping);
   PARAMETER(DB1.IVF_Week_Ending_Date);
   PARAMETER(DB1.IVF_Item_Code);
   PARAMETER(DB1.IVF_WIP_FG_Item_Code);
   PARAMETER(DB1.IVF_Item_Type);
   PARAMETER(DB1.IVF_Unused_Sts_2);
   PARAMETER(DB1.IVF_Item_Cmdty_Price_Grp);
   PARAMETER(DB1.IVF_Item_Dft_Cmdty_Mkt_Bs);
   PARAMETER(DB1.IVF_Item_Structure_Type);
   PARAMETER(DB1.IVF_Item_Structure_Group);
   PARAMETER(DB1.IVF_Item_Structure_Class);
   PARAMETER(DB1.IVF_Item_Market_Overage);
   PARAMETER(DB1.IVF_Item_GL_Sub_Code);
   PARAMETER(DB1.IVF_Item_UOM_Pricing);
   PARAMETER(DB1.IVF_Inventory_Value_Mthd);
   PARAMETER(DB1.IVF_Production_Value_Mthd);
   PARAMETER(DB1.IVF_Beg_Inv_Price_Per_CWT);
   PARAMETER(DB1.IVF_Sales_Price_Per_CWT);
   PARAMETER(DB1.IVF_Sales_Price_Per_LB_Dt);
   PARAMETER(DB1.IVF_Market_Price_Per_CWT);
   PARAMETER(DB1.IVF_Warehouse_Pounds);
   PARAMETER(DB1.IVF_Whs_Price_Per_CWT);
   PARAMETER(DB1.IVF_Ovrrde_Prod_Price_CWT);
   PARAMETER(DB1.IVF_Ovrrde_Prod_Comment);
   PARAMETER(DB1.IVF_Curr_Wk_Prod_Price_CW);
   PARAMETER(DB1.IVF_Curr_Wk_Prod_Status);
   PARAMETER(DB1.IVF_Ovrrde_Inv_Val_Prc_CW);
   PARAMETER(DB1.IVF_Ovrrde_Inv_Val_Commnt);
   PARAMETER(DB1.IVF_Cur_Wk_Inv_Val_Prc_CW);
   PARAMETER(DB1.IVF_Cur_Wk_Inv_Val_Status);
   PARAMETER(DB1.IVF_Unused_Weight);
   PARAMETER(DB1.IVF_Post_Inventory_Sts);
   PARAMETER(DB1.IVF_Unused_Date);
   PARAMETER(DB1.Record_Status);
   PARAMETER(DB1.Create_Date);
   PARAMETER(DB1.Create_Time);
   PARAMETER(DB1.Create_User);
   PARAMETER(DB1.Create_Program);
   PARAMETER(DB1.Change_Date);
   PARAMETER(DB1.Change_Time);
   PARAMETER(DB1.Change_User);
   PARAMETER(DB1.Change_Program);
   EXECUTE FUNCTION(Del Inventory Value   DO) TYPE(DLTOBJ) FILE(PPBTCPP)           AC1738126;
   PARAMETER(DB1.IVF_Valuation_Grouping);
   PARAMETER(DB1.IVF_Week_Ending_Date);
   PARAMETER(DB1.IVF_Item_Code);
  }

 }

}


