/***************************************************************** */
/*                                                                 */
/*  PROGRAM NUMBER:  PPFVUPC - CLONE FROM POPMUPC                  */
/*  PROGRAM NAME:    ESEND FILE MESSAGE                            */
/*  PROGRAMMER:      SUSAN MASON                                   */
/*  CREATE DATE:     07/26/2004                                    */
/*                                                                 */
/*  FUNCTION:        This CLP will send a message to the users'    */
/*                   in the distribution list through ESNDFILE     */
/*                                                                 */
/*                   USER OPTIONS ARE PASSED THROUGH THE PARMS.    */
/*                                                                 */
/*******************************************************************/
/*  Modification History                                           */
/*                                                                 */
/*******************************************************************/
             PGM PARM(&DSTLST &TXT &MSG1 &MSG2 &MSG3 &MSG4 &MSG5)

/*-----------------------------------------------------------------*/
/*                      PARAMETER                                  */
/*-----------------------------------------------------------------*/
/* Input                                                           */
             DCL        VAR(&DSTLST) TYPE(*CHAR) LEN(10)
             DCL        VAR(&MSGL) TYPE(*CHAR) LEN(256)
             DCL        VAR(&TXT) TYPE(*CHAR) LEN(50)
             DCL        VAR(&MSG1) TYPE(*CHAR) LEN(40)
             DCL        VAR(&MSG2) TYPE(*CHAR) LEN(40)
             DCL        VAR(&MSG3) TYPE(*CHAR) LEN(40)
             DCL        VAR(&MSG4) TYPE(*CHAR) LEN(40)
             DCL        VAR(&MSG5) TYPE(*CHAR) LEN(40)

/*-----------------------------------------------------------------*/
/*                     INITIALIZATION                              */
/*-----------------------------------------------------------------*/

/*-----------------------------------------------------------------*/
/*                           MAIN                                  */
/*-----------------------------------------------------------------*/
             CHGVAR     VAR(&MSGL) VALUE(&TXT *BCAT &MSG1 *BCAT +
                          &MSG2 *BCAT &MSG3 *BCAT &MSG4 *BCAT &MSG5)
             ADDLIBLE ESEND *LAST
             MONMSG     MSGID(CPF0000)

             ESNDFILE   RECIPIENT('*LIBL/MAILGROUPS(PRKSCHED)') +
                          SUBJECT('Item Change') MSG(&MSGL)
             MONMSG     MSGID(CPF0000) EXEC(DO)
             SNDMSG     MSG('ERROR IN ESNDMAIL FOR ITEM' *BCAT +
                     &TXT) TOUSR(SEABOARD)
             CHGJOB     LOG(4 0 *SECLVL)
             ENDDO
/*-----------------------------------------------------------------*/
/*                      PROGRAM END                                */
/*-----------------------------------------------------------------*/
 ENDPGM:
             ENDPGM
