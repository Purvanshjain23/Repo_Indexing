// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUMQXFR
// ?Date: 14.08.2025 Time: 03:50:48
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?**************************************************************************
//?** PR1 Parms Represent Old Record Fields (Will be blank for Insert).
//?** PR2 Parms Represent New Record Fields (Will be blank for Delete).
//?**************************************************************************
//?Trigger Processing for Insert Event.
CASE;

// IF PR3.TRG Database Event is Insert
IF PR3.TRG_Database_Event = '1';

EXECUTE FUNCTION(Crt BI Ord Hdr Ext TRG CR) TYPE(CRTOBJ) FILE(PUBECPP)          AC2172139;
PARAMETER(PR2.Company_Number);
PARAMETER(PR2.Order_Number);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.BIOHE_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

//?Trigger Processing for Update Event.
CASE;

// IF PR3.TRG Database Event is Update
IF PR3.TRG_Database_Event = '3';

// LCL.Update Record USR = CND.No
LCL.Update_Record_USR = 'N';

//?Set Update Flag If Any 1st 50 Non-Key Fields Have Changed.
CASE;

// IF PR1.Load ID NE PR2.Load ID
IF PR1.Load_ID <> PR2.Load_ID;

// OR PR1.Stop/Drop Sequence Number NE PR2.Stop/Drop Sequence Number
OR PR1.Stop_Drop_Sequence_Number <> PR2.Stop_Drop_Sequence_Number;

// OR PR1.Shipping Line NE PR2.Shipping Line
OR PR1.Shipping_Line <> PR2.Shipping_Line;

// OR PR1.Port Delv Terminal NE PR2.Port Delv Terminal
OR PR1.Port_Delv_Terminal <> PR2.Port_Delv_Terminal;

// OR PR1.OHE City NE PR2.OHE City
OR PR1.OHE_City <> PR2.OHE_City;

// OR PR1.OHE Vessel/Airline NE PR2.OHE Vessel/Airline
OR PR1.OHE_Vessel_Airline <> PR2.OHE_Vessel_Airline;

// OR PR1.OHE Voyage/Flight NE PR2.OHE Voyage/Flight
OR PR1.OHE_Voyage_Flight <> PR2.OHE_Voyage_Flight;

// OR PR1.OHE Booking Number NE PR2.OHE Booking Number
OR PR1.OHE_Booking_Number <> PR2.OHE_Booking_Number;

// OR PR1.OHE Discharge Port/Airprt NE PR2.OHE Discharge Port/Airprt
OR PR1.OHE_Discharge_Port_Airprt <> PR2.OHE_Discharge_Port_Airprt;

// OR PR1.OHE Sail/Flight Date NE PR2.OHE Sail/Flight Date
OR PR1.OHE_Sail_Flight_Date <> PR2.OHE_Sail_Flight_Date;

// OR PR1.OHE Port Cut Date NE PR2.OHE Port Cut Date
OR PR1.OHE_Port_Cut_Date <> PR2.OHE_Port_Cut_Date;

// OR PR1.OHE Arrival Date NE PR2.OHE Arrival Date
OR PR1.OHE_Arrival_Date <> PR2.OHE_Arrival_Date;

// OR PR1.OHE Late Delivery Code NE PR2.OHE Late Delivery Code
OR PR1.OHE_Late_Delivery_Code <> PR2.OHE_Late_Delivery_Code;

// OR PR1.OHE Ship Status NE PR2.OHE Ship Status
OR PR1.OHE_Ship_Status <> PR2.OHE_Ship_Status;

// OR PR1.OHE Container Number NE PR2.OHE Container Number
OR PR1.OHE_Container_Number <> PR2.OHE_Container_Number;

// OR PR1.OHE Comment 1 NE PR2.OHE Comment 1
OR PR1.OHE_Comment_1 <> PR2.OHE_Comment_1;

// OR PR1.OHE Comment 2 NE PR2.OHE Comment 2
OR PR1.OHE_Comment_2 <> PR2.OHE_Comment_2;

// OR PR1.OHE Unused Number 1-11.0 NE PR2.OHE Unused Number 1-11.0
OR PR1.OHE_Unused_Number_1_11_0 <> PR2.OHE_Unused_Number_1_11_0;

// OR PR1.OHE Unused Number 2-11.0 NE PR2.OHE Unused Number 2-11.0
OR PR1.OHE_Unused_Number_2_11_0 <> PR2.OHE_Unused_Number_2_11_0;

// OR PR1.OHE Unused Number 3-11.0 NE PR2.OHE Unused Number 3-11.0
OR PR1.OHE_Unused_Number_3_11_0 <> PR2.OHE_Unused_Number_3_11_0;

// OR PR1.OHE Unused Number 4-11.0 NE PR2.OHE Unused Number 4-11.0
OR PR1.OHE_Unused_Number_4_11_0 <> PR2.OHE_Unused_Number_4_11_0;

// OR PR1.OHE HPB RIN Equiv Value NE PR2.OHE HPB RIN Equiv Value
OR PR1.OHE_HPB_RIN_Equiv_Value <> PR2.OHE_HPB_RIN_Equiv_Value;

// OR PR1.OHE HPB RIN Price NE PR2.OHE HPB RIN Price
OR PR1.OHE_HPB_RIN_Price <> PR2.OHE_HPB_RIN_Price;

// OR PR1.Transload Terminal Fees NE PR2.Transload Terminal Fees
OR PR1.Transload_Terminal_Fees <> PR2.Transload_Terminal_Fees;

// OR PR1.OHE Est Arrv at Dest Date NE PR2.OHE Est Arrv at Dest Date
OR PR1.OHE_Est_Arrv_at_Dest_Date <> PR2.OHE_Est_Arrv_at_Dest_Date;

// OR PR1.OHE Backhaul ETA RtrnDate NE PR2.OHE Backhaul ETA RtrnDate
OR PR1.OHE_Backhaul_ETA_RtrnDate <> PR2.OHE_Backhaul_ETA_RtrnDate;

// OR PR1.OHE Port/Pier Paid Date NE PR2.OHE Port/Pier Paid Date
OR PR1.OHE_Port_Pier_Paid_Date <> PR2.OHE_Port_Pier_Paid_Date;

// OR PR1.OHE Actual Ship Date NE PR2.OHE Actual Ship Date
OR PR1.OHE_Actual_Ship_Date <> PR2.OHE_Actual_Ship_Date;

// OR PR1.OHE Carrier SCAC Code NE PR2.OHE Carrier SCAC Code
OR PR1.OHE_Carrier_SCAC_Code <> PR2.OHE_Carrier_SCAC_Code;

// OR PR1.OHE Spot Buy NE PR2.OHE Spot Buy
OR PR1.OHE_Spot_Buy <> PR2.OHE_Spot_Buy;

// OR PR1.OHE PO ACK Flag NE PR2.OHE PO ACK Flag
OR PR1.OHE_PO_ACK_Flag <> PR2.OHE_PO_ACK_Flag;

// OR PR1.OHE Override Type Code NE PR2.OHE Override Type Code
OR PR1.OHE_Override_Type_Code <> PR2.OHE_Override_Type_Code;

// OR PR1.OHE Backhaul Status NE PR2.OHE Backhaul Status
OR PR1.OHE_Backhaul_Status <> PR2.OHE_Backhaul_Status;

// OR PR1.OHE Backhaul ETA AM/PM NE PR2.OHE Backhaul ETA AM/PM
OR PR1.OHE_Backhaul_ETA_AM_PM <> PR2.OHE_Backhaul_ETA_AM_PM;

// OR PR1.OHE Load Haul Type NE PR2.OHE Load Haul Type
OR PR1.OHE_Load_Haul_Type <> PR2.OHE_Load_Haul_Type;

// OR PR1.OHE Backhaul Carrier Code NE PR2.OHE Backhaul Carrier Code
OR PR1.OHE_Backhaul_Carrier_Code <> PR2.OHE_Backhaul_Carrier_Code;

// OR PR1.OHE Bookings Confirmed NE PR2.OHE Bookings Confirmed
OR PR1.OHE_Bookings_Confirmed <> PR2.OHE_Bookings_Confirmed;

// OR PR1.OHE EDI Error Reasons NE PR2.OHE EDI Error Reasons
OR PR1.OHE_EDI_Error_Reasons <> PR2.OHE_EDI_Error_Reasons;

// OR PR1.HPB COA Batch Number NE PR2.HPB COA Batch Number
OR PR1.HPB_COA_Batch_Number <> PR2.HPB_COA_Batch_Number;

// OR PR1.Delivery P.O. Number NE PR2.Delivery P.O. Number
OR PR1.Delivery_P_O_Number <> PR2.Delivery_P_O_Number;

// OR PR1.OHE Intended for ExportCC NE PR2.OHE Intended for ExportCC
OR PR1.OHE_Intended_for_ExportCC <> PR2.OHE_Intended_for_ExportCC;

// OR PR1.OHE EDI 943 Action NE PR2.OHE EDI 943 Action
OR PR1.OHE_EDI_943_Action <> PR2.OHE_EDI_943_Action;

// OR PR1.OHE EDI 944 Action NE PR2.OHE EDI 944 Action
OR PR1.OHE_EDI_944_Action <> PR2.OHE_EDI_944_Action;

// OR PR1.OHE EDI 940 Action NE PR2.OHE EDI 940 Action
OR PR1.OHE_EDI_940_Action <> PR2.OHE_EDI_940_Action;

// OR PR1.OHE EDI 945 Action NE PR2.OHE EDI 945 Action
OR PR1.OHE_EDI_945_Action <> PR2.OHE_EDI_945_Action;

// OR PR1.OHE Transload Seal Nbr NE PR2.OHE Transload Seal Nbr
OR PR1.OHE_Transload_Seal_Nbr <> PR2.OHE_Transload_Seal_Nbr;

// OR PR1.OHE Abs Rate Override Rsn NE PR2.OHE Abs Rate Override Rsn
OR PR1.OHE_Abs_Rate_Override_Rsn <> PR2.OHE_Abs_Rate_Override_Rsn;

// OR PR1.OHE Appt Confirmation # NE PR2.OHE Appt Confirmation #
OR PR1.OHE_Appt_Confirmation_# <> PR2.OHE_Appt_Confirmation_#;

// OR PR1.OHE Backhaul Container# NE PR2.OHE Backhaul Container#
OR PR1.OHE_Backhaul_Container# <> PR2.OHE_Backhaul_Container#;

// OR PR1.OHE Backhaul Chassis # NE PR2.OHE Backhaul Chassis #
OR PR1.OHE_Backhaul_Chassis_# <> PR2.OHE_Backhaul_Chassis_#;

// LCL.Update Record USR = CND.Yes
LCL.Update_Record_USR = 'Y';

ENDIF;

//?Set Update Flag If Any Remaining Non-Key Fields Have Changed.
CASE;

// IF PR1.OHE Transload Container# NE PR2.OHE Transload Container#
IF PR1.OHE_Transload_Container# <> PR2.OHE_Transload_Container#;

// OR PR1.OHE Pier Pass Invoice NE PR2.OHE Pier Pass Invoice
OR PR1.OHE_Pier_Pass_Invoice <> PR2.OHE_Pier_Pass_Invoice;

// OR PR1.OHE Carrier Nm NE PR2.OHE Carrier Nm
OR PR1.OHE_Carrier_Nm <> PR2.OHE_Carrier_Nm;

// OR PR1.OHE Appt Confirmation Nm NE PR2.OHE Appt Confirmation Nm
OR PR1.OHE_Appt_Confirmation_Nm <> PR2.OHE_Appt_Confirmation_Nm;

// OR PR1.OHE Backhaul Comment NE PR2.OHE Backhaul Comment
OR PR1.OHE_Backhaul_Comment <> PR2.OHE_Backhaul_Comment;

// OR PR1.Letter of Credit Number NE PR2.Letter of Credit Number
OR PR1.Letter_of_Credit_Number <> PR2.Letter_of_Credit_Number;

// OR PR1.OHE Backhaul Return to Co NE PR2.OHE Backhaul Return to Co
OR PR1.OHE_Backhaul_Return_to_Co <> PR2.OHE_Backhaul_Return_to_Co;

// OR PR1.LD Stop/Drop NE PR2.LD Stop/Drop
OR PR1.LD_Stop_Drop <> PR2.LD_Stop_Drop;

// OR PR1.OHE Unused Number 3.0 NE PR2.OHE Unused Number 3.0
OR PR1.OHE_Unused_Number_3_0 <> PR2.OHE_Unused_Number_3_0;

// OR PR1.OHE Pier Pass Fee Amount NE PR2.OHE Pier Pass Fee Amount
OR PR1.OHE_Pier_Pass_Fee_Amount <> PR2.OHE_Pier_Pass_Fee_Amount;

// OR PR1.OHE Port Check Fee Amount NE PR2.OHE Port Check Fee Amount
OR PR1.OHE_Port_Check_Fee_Amount <> PR2.OHE_Port_Check_Fee_Amount;

// OR PR1.OHE Port Cut Time NE PR2.OHE Port Cut Time
OR PR1.OHE_Port_Cut_Time <> PR2.OHE_Port_Cut_Time;

// OR PR1.OHE Backhaul Truck Number NE PR2.OHE Backhaul Truck Number
OR PR1.OHE_Backhaul_Truck_Number <> PR2.OHE_Backhaul_Truck_Number;

// OR PR1.OHE Load Sched Seq Num NE PR2.OHE Load Sched Seq Num
OR PR1.OHE_Load_Sched_Seq_Num <> PR2.OHE_Load_Sched_Seq_Num;

// OR PR1.Original Appointment Date NE PR2.Original Appointment Date
OR PR1.Original_Appointment_Date <> PR2.Original_Appointment_Date;

// OR PR1.Original Appointment Time NE PR2.Original Appointment Time
OR PR1.Original_Appointment_Time <> PR2.Original_Appointment_Time;

// OR PR1.OHE PowerPro Load#-Outbnd NE PR2.OHE PowerPro Load#-Outbnd
OR PR1.OHE_PowerPro_Load#_Outbnd <> PR2.OHE_PowerPro_Load#_Outbnd;

// OR PR1.OHE PowerPro Load#-Bckhl NE PR2.OHE PowerPro Load#-Bckhl
OR PR1.OHE_PowerPro_Load#_Bckhl <> PR2.OHE_PowerPro_Load#_Bckhl;

// OR PR1.OHE Unused Numeric 9,0 3 NE PR2.OHE Unused Numeric 9,0 3
OR PR1.OHE_Unused_Numeric_9_0_3 <> PR2.OHE_Unused_Numeric_9_0_3;

// OR PR1.OHE Orig ABS Freight Rate NE PR2.OHE Orig ABS Freight Rate
OR PR1.OHE_Orig_ABS_Freight_Rate <> PR2.OHE_Orig_ABS_Freight_Rate;

// OR PR1.EDI Status 1 NE PR2.EDI Status 1
OR PR1.EDI_Status_1 <> PR2.EDI_Status_1;

// OR PR1.EDI Status 2 NE PR2.EDI Status 2
OR PR1.EDI_Status_2 <> PR2.EDI_Status_2;

// OR PR1.EDI Status 3 NE PR2.EDI Status 3
OR PR1.EDI_Status_3 <> PR2.EDI_Status_3;

// OR PR1.Record Status NE PR2.Record Status
OR PR1.Record_Status <> PR2.Record_Status;

// OR PR1.OHE EDI Error Reasons 2 NE PR2.OHE EDI Error Reasons 2
OR PR1.OHE_EDI_Error_Reasons_2 <> PR2.OHE_EDI_Error_Reasons_2;

// OR PR1.OHE EDI 856 Action NE PR2.OHE EDI 856 Action
OR PR1.OHE_EDI_856_Action <> PR2.OHE_EDI_856_Action;

// OR PR1.OHE EDI 824 Action NE PR2.OHE EDI 824 Action
OR PR1.OHE_EDI_824_Action <> PR2.OHE_EDI_824_Action;

// OR PR1.OHE Genset Number NE PR2.OHE Genset Number
OR PR1.OHE_Genset_Number <> PR2.OHE_Genset_Number;

// OR PR1.OHE Unused Status 1 NE PR2.OHE Unused Status 1
OR PR1.OHE_Email_BOL_Sent <> PR2.OHE_Email_BOL_Sent;

// OR PR1.OHE Unused Status 2 NE PR2.OHE Unused Status 2
OR PR1.OHE_EDI_Order_Automated <> PR2.OHE_EDI_Order_Automated;

// OR PR1.OHE Unused Status 3 NE PR2.OHE Unused Status 3
OR PR1.OHE_EDI_601_Action <> PR2.OHE_EDI_601_Action;

// OR PR1.OHE Unused Status 4 NE PR2.OHE Unused Status 4
OR PR1.OHE_Unused_Status_4 <> PR2.OHE_Unused_Status_4;

// OR PR1.OHE Unused Text 1 NE PR2.OHE Unused Text 1
OR PR1.OHE_Unused_Text_1 <> PR2.OHE_Unused_Text_1;

// OR PR1.OHE Unused Text 2 NE PR2.OHE Unused Text 2
OR PR1.OHE_Unused_Text_2 <> PR2.OHE_Unused_Text_2;

// OR PR1.OHE Unused Text 3 NE PR2.OHE Unused Text 3
OR PR1.OHE_Customer_Vendor_f_PO <> PR2.OHE_Customer_Vendor_f_PO;

// OR PR1.OHE Unused Text 4 NE PR2.OHE Unused Text 4
OR PR1.OHE_EDI_824_AES_ITN_# <> PR2.OHE_EDI_824_AES_ITN_#;

// OR PR1.OHE Unused Text 5 NE PR2.OHE Unused Text 5
OR PR1.OHE_Unused_Text_5 <> PR2.OHE_Unused_Text_5;

// OR PR1.OHE Unused Date 1 NE PR2.OHE Unused Date 1
OR PR1.OHE_Unused_Date_1 <> PR2.OHE_Unused_Date_1;

// OR PR1.OHE Unused Date 2 NE PR2.OHE Unused Date 2
OR PR1.OHE_Unused_Date_2 <> PR2.OHE_Unused_Date_2;

// LCL.Update Record USR = CND.Yes
LCL.Update_Record_USR = 'Y';

ENDIF;

//?Update Record?
CASE;

// IF LCL.Update Record USR is Yes
IF LCL.Update_Record_USR = 'Y';

EXECUTE FUNCTION(Crt BI Ord Hdr Ext TRG CR) TYPE(CRTOBJ) FILE(PUBECPP)          AC2172139;
PARAMETER(PR2.Company_Number);
PARAMETER(PR2.Order_Number);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.BIOHE_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

ENDIF;

//?Trigger Processing for Delete Event.
CASE;

// IF PR3.TRG Database Event is Delete
IF PR3.TRG_Database_Event = '2';

EXECUTE FUNCTION(Crt BI Ord Hdr Ext TRG CR) TYPE(CRTOBJ) FILE(PUBECPP)          AC2172139;
PARAMETER(PR1.Company_Number);
PARAMETER(PR1.Order_Number);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.BIOHE_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

