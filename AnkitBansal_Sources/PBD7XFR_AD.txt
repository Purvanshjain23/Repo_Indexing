// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBD7XFR
// ?Date: 14.08.2025 Time: 03:47:35
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Cnv Item Categ Str 6  RT) TYPE(RTVOBJ) FILE(CABZREP)           AC2046877;
{
 //?USER: Initialize routine

 // WRK.Item Structure Class Code = CON.430
 WRK.Item_Structure_Class_Code = 430;

 //?USER: Process Data record

 // LCL.Item Category Number 6 = CON.06
 LCL.Item_Category_Number_6 = 06;

 //?**
 CASE;

 // IF DB1.Primal Group Code is BELLY
 IF DB1.Primal_Group_Code = 'BELLY';

 // LCL.Item Category Code 6 = CON.BEL
 LCL.Item_Primal_Sched_Report = 'BEL';

 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(LCL.Item_Category_Number_6);
 PARAMETER(LCL.Item_Primal_Sched_Report);
 // IF DB1.Primal Group Code is TRIMR
 IF DB1.Primal_Group_Code = 'TRIMR';

 // OR DB1.Primal Group Code is TRIMS
 OR DB1.Primal_Group_Code = 'TRIMS';

 //?SPECIFIC: Ignore item groups of 400 - 499 else update
 CASE;

 // IF DB1.Item Structure Group Code is 400 - 499
 IF DB1.Item_Structure_Group_Code >= 400;
 AND DB1.Item_Structure_Group_Code <= 499;

 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 //?SPECIFIC: Ignore item groups of 400 - 499 else update
 // IF *OTHERWISE
 IF *OTHERWISE;

 // LCL.Item Category Code 6 = CON.TRM
 LCL.Item_Primal_Sched_Report = 'TRM';

 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(LCL.Item_Category_Number_6);
 PARAMETER(LCL.Item_Primal_Sched_Report);
 ENDIF;

 // IF DB1.Primal Group Code is PICNIC
 IF DB1.Primal_Group_Code = 'PICNIC';

 CASE;

 // IF DB1.Item Structure Class Code EQ WRK.Item Structure Class Code
 IF DB1.Item_Structure_Class_Code = WRK.Item_Structure_Class_Code;

 //?Exclude this item str class code from being converted
 //?BLANK OUT THIS INFORMATION
 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 // IF *OTHERWISE
 IF *OTHERWISE;

 // LCL.Item Category Code 6 = CON.PIC
 LCL.Item_Primal_Sched_Report = 'PIC';

 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(LCL.Item_Category_Number_6);
 PARAMETER(LCL.Item_Primal_Sched_Report);
 ENDIF;

 // IF DB1.Item Structure Class Code is Base 22 & Down
 IF DB1.Item_Structure_Class_Code = 211;

 //?*EQ TO 211
 // LCL.Item Category Code 6 = CON.BLS
 LCL.Item_Primal_Sched_Report = 'BLS';

 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(LCL.Item_Category_Number_6);
 PARAMETER(LCL.Item_Primal_Sched_Report);
 // IF DB1.Item Structure Class Code is Base 22 & Up
 IF DB1.Item_Structure_Class_Code = 212;

 //?*EQ TO 212
 // LCL.Item Category Code 6 = CON.BLM
 LCL.Item_Primal_Sched_Report = 'BLM';

 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(LCL.Item_Category_Number_6);
 PARAMETER(LCL.Item_Primal_Sched_Report);
 // IF *OTHERWISE
 IF *OTHERWISE;

 //?BLANK OUT THIS INFORMATION
 EXECUTE FUNCTION(CNV ITEM CATEGORY 6) TYPE(CHGOBJ) FILE(CABZREP)                AC2046881;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 ENDIF;

}


