// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for POCLXFR
// ?Date: 14.08.2025 Time: 03:36:44
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?***** Change Date and Comments
DO;

//?*****
//?** 08/14/2007 LJB FP1009
//?** Removed company number. All files are purged by date.
//?** Removed date calcs. This will be done in the calling program
//?** and the purge date will be passed in.
//?*****
ENDDO;

//?*-------------------------------------------------------------*
EXECUTE FUNCTION(Read all rcds for Purge) TYPE(RTVOBJ) FILE(PDJWCPP)            AC1592197;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.PSAA Audit Date LT PAR.Purge Date USR
 IF DB1.PSAA_Audit_Date < PAR.Purge_Date_USR;

 EXECUTE FUNCTION(DLT Avail Audit        DL) TYPE(DLTOBJ) FILE(PDJWCPP)          AC1323641;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.PSAA_Audit_Date);
 PARAMETER(DB1.PSAA_Audit_Type);
 PARAMETER(DB1.PSAA_Audit_Sequence_Num);
 ENDIF;

}


EXECUTE FUNCTION(Read all rcds for Purge) TYPE(RTVOBJ) FILE(PDK2CPP)            AC1592206;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Kill Date LT PAR.Purge Date USR
 IF DB1.Kill_Date < PAR.Purge_Date_USR;

 EXECUTE FUNCTION(DLT Kill Plan          DL) TYPE(DLTOBJ) FILE(PDK2CPP)          AC1424643;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Min_Carcass_Weight);
 PARAMETER(DB1.Max_Carcass_Weight);
 PARAMETER(DB1.Kill_Date);
 ENDIF;

}


EXECUTE FUNCTION(Read all rcds for Purge) TYPE(RTVOBJ) FILE(PDI9CPP)            AC1592207;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Production Date LT PAR.Purge Date USR
 IF DB1.Production_Date < PAR.Purge_Date_USR;

 EXECUTE FUNCTION(DLT Prod. Adjustment   DL) TYPE(DLTOBJ) FILE(PDI9CPP)          AC1261450;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.PS_Adjustment_Type);
 PARAMETER(DB1.PS_Adjustment_Number);
 ENDIF;

}


EXECUTE FUNCTION(Read all rcds for Purge) TYPE(RTVOBJ) FILE(PDJCCPP)            AC1592208;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Production Date LT PAR.Purge Date USR
 IF DB1.Production_Date < PAR.Purge_Date_USR;

 EXECUTE FUNCTION(DLT Production Hdr     DL) TYPE(DLTOBJ) FILE(PDJCCPP)          AC1265993;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Type);
 PARAMETER(DB1.Production_Date);
 ENDIF;

}


EXECUTE FUNCTION(Read all rcds for Purge) TYPE(RTVOBJ) FILE(PDI8CPP)            AC1592209;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Production Date LT PAR.Purge Date USR
 IF DB1.Production_Date < PAR.Purge_Date_USR;

 EXECUTE FUNCTION(DLT Production Dtl     DL) TYPE(DLTOBJ) FILE(PDI8CPP)          AC1261198;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Type);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 ENDIF;

}


EXECUTE FUNCTION(Read all rcds for Purge) TYPE(RTVOBJ) FILE(PDLMCPP)            AC1592214;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Production Date LT PAR.Purge Date USR
 IF DB1.Production_Date < PAR.Purge_Date_USR;

 EXECUTE FUNCTION(Delete PS Prod Dept Sched) TYPE(DLTOBJ) FILE(PDLMCPP)          AC1475026;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Type);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Department_Code);
 ENDIF;

}


EXECUTE FUNCTION(Read all rcds for Purge) TYPE(RTVOBJ) FILE(PDJDCPP)            AC1592283;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Production Date LT PAR.Purge Date USR
 IF DB1.Production_Date < PAR.Purge_Date_USR;

 EXECUTE FUNCTION(DLT Production Sched   DL) TYPE(DLTOBJ) FILE(PDJDCPP)          AC1265863;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Type);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Sequence_Number);
 ENDIF;

}


