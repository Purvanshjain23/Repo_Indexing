// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLQMXFR
// ?Date: 14.08.2025 Time: 02:55:11
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and Comments
DO;

//?E3503 JJH 11/13/14 - Authorize Gate Entry Violations
//? If HPETRKTME is GT Zero, and BOL Truck Scale Weigh Sts =
//? A(Authorized, add "X" minutes as specified in HPETRKTME to
//? set the BOL
//?H16853 ISE 11/02/2020 CHANGE BUY ORDER NUMBER FIELD LENGTH FROM 5 TO 7
ENDDO;

EXECUTE FUNCTION(Chg Bol Spr - ArvProc RT) TYPE(RTVOBJ) FILE(PKAXCPP)           AB1303287;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.BOH_Buy_Order_Number);
PARAMETER(PAR.BOL_Load_Number);
PARAMETER(PAR.BOL_Truck_Scale_Weigh_Sts);
{
 //?USER: Process Data record

 //?*---------------------------------------------------------------*
 //?* 08/02/11 slm Update the Spread Status either with blanks or A
 CASE;

 // IF DB1.BOL Truck Scale Weigh Sts is None
 IF DB1.BOL_Truck_Scale_Weigh_Sts = *BLANK;

 // OR DB1.BOL Truck Scale Weigh Sts is Arrival
 OR DB1.BOL_Truck_Scale_Weigh_Sts = 'A';

 // OR DB1.BOL Truck Scale Weigh Sts is Called In
 OR DB1.BOL_Truck_Scale_Weigh_Sts = 'C';

 EXECUTE FUNCTION(Chg Bol Spr - ArvProc CH) TYPE(CHGOBJ) FILE(PKAXCPP)           AB1303286;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(PAR.BOL_Truck_Scale_Weigh_Sts);
 {
  //?USER: Processing after Data read

  EXECUTE FUNCTION(Rtv Change Stamp-SysDtIF) TYPE(EXCINTFUN)                      AB1237006;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // Call program Rtv System Date & Tim UP.
   CALL PROGRAM(Rtv System Date & Tim UP) ('PKWDUPC');
   PARAMETER(PAR.RS_Date_Changed);
   PARAMETER(PAR.RS_Time_Changed);

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

 ENDIF;

 //?E3503 JJH 11/13/2014 - Update Authorized Date/Time Entry
 CASE;

 // IF PAR.BOL Truck Scale Weigh Sts is Arrival
 IF PAR.BOL_Truck_Scale_Weigh_Sts = 'A';

 ENDIF;

}


