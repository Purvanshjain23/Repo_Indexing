// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for E1HZXFR
// ?Date: 14.08.2025 Time: 02:43:42
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?SDN 465 JDE to E1 RMC 4/27/2020
//?  Read staged table from E1 for the address book and update E1IDEVMDL
//?   table E10111- process ADDS and CHANGES
EXECUTE FUNCTION(Rtv Prc from F0111    RT) TYPE(RTVOBJ) FILE(EZ0111)            AA1101887;
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Transaction Action Z is Delete
 IF DB1.Transaction_Action_Z = 'D';

 EXECUTE FUNCTION(Rtv/Del E10111 F/EZ    RT) TYPE(RTVOBJ) FILE(E10111)           AA1104094;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Del E10111 from Stage DL) TYPE(DLTOBJ) FILE(E10111)            AA1101890;
  PARAMETER(DB1.Address_Number);
  PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
 }

 // IF *OTHERWISE
 IF *OTHERWISE;

 EXECUTE FUNCTION(Rtv CrtChg from Stage RT) TYPE(RTVOBJ) FILE(E10111)            AA1101899;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
 PARAMETER(DB1.Display_Sequence_5_2);
 PARAMETER(DB1.Name_Mailing);
 PARAMETER(DB1.Professional_Title);
 PARAMETER(DB1.Remark_1);
 PARAMETER(DB1.Salutation_Name);
 PARAMETER(DB1.Name_Alpha);
 PARAMETER(DB1.Description_Compressed);
 PARAMETER(DB1.Name_Given);
 PARAMETER(DB1.Name_Middle);
 PARAMETER(DB1.Name_Surname);
 PARAMETER(DB1.Type_Code_Addr_Book_Who);
 PARAMETER(DB1.Catg_Code_Who_s_Who_001);
 PARAMETER(DB1.Catg_Code_Who_s_Who_002);
 PARAMETER(DB1.Catg_Code_Who_s_Who_003);
 PARAMETER(DB1.Catg_Code_Who_s_Who_004);
 PARAMETER(DB1.Catg_Code_Who_s_Who_005);
 PARAMETER(DB1.Catg_Code_Who_s_Who_006);
 PARAMETER(DB1.Catg_Code_Who_s_Who_007);
 PARAMETER(DB1.Catg_Code_Who_s_Who_008);
 PARAMETER(DB1.Catg_Code_Who_s_Who_009);
 PARAMETER(DB1.Catg_Code_Who_s_Who_010);
 PARAMETER(DB1.Secondary_Mailing_Name);
 PARAMETER(DB1.Secondary_Alpha_Name);
 PARAMETER(DB1.User_ID);
 PARAMETER(DB1.Program_ID);
 PARAMETER(DB1.Date_Updated_1);
 PARAMETER(DB1.Work_Station_ID);
 PARAMETER(DB1.Time_Last_Updated_1);
 PARAMETER(DB1.Contact_Type);
 PARAMETER(DB1.Nickname);
 PARAMETER(DB1.Gender_Male_Female);
 PARAMETER(DB1.Day_of_Birth);
 PARAMETER(DB1.Month_of_Birth);
 PARAMETER(DB1.Year_of_Birth);
 PARAMETER(DB1.Catg_Code_Contact_01);
 PARAMETER(DB1.Catg_Code_Contact_02);
 PARAMETER(DB1.Catg_Code_Contact_03);
 PARAMETER(DB1.Catg_Code_Contact_04);
 PARAMETER(DB1.Catg_Code_Contact_05);
 PARAMETER(DB1.Catg_Code_Contact_06);
 PARAMETER(DB1.Catg_Code_Contact_07);
 PARAMETER(DB1.Catg_Code_Contact_08);
 PARAMETER(DB1.Catg_Code_Contact_09);
 PARAMETER(DB1.Catg_Code_Contact_10);
 PARAMETER(DB1.Function_Code);
 PARAMETER(DB1.Preferred_Contact_Method);
 PARAMETER(DB1.Primary_Contact);
 PARAMETER(DB1.Future_Use_Indicator);
 PARAMETER(DB1.Unique_Identifier);
 PARAMETER(DB1.Synchronization_Status);
 PARAMETER(DB1.Server_Status);
 {
  //?USER: Processing if Data record not found

  //?dont create rcd if Address Master doesnt exist
  EXECUTE FUNCTION(Rtv Val Addr Nbr      RT) TYPE(RTVOBJ) FILE(E10101)            AA1103672;
  PARAMETER(PAR.Address_Number);
  {
   //?USER: Processing if Data record not found

   // PGM.*Return code = CND.*Record does not exist
   PGM.*Return_code = 'Y2U0005';

   //?USER: Process Data record

   // PGM.*Return code = CND.*Normal
   PGM.*Return_code = *BLANK;

  }

  CASE;

  // IF PGM.*Return code is *Normal
  IF PGM.*Return_code = *BLANK;

  EXECUTE FUNCTION(Crt E10111 from Stage CR) TYPE(CRTOBJ) FILE(E10111)            AA1101888;
  PARAMETER(PAR.Address_Number);
  PARAMETER(PAR.Who_s_Who_Line_Nbr_ID);
  PARAMETER(PAR.Display_Sequence_5_2);
  PARAMETER(PAR.Name_Mailing);
  PARAMETER(PAR.Professional_Title);
  PARAMETER(PAR.Remark_1);
  PARAMETER(PAR.Salutation_Name);
  PARAMETER(PAR.Name_Alpha);
  PARAMETER(PAR.Description_Compressed);
  PARAMETER(PAR.Name_Given);
  PARAMETER(PAR.Name_Middle);
  PARAMETER(PAR.Name_Surname);
  PARAMETER(PAR.Type_Code_Addr_Book_Who);
  PARAMETER(PAR.Catg_Code_Who_s_Who_001);
  PARAMETER(PAR.Catg_Code_Who_s_Who_002);
  PARAMETER(PAR.Catg_Code_Who_s_Who_003);
  PARAMETER(PAR.Catg_Code_Who_s_Who_004);
  PARAMETER(PAR.Catg_Code_Who_s_Who_005);
  PARAMETER(PAR.Catg_Code_Who_s_Who_006);
  PARAMETER(PAR.Catg_Code_Who_s_Who_007);
  PARAMETER(PAR.Catg_Code_Who_s_Who_008);
  PARAMETER(PAR.Catg_Code_Who_s_Who_009);
  PARAMETER(PAR.Catg_Code_Who_s_Who_010);
  PARAMETER(PAR.Secondary_Mailing_Name);
  PARAMETER(PAR.Secondary_Alpha_Name);
  PARAMETER(PAR.User_ID);
  PARAMETER(PAR.Program_ID);
  PARAMETER(PAR.Date_Updated_1);
  PARAMETER(PAR.Work_Station_ID);
  PARAMETER(PAR.Time_Last_Updated_1);
  PARAMETER(PAR.Contact_Type);
  PARAMETER(PAR.Nickname);
  PARAMETER(PAR.Gender_Male_Female);
  PARAMETER(PAR.Day_of_Birth);
  PARAMETER(PAR.Month_of_Birth);
  PARAMETER(PAR.Year_of_Birth);
  PARAMETER(PAR.Catg_Code_Contact_01);
  PARAMETER(PAR.Catg_Code_Contact_02);
  PARAMETER(PAR.Catg_Code_Contact_03);
  PARAMETER(PAR.Catg_Code_Contact_04);
  PARAMETER(PAR.Catg_Code_Contact_05);
  PARAMETER(PAR.Catg_Code_Contact_06);
  PARAMETER(PAR.Catg_Code_Contact_07);
  PARAMETER(PAR.Catg_Code_Contact_08);
  PARAMETER(PAR.Catg_Code_Contact_09);
  PARAMETER(PAR.Catg_Code_Contact_10);
  PARAMETER(PAR.Function_Code);
  PARAMETER(PAR.Preferred_Contact_Method);
  PARAMETER(PAR.Primary_Contact);
  PARAMETER(PAR.Future_Use_Indicator);
  PARAMETER(PAR.Unique_Identifier);
  PARAMETER(PAR.Synchronization_Status);
  PARAMETER(PAR.Server_Status);
  ENDIF;

  //?USER: Process Data record

  EXECUTE FUNCTION(Chg E10111 from Stage CH) TYPE(CHGOBJ) FILE(E10111)            AA1101889;
  PARAMETER(DB1.Address_Number);
  PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
  PARAMETER(PAR.Display_Sequence_5_2);
  PARAMETER(PAR.Name_Mailing);
  PARAMETER(PAR.Professional_Title);
  PARAMETER(PAR.Remark_1);
  PARAMETER(PAR.Salutation_Name);
  PARAMETER(PAR.Name_Alpha);
  PARAMETER(PAR.Description_Compressed);
  PARAMETER(PAR.Name_Given);
  PARAMETER(PAR.Name_Middle);
  PARAMETER(PAR.Name_Surname);
  PARAMETER(PAR.Type_Code_Addr_Book_Who);
  PARAMETER(PAR.Catg_Code_Who_s_Who_001);
  PARAMETER(PAR.Catg_Code_Who_s_Who_002);
  PARAMETER(PAR.Catg_Code_Who_s_Who_003);
  PARAMETER(PAR.Catg_Code_Who_s_Who_004);
  PARAMETER(PAR.Catg_Code_Who_s_Who_005);
  PARAMETER(PAR.Catg_Code_Who_s_Who_006);
  PARAMETER(PAR.Catg_Code_Who_s_Who_007);
  PARAMETER(PAR.Catg_Code_Who_s_Who_008);
  PARAMETER(PAR.Catg_Code_Who_s_Who_009);
  PARAMETER(PAR.Catg_Code_Who_s_Who_010);
  PARAMETER(PAR.Secondary_Mailing_Name);
  PARAMETER(PAR.Secondary_Alpha_Name);
  PARAMETER(PAR.User_ID);
  PARAMETER(PAR.Program_ID);
  PARAMETER(PAR.Date_Updated_1);
  PARAMETER(PAR.Work_Station_ID);
  PARAMETER(PAR.Time_Last_Updated_1);
  PARAMETER(PAR.Contact_Type);
  PARAMETER(PAR.Nickname);
  PARAMETER(PAR.Gender_Male_Female);
  PARAMETER(PAR.Day_of_Birth);
  PARAMETER(PAR.Month_of_Birth);
  PARAMETER(PAR.Year_of_Birth);
  PARAMETER(PAR.Catg_Code_Contact_01);
  PARAMETER(PAR.Catg_Code_Contact_02);
  PARAMETER(PAR.Catg_Code_Contact_03);
  PARAMETER(PAR.Catg_Code_Contact_04);
  PARAMETER(PAR.Catg_Code_Contact_05);
  PARAMETER(PAR.Catg_Code_Contact_06);
  PARAMETER(PAR.Catg_Code_Contact_07);
  PARAMETER(PAR.Catg_Code_Contact_08);
  PARAMETER(PAR.Catg_Code_Contact_09);
  PARAMETER(PAR.Catg_Code_Contact_10);
  PARAMETER(PAR.Function_Code);
  PARAMETER(PAR.Preferred_Contact_Method);
  PARAMETER(PAR.Primary_Contact);
  PARAMETER(PAR.Future_Use_Indicator);
  PARAMETER(PAR.Unique_Identifier);
  PARAMETER(PAR.Synchronization_Status);
  PARAMETER(PAR.Server_Status);
 }

 ENDIF;

 EXECUTE FUNCTION(Chg F0111Z to Prcd    CH) TYPE(CHGOBJ) FILE(EZ0111)            AA1101882;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Who_s_Who_Line_Nbr_ID);
 PARAMETER(DB1.Date_Time_Stamp);
 PARAMETER(DB1.Transaction_Action_Z);
 PARAMETER(DB1.Display_Sequence_5_2);
 PARAMETER(DB1.Name_Mailing);
 PARAMETER(DB1.Professional_Title);
 PARAMETER(DB1.Remark_1);
 PARAMETER(DB1.Salutation_Name);
 PARAMETER(DB1.Name_Alpha);
 PARAMETER(DB1.Description_Compressed);
 PARAMETER(DB1.Name_Given);
 PARAMETER(DB1.Name_Middle);
 PARAMETER(DB1.Name_Surname);
 PARAMETER(DB1.Type_Code_Addr_Book_Who);
 PARAMETER(DB1.Catg_Code_Who_s_Who_001);
 PARAMETER(DB1.Catg_Code_Who_s_Who_002);
 PARAMETER(DB1.Catg_Code_Who_s_Who_003);
 PARAMETER(DB1.Catg_Code_Who_s_Who_004);
 PARAMETER(DB1.Catg_Code_Who_s_Who_005);
 PARAMETER(DB1.Catg_Code_Who_s_Who_006);
 PARAMETER(DB1.Catg_Code_Who_s_Who_007);
 PARAMETER(DB1.Catg_Code_Who_s_Who_008);
 PARAMETER(DB1.Catg_Code_Who_s_Who_009);
 PARAMETER(DB1.Catg_Code_Who_s_Who_010);
 PARAMETER(DB1.Secondary_Mailing_Name);
 PARAMETER(DB1.Secondary_Alpha_Name);
 PARAMETER(DB1.User_ID);
 PARAMETER(DB1.Program_ID);
 PARAMETER(DB1.Date_Updated_1);
 PARAMETER(DB1.Work_Station_ID);
 PARAMETER(DB1.Time_Last_Updated_1);
 PARAMETER(DB1.Contact_Type);
 PARAMETER(DB1.Nickname);
 PARAMETER(DB1.Gender_Male_Female);
 PARAMETER(DB1.Day_of_Birth);
 PARAMETER(DB1.Month_of_Birth);
 PARAMETER(DB1.Year_of_Birth);
 PARAMETER(DB1.Catg_Code_Contact_01);
 PARAMETER(DB1.Catg_Code_Contact_02);
 PARAMETER(DB1.Catg_Code_Contact_03);
 PARAMETER(DB1.Catg_Code_Contact_04);
 PARAMETER(DB1.Catg_Code_Contact_05);
 PARAMETER(DB1.Catg_Code_Contact_08);
 PARAMETER(DB1.Catg_Code_Contact_06);
 PARAMETER(DB1.Catg_Code_Contact_09);
 PARAMETER(DB1.Catg_Code_Contact_07);
 PARAMETER(DB1.Catg_Code_Contact_10);
 PARAMETER(DB1.Function_Code);
 PARAMETER(DB1.Preferred_Contact_Method);
 PARAMETER(DB1.Primary_Contact);
 PARAMETER(DB1.Future_Use_Indicator);
 PARAMETER(DB1.Unique_Identifier);
 PARAMETER(DB1.Synchronization_Status);
 PARAMETER(DB1.Server_Status);
 PARAMETER(1);
 PARAMETER(JOB.*Job_date);
 PARAMETER(JOB.*Job_time);
}


