     H/TITLE PRC AutoPost Inv Rest  XL Execute external functio
     H DATFMT(*YMD) DATEDIT(*YMD) DEBUG(*YES)
     Z* CRTBNDRPG
     Z* DFTACTGRP(*NO) BNDDIR(YBNDDIR) DBGVIEW(*SOURCE)
     Z* CVTOPT(*DATETIME) ACTGRP(*CALLER) OPTIMIZE(*BASIC)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by CA 2E release 8.6 (1547)
     H* Function type : Execute external function
     H* Object type   : *PGM
      *
     H* Company       : OMS Development Model
     H* System        : OMS Development Model
     H* User name     : ISJHIGH
     H* Date          : 09/02/14  Time  : 10:36:16
     H* Copyright     : OMS Development Model
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FCAADRELA  IF   E           K DISK
      * RTV : Warehouse                 PFS Warehouse
      *
     FPPB0CPL3  IF   E           K DISK
      * RSQ : PFS Inventory Restoration Co/Whs/Dte/Tme/Seq
      *
     FPDL5CPL7  IF   E           K DISK
      * RSQ : Item Lot Location         Co/Whs/Itm
      *
     FCAB1REL2  IF   E           K DISK
      * RSQ : Item Balance Detail       Co/Whs/Item/Prod Date
      *
     FOMHCCPL2  IF   E           K DISK
      * RSQ : Physical Count Control    Co/Whs/Dte/Cde Open
      *
     FOMHCCPL0  UF   E           K DISK
      * UPD : Physical Count Control    Update index
      *
      * Long constants
     D @CN#            S              6    DIM(04)CTDATA PERRCD(1)
     D @CN             S             25    DIM(04) ALT(@CN#)
      /EJECT
      * Data structures:
     D PGMDS         ESDS                  EXTNAME(Y2PGDSP)
      * Modified Program data structure
     D JBDTTM          DS
      * Job date/time
     D  ##JDT                  1      7  0
     D  ##JCC                  1      1  0
     D  ##JYY                  2      3  0
     D  ##JMM                  4      5  0
     D  ##JDD                  6      7  0
     D  ##JTM                  8     13  0
     D  ##JHH                  8      9  0
     D  ##JNN                 10     11  0
     D  ##JSS                 12     13  0
     D QOMHC1        E DS                  EXTNAME(OMHCCPL0)
      * UPD : Physical Count Control    Update index
      * Renamed input format fields
     D  WFAIC3       E                     EXTFLD(HCAIC3)
     D  WFAJCD       E                     EXTFLD(HCAJCD)
     D  WFDHDT       E                     EXTFLD(HCDHDT)
     D  WFOFCD       E                     EXTFLD(HCOFCD)
     D  WFTGST       E                     EXTFLD(HCTGST)
     D  WFUVST       E                     EXTFLD(HCUVST)
     D  WFUWST       E                     EXTFLD(HCUWST)
     D  WFUXST       E                     EXTFLD(HCUXST)
     D  WFAATM       E                     EXTFLD(HCAATM)
     D  WFAYNA       E                     EXTFLD(HCAYNA)
     D  WFA0NA       E                     EXTFLD(HCA0NA)
     D  WFAXDT       E                     EXTFLD(HCAXDT)
      *
     D YARDCS          DS            44
      * Message data for message Y2U0009.
     D MD0009          DS
     D  MDPGM                  1     10
     D  MDACP                 11     20
     D  MDFMT                 21     30
     D  MDACT                 31     34
     D  MDLBL                 35     40
      *
      * Declared stand-alone variables
     D  P0RTN          S              7
     D  WP0001         S              3
     D  W0ICL          S              1
     D  W0RTN          S              7
     D  W0RSL          S              1
     D  W0RSF          S              1
     D  W0RTW          S              9  0
     D  W0ENV          S              3
     D  ##TME          S              6  0
     D  YL0001         S              3  0
     D  Y0CX01         S              1
     D  YL0002         S              7  0
     D  YL0003         S              9  2
     D  YL0004         S              7  0
     D  YL0005         S              9  2
     D  YL0006         S              8  0
     D  WUTAST         S              1
     D  WQSB01         S                   LIKE(WBY1NX)
     D  WQSB02         S                   LIKE(WBU4SX)
     D  WQSC01         S                   LIKE(WCAIC3)
     D  WQSC02         S                   LIKE(WCAJCD)
     D  WQSD01         S                   LIKE(WDAIC3)
     D  WQSD02         S                   LIKE(WDAJCD)
     D  YL0007         S              7  0
     D  YL0008         S              9  2
     D  WQ0001         S              3  0
     D  WQ0002         S              3
     D  WQ0003         S             10
     D  W0CLPG         S             10
     D  WQ0004         S              3  0
     D  WQ0005         S              3
     D  WQ0006         S             10
     D  WQ0007         S              3  0
     D  WQ0008         S              3
     D  WQ0009         S              3
     D  WQSE01         S                   LIKE(WEAIC3)
     D  YL0009         S             10
     D  WQ0010         S              3  0
     D  WQ0011         S             10
     D  WQ0012         S             40
     D  WQ0013         S             10
     D  WQ0014         S             10
     D  WQ0015         S              4
     D  WQ0016         S              4
     D  WQ0017         S              2
     D  WQ0018         S              3  0
     D  WQ0019         S              3
     D  WQ0020         S              3
     D  WQ0021         S              1
     D  YL0010         S             15  5
     D  YL0011         S             15  5
     D  YL0012         S              3
     D  YL0013         S              3
     D  YL0014         S              7
     D  WQ0022         S              7
     D  WQ0023         S              6
     D  WQ0024         S             10
     D  WQ0025         S             15  5
     D  WQ0026         S             15  5
     D  WQ0027         S              3
     D  WQ0028         S              3
     D  WQ0029         S              1
     D  WN0001         S              1
     D  WN0002         S              1
     D  WN0003         S              1
     D  WN0004         S              6  0
     D  WN0005         S             10
     D  WN0006         S             10
     D  WN0007         S              7  0
     D  YARDC          S              1
     D  YL0015         S             50
     D  WQ0030         S              3  0
     D  WQ0031         S             10
     D  WQ0032         S             40
     D  YL0016         S             43
     D  ZQ             S              5  0
     D  YL0017         S            132
     D  ZAMSID         S              7
     D  ZAMSGF         S             10
     D  ZADFMF         S             10
     D  ZAPGMQ         S             10
     D  ZAPGRL         S              5
     D  ZAMSTP         S              7
     D  YILE           S              1
     D  W0PMT          S              1
      /EJECT
      * Parameter declarations
     D P1PARM          DS
      * I :  Company Number Alpha
     D  P1E6TX                 1      3
     D                 DS
     D  ZAMSDA                 1    132
      * Message data for 'ESNDMAIL-RESTORATION'
      * Email Address
     D  ZA0001                 1     50
      * Office Message USR
     D  ZA0002                51    182
     I@ADREEO
      * Warehouse                 PFS Warehouse
      * Renamed input format fields
     I              ADAJCD                      WAAJCD
     I              ADF8NA                      WAF8NA
     I              ADACNA                      WAACNA
     I              ADADNA                      WAADNA
     I              ADAENA                      WAAENA
     I              ADAJNA                      WAAJNA
     I              ADBTTX                      WABTTX
     I              ADAOCD                      WAAOCD
     I              ADBGCD                      WABGCD
     I              ADVHST                      WAVHST
     I              ADMPNA                      WAMPNA
     I              ADWPST                      WAWPST
     I              ADXUST                      WAXUST
     I              ADT0ST                      WAT0ST
     I              ADT1ST                      WAT1ST
     I              ADDBNB                      WADBNB
     I              ADT2ST                      WAT2ST
     I              ADT3ST                      WAT3ST
     I              ADT4ST                      WAT4ST
     I              ADT6ST                      WAT6ST
     I              ADBWC3                      WABWC3
     I              ADBTC3                      WABTC3
     I              ADBUC3                      WABUC3
     I              ADBVC3                      WABVC3
     I              ADFCAA                      WAFCAA
     I              ADRQSX                      WARQSX
     I              ADRRSX                      WARRSX
     I              ADRSSX                      WARSSX
     I              ADRTSX                      WARTSX
     I              ADT7ST                      WAT7ST
     I              ADT8ST                      WAT8ST
     I              ADRNSX                      WARNSX
     I              ADROSX                      WAROSX
     I              ADRPSX                      WARPSX
     I              ADUVST                      WAUVST
     I              ADUWST                      WAUWST
     I              ADUXST                      WAUXST
     I              ADVSST                      WAVSST
     I              ADAATM                      WAAATM
     I              ADAYNA                      WAAYNA
     I              ADA0NA                      WAA0NA
     I              ADAXDT                      WAAXDT
      *
     I@B0CPEP
      * PFS Inventory Restoration Co/Whs/Dte/Tme/Seq
      * Renamed input format fields
     I              B0Y1NX                      WBY1NX
     I              B0AID8                      WBAID8
     I              B0AFTS                      WBAFTS
     I              B0BCNY                      WBBCNY
     I              B0XKSX                      WBXKSX
     I              B0Y2NX                      WBY2NX
     I              B0U4SX                      WBU4SX
     I              B0ADNY                      WBADNY
     I              B0P7DT                      WBP7DT
     I              B0Z4NX                      WBZ4NX
     I              B0ACNY                      WBACNY
     I              B0CUNY                      WBCUNY
     I              B0CVNY                      WBCVNY
     I              B0UWSX                      WBUWSX
     I              B0UXSX                      WBUXSX
     I              B0V3SX                      WBV3SX
     I              B0AHNY                      WBAHNY
     I              B0AINY                      WBAINY
     I              B0AJNY                      WBAJNY
     I              B0AKNY                      WBAKNY
      *
     I@L5CPX4
      * Item Lot Location         Co/Whs/Itm
      * Renamed input format fields
     I              L5AIC3                      WCAIC3
     I              L5HGCD                      WCHGCD
     I              L5AJCD                      WCAJCD
     I              L5ELDT                      WCELDT
     I              L5LXNM                      WCLXNM
     I              L5YMCD                      WCYMCD
     I              L5YNCD                      WCYNCD
     I              L5J2QT                      WCJ2QT
     I              L5G5WG                      WCG5WG
     I              L5J3QT                      WCJ3QT
     I              L5G6WG                      WCG6WG
     I              L5J4QT                      WCJ4QT
     I              L5G7WG                      WCG7WG
     I              L5LODT                      WCLODT
     I              L5LPDT                      WCLPDT
     I              L5LQDT                      WCLQDT
     I              L5NBR                       WCNBR
     I              L5YTCD                      WCYTCD
     I              L5AMSX                      WCAMSX
     I              L5ASSX                      WCASSX
     I              L5ATSX                      WCATSX
     I              L5AUSX                      WCAUSX
     I              L5YSCD                      WCYSCD
     I              L5UVST                      WCUVST
     I              L5UWST                      WCUWST
     I              L5UXST                      WCUXST
     I              L5VSST                      WCVSST
     I              L5AATM                      WCAATM
     I              L5AYNA                      WCAYNA
     I              L5A0NA                      WCA0NA
     I              L5AXDT                      WCAXDT
      *
     I@B1RESE
      * Item Balance Detail       Co/Whs/Item/Prod Date
      * Renamed input format fields
     I              B1AIC3                      WDAIC3
     I              B1HGCD                      WDHGCD
     I              B1AJCD                      WDAJCD
     I              B1ELDT                      WDELDT
     I              B1ABWG                      WDABWG
     I              B1AGQT                      WDAGQT
     I              B1AHQT                      WDAHQT
     I              B1AIQT                      WDAIQT
     I              B1CTST                      WDCTST
     I              B1ACWG                      WDACWG
     I              B1ARQT                      WDARQT
     I              B1ASQT                      WDASQT
     I              B1ATQT                      WDATQT
     I              B1HDQT                      WDHDQT
     I              B1HEQT                      WDHEQT
     I              B1F6ST                      WDF6ST
     I              B1BMWG                      WDBMWG
     I              B1DSQT                      WDDSQT
     I              B1DTQT                      WDDTQT
     I              B1DUQT                      WDDUQT
     I              B1DHDT                      WDDHDT
     I              B1AGCS                      WDAGCS
     I              B1AECS                      WDAECS
     I              B1IDVA                      WDIDVA
     I              B1K7DT                      WDK7DT
     I              B1RINB                      WDRINB
     I              B1RHNB                      WDRHNB
     I              B1RGNB                      WDRGNB
     I              B1UVST                      WDUVST
     I              B1UWST                      WDUWST
     I              B1UXST                      WDUXST
     I              B1VSST                      WDVSST
     I              B1AATM                      WDAATM
     I              B1AYNA                      WDAYNA
     I              B1A0NA                      WDA0NA
     I              B1AXDT                      WDAXDT
      *
     I@HCCPCV
      * Physical Count Control    Co/Whs/Dte/Cde Open
      * Renamed input format fields
     I              HCAIC3                      WEAIC3
     I              HCAJCD                      WEAJCD
     I              HCDHDT                      WEDHDT
     I              HCOFCD                      WEOFCD
     I              HCTGST                      WETGST
     I              HCUVST                      WEUVST
     I              HCUWST                      WEUWST
     I              HCUXST                      WEUXST
     I              HCAATM                      WEAATM
     I              HCAYNA                      WEAYNA
     I              HCA0NA                      WEA0NA
     I              HCAXDT                      WEAXDT
      *
     I@HCCPJZ
      * Physical Count Control    Update index
      * Renamed input format fields
     I              HCAIC3                      WFAIC3
     I              HCAJCD                      WFAJCD
     I              HCDHDT                      WFDHDT
     I              HCOFCD                      WFOFCD
     I              HCTGST                      WFTGST
     I              HCUVST                      WFUVST
     I              HCUWST                      WFUWST
     I              HCUXST                      WFUXST
     I              HCAATM                      WFAATM
     I              HCAYNA                      WFAYNA
     I              HCA0NA                      WFA0NA
     I              HCAXDT                      WFAXDT
      *
      /EJECT
      *****************************************************************
      * Entry parameters
     C     *ENTRY        PLIST
     C                   PARM                    P0RTN
     C     P1E6TX        PARM                    WP0001                         Company Number
      *****************************************************************
      * Initialize
     C                   EXSR      ZZINIT
      *
      * PRC AutoPost Inv Rest  XL
      * E3191 JJH 07/17/14 - Create Automated Inventory Restoration
      * Explanation of Auto Post Inventory Restoration
     C                   EXSR      UASUBR                                       Explanation of
     C                   MOVE      P1E6TX        YL0001                         Company Number
      * Process Carlisle Upload File
      * PRC AutoPost Inv Rest  RT - Warehouse  * 
     C                   EXSR      SARVGN
      * Post Open Physcial Count Control records
      * PRC AutoPost Inv Rest  RT - Physical Count Control  * 
     C                   EXSR      SERVGN
      *----------------------------------------------------------------
      * Exit program
     C     AAEXIT        TAG
     C                   EVAL      P0RTN = ' '
     C                   EXSR      ZYEXPG
      *================================================================
      /EJECT
     CSR   SARVGN        BEGSR
      *================================================================
      * PRC AutoPost Inv Rest  RT - Warehouse  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Establish starting position
     C     *LOVAL        SETLL     @ADREEO                                      *
     C                   READ      @ADREEO                                90    *
      * Data record not found
     C   90              MOVEL     'USR0007'     W0RTN
      * USER: Process Data record
      * Programmer Explanation
     C                   DOW       NOT *IN90
     C                   EXSR      UBSUBR                                       Programmer Expl
      * CASE:
      *  - c1 AND c2 AND c3
      *   |- c1    : DB1.Shipping Company EQ PAR.Shipping Company
      *   |- c2    : DB1.WHS Auto Inv Restoration is Yes
      *   |- c3    : DB1.Record Status is Active
      *   '-
     C                   MOVEL     '0'           Y0CX01
     C                   IF        WABWC3 = YL0001
     C                   IF        WARPSX = 'Y'
     C                   IF        WAVSST = 'A'
     C                   MOVEL     '1'           Y0CX01
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   END                                                    *FI
      * Set LCL fields used in calculation to Zero
     C                   IF        Y0CX01 = '1'
     C                   EXSR      UCSUBR                                       Set LCL fields
      * Rtv Total Qty,Wgt     RT - PFS Inventory Restoration  * 
     C                   EXSR      SBRVGN
      * CASE: DB1.Lot Tracking Flag is yes
      * Rtv Item Loc Qty,Wgt  RT - Item Lot Location  * 
     C                   IF        WAVHST = 'Y'
     C                   EXSR      SCRVGN
     C                   ELSE
      * CASE: *OTHERWISE
      * RTV Whse OH Qty/Wgt   RT - Item Balance Detail  * 
     C                   EXSR      SDRVGN
     C                   END                                                    *FI
     C     YL0002        SUB       YL0004        YL0007                         Quantity Loc Va
     C     YL0003        SUB       YL0005        YL0008                         Weight 1.3
      * CASE: LCL.Quantity Adjustment 2 USR is Equal to Zero
      * Do not process
     C                   IF        YL0002 = 0
     C                   ELSE
      * CASE: *OTHERWISE
      * Fresh  / or Frozen
      * CASE: DB1.Warehouse Type is Fresh
      * PFS Inv Physical FRSH XF - PFS Inventory Restoration  * 
     C                   IF        WAWPST = 'FR'
     C                   CALL      'PPTSXFR'                            90      PFS Inv Physica
     C                   PARM      *BLANK        W0RTN
     C                   PARM      WABWC3        WQ0001                         PFS Company Num
     C                   PARM      WAAJCD        WQ0002                         PFS Warehouse C
     C                   PARM      'PBNMXFR'     WQ0003                         Program name US
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'PPTSXFR'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   END
      * Error detected?
     C                   IF        W0RTN <> ' '
     C                   SETON                                        99        *
     C                   END
     C                   ELSE
      * CASE:
      *  - c1 AND c2
      *   |- c1    : DB1.Warehouse Type is Frozen
      *   |- c2    : DB1.Lot Tracking Flag is yes
      *   '-
     C                   MOVEL     '0'           Y0CX01
     C                   IF        WAWPST = 'FZ'
     C                   IF        WAVHST = 'Y'
     C                   MOVEL     '1'           Y0CX01
     C                   END                                                    *FI
     C                   END                                                    *FI
      * PFS Inventory Rst FRZ XF - PFS Inventory Restoration  * 
     C                   IF        Y0CX01 = '1'
     C                   CALL      'PPSEXFR'                            90      PFS Inventory R
     C                   PARM      *BLANK        W0RTN
     C                   PARM      WABWC3        WQ0004                         PFS Company Num
     C                   PARM      WAAJCD        WQ0005                         PFS Warehouse C
     C                   PARM      'PBNMXFR'     WQ0006                         Program name US
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'PPSEXFR'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   END
      * Error detected?
     C                   IF        W0RTN <> ' '
     C                   SETON                                        99        *
     C                   END
      * PRC AutoPost LotTrkWhs XF - Physical Count Control  * 
     C                   CALL      'POLJXFR'                            90      PRC AutoPost Lo
     C                   PARM      *BLANK        W0RTN
     C                   PARM      WABWC3        WQ0007                         Company Number
     C                   PARM      WAAJCD        WQ0008                         Warehouse Code
     C                   PARM      *BLANK        WQ0009                         Cycle Count Cod
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'POLJXFR'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   END
      * Error detected?
     C                   IF        W0RTN <> ' '
     C                   SETON                                        99        *
     C                   END
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   END                                                    *FI
     C                   READ      @ADREEO                                90    *
     C                   ENDDO
      *================================================================
     CSR   SAEXIT        ENDSR
      /EJECT
     CSR   SBRVGN        BEGSR
      *================================================================
      * Rtv Total Qty,Wgt     RT - PFS Inventory Restoration  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * USER: Initialize routine
      * PAR = CON By name
     C                   Z-ADD     *ZERO         YL0002                         Quantity Adjust
     C                   Z-ADD     *ZERO         YL0003                         Weight 1.1
     C                   Z-ADD     *ZERO         YL0006                         PFS Transaction
     C                   MOVEL     'Y'           WUTAST                         First Time Flag
      * Declare restrictor key work fields
      * Define keylist
     C     KRSSB         KLIST
     C                   KFLD                    WQSB01                         PFS Company Num
     C                   KFLD                    WQSB02                         PFS Warehouse C
      * Setup key
     C                   Z-ADD     WABWC3        WQSB01                         PFS Company Num
     C                   MOVEL     WAAJCD        WQSB02                         PFS Warehouse C
      * Establish starting position
     C     KRSSB         SETLL     @B0CPEP                                      *
     C     KRSSB         READE     @B0CPEP                                90    *
      * Data record not found
     C   90              MOVEL     'USR3580'     W0RTN
      * USER: Process Data record
     C                   DOW       NOT *IN90
     C                   ADD       WBCUNY        YL0002                         Quantity Adjust
     C                   ADD       WBCVNY        YL0003                         Weight 1.1
      * CASE: WRK.First Time Flag is Yes
     C                   IF        WUTAST = 'Y'
     C                   Z-ADD     WBAID8        YL0006                         PFS Transaction
     C                   MOVEL     'N'           WUTAST                         First Time Flag
     C                   END                                                    *FI
     C     KRSSB         READE     @B0CPEP                                90    *
     C                   ENDDO
      *================================================================
     CSR   SBEXIT        ENDSR
      /EJECT
     CSR   SCRVGN        BEGSR
      *================================================================
      * Rtv Item Loc Qty,Wgt  RT - Item Lot Location  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * USER: Initialize routine
      * PAR = CON By name
     C                   Z-ADD     *ZERO         YL0004                         Quantity Inv On
     C                   Z-ADD     *ZERO         YL0005                         Weight 1.2
      * Declare restrictor key work fields
      * Define keylist
     C     KRSSC         KLIST
     C                   KFLD                    WQSC01                         Company Number
     C                   KFLD                    WQSC02                         Warehouse Code
      * Setup key
     C                   Z-ADD     WABWC3        WQSC01                         Company Number
     C                   MOVEL     WAAJCD        WQSC02                         Warehouse Code
      * Establish starting position
     C     KRSSC         SETLL     @L5CPX4                                      *
     C     KRSSC         READE     @L5CPX4                                90    *
      * Data record not found
     C   90              MOVEL     'USR2634'     W0RTN
      * USER: Process Data record
     C                   DOW       NOT *IN90
     C                   ADD       WCJ2QT        YL0004                         Quantity Inv On
     C                   ADD       WCG6WG        YL0005                         Weight 1.2
     C     KRSSC         READE     @L5CPX4                                90    *
     C                   ENDDO
      *================================================================
     CSR   SCEXIT        ENDSR
      /EJECT
     CSR   SDRVGN        BEGSR
      *================================================================
      * RTV Whse OH Qty/Wgt   RT - Item Balance Detail  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * USER: Initialize routine
      * PAR = CON By name
     C                   Z-ADD     *ZERO         YL0005                         Quantity on Han
     C                   Z-ADD     *ZERO         YL0004                         Quantity Inv On
      * Declare restrictor key work fields
      * Define keylist
     C     KRSSD         KLIST
     C                   KFLD                    WQSD01                         Company Number
     C                   KFLD                    WQSD02                         Warehouse Code
      * Setup key
     C                   Z-ADD     WABWC3        WQSD01                         Company Number
     C                   MOVEL     WAAJCD        WQSD02                         Warehouse Code
      * Establish starting position
     C     KRSSD         SETLL     @B1RESE                                      *
     C     KRSSD         READE     @B1RESE                                90    *
      * Data record not found
     C   90              MOVEL     'USR0330'     W0RTN
      * USER: Process Data record
     C                   DOW       NOT *IN90
     C                   ADD       WDACWG        YL0005                         Quantity on Han
     C                   ADD       WDARQT        YL0004                         Quantity Inv On
     C     KRSSD         READE     @B1RESE                                90    *
     C                   ENDDO
      *================================================================
     CSR   SDEXIT        ENDSR
      /EJECT
     CSR   SERVGN        BEGSR
      *================================================================
      * PRC AutoPost Inv Rest  RT - Physical Count Control  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Declare restrictor key work fields
      * Define keylist
     C     KRSSE         KLIST
     C                   KFLD                    WQSE01                         Company Number
      * Setup key
     C                   Z-ADD     YL0001        WQSE01                         Company Number
      * Establish starting position
     C     KRSSE         SETLL     @HCCPCV                                      *
     C     KRSSE         READE     @HCCPCV                                90    *
      * Data record not found
     C   90              MOVEL     'USR1487'     W0RTN
      * USER: Process Data record
      * E3191 JJH 08/21/14 Print Physical to Book Comparison
      * Rtv Alpha Value       XF - Company Values  * INVRSTPT
     C                   DOW       NOT *IN90
     C                   CALL      'POMTXFR'                            90      Rtv Alpha Value
     C                   PARM      *BLANK        W0RTN
     C                   PARM      WEAIC3        WQ0010                         Company Number
     C                   PARM      'INVRSTPT'    WQ0011                         Company Value C
     C     YL0009        PARM      *BLANK        WQ0012                         System Value Al
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'POMTXFR'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   END
      * Error detected?
     C                   IF        W0RTN <> ' '
     C                   SETON                                        99        *
     C                   END
      * EXC Command OVRPRTF    UP - /UT User Programs  * 
     C                   CALL      'PDQVUPC'                            90      EXC Command OVR
     C                   PARM      @CN(001)      WQ0013                         Printer File
     C                   PARM      YL0009        WQ0014                         PRT Printer Dev
     C                   PARM      '*YES'        WQ0015                         PRT Hold Output
     C                   PARM      '*YES'        WQ0016                         PRT Save Output
     C                   PARM      '1'           WQ0017                         Nbr of Copies-A
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'PDQVUPC'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   SETON                                        99        *
     C                   END
      * Prt Phys to Book Cmpar PF - Item Balance  * 
     C                   CALL      'ICPYPFR'                            90      Prt Phys to Boo
     C                   PARM      *BLANK        W0RTN
     C                   PARM      WEAIC3        WQ0018                         Company Number
     C                   PARM      WEAJCD        WQ0019                         Warehouse Code
     C                   PARM      WEOFCD        WQ0020                         Cycle Count Cod
     C                   PARM      'Y'           WQ0021                         Prt Non-Zero Qt
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'ICPYPFR'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   END
      * Error detected?
     C                   IF        W0RTN <> ' '
     C                   SETON                                        99        *
     C                   END
      * Post Inventory Restoration for each Company/Warehouse O=Open
     C                   Z-ADD     YL0001        YL0010                         Company Number
      * LCL.Date 1          PASS  USR = DB1.Physical Start Date
     C                   Z-ADD     WEDHDT        YL0011                         Date 1
     C                   MOVEL     WEAJCD        YL0012                         Warehouse Code
     C                   MOVEL     WEOFCD        YL0013                         Cycle Count Cod
      * PMT Pmt/Pas Co/Wh/Cy/D UP - /UT User Programs  * Interactive
     C                   CALL      'PDW3UPR'                            90      PMT Pmt/Pas Co/
     C     YL0014        PARM      *BLANK        WQ0022                         Return Code Usr
     C                   PARM      'I/C'         WQ0023                         Application Cod
     C                   PARM      'PDW7CLP'     WQ0024                         Program name US
     C     YL0010        PARM      YL0010        WQ0025                         Company Number
     C     YL0011        PARM      YL0011        WQ0026                         Date 1
     C     YL0012        PARM      YL0012        WQ0027                         Warehouse Code
     C     YL0013        PARM      YL0013        WQ0028                         Cycle Count Cod
     C                   PARM      '1'           WQ0029                         Job Type
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'PDW3UPR'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   SETON                                        99        *
     C                   END
      * Change physical status to posted
      * CHG Physical Count Sts CH - Physical Count Control  * 
     C                   EXSR      SFCHRC
      * Send Email Message
      * Rtv Alpha Value       XF - Company Values  * 
     C                   CALL      'POMTXFR'                            90      Rtv Alpha Value
     C                   PARM      *BLANK        W0RTN
     C                   PARM      WEAIC3        WQ0030                         Company Number
     C                   PARM      @CN(002)      WQ0031                         Company Value C
     C     YL0015        PARM      *BLANK        WQ0032                         System Value Al
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   EVAL      W0CLPG = ' '
     C                   MOVEL     'POMTXFR'     W0CLPG
      * Send message '*Error occured on CALL...'
     C                   MOVEL     'Y2U0032'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     W0CLPG        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   END
      * Error detected?
     C                   IF        W0RTN <> ' '
     C                   SETON                                        99        *
     C                   END
      * CASE: LCL.Email Address is Entered
     C                   IF        YL0015 <> ' '
     C                   Z-ADD     1             ZQ
     C     @CN(003)      CAT(P)    @CN(004):ZQ   YL0016                         Text USR 43
     C                   Z-ADD     2             ZQ
     C     YL0016        CAT(P)    WEAJCD:ZQ     YL0017                         Office Message
      * Setup message data for message
     C                   MOVEL     YL0015        ZA0001                         Email Address
     C                   MOVEL     YL0017        ZA0002                         Office Message
      *
      * Execute message
     C                   MOVEL     ZADFMF        ZAMSGF
     C                   CALL      'Y2EXMCC'                            90      *
     C                   PARM      *BLANK        W0RTN                          Return code
     C                   PARM      'USR4703'     ZAMSID                         Message ID
     C                   PARM                    ZAMSGF                         Message file
     C                   PARM                    ZAMSDA                         Message data
     C                   EVAL      ZAMSDA = ' '
     C                   EVAL      ZAMSGF = ' '
      *
      * Call to program ended in error
     C                   IF        *IN90
     C                   MOVEL     'Y2U0032'     W0RTN
     C                   END
      *
      * Error detected during execution
     C                   IF        W0RTN <> ' '
     C                   SETON                                        99        *
     C                   END
      *
     C                   END                                                    *FI
     C     KRSSE         READE     @HCCPCV                                90    *
     C                   ENDDO
      *================================================================
     CSR   SEEXIT        ENDSR
      /EJECT
     CSR   SFCHRC        BEGSR
      *================================================================
      * CHG Physical Count Sts CH - Physical Count Control  * 
      *================================================================
      *
     C                   EVAL      WN0001 = ' '                                 EDI Status 1
     C                   EVAL      WN0002 = ' '                                 EDI Status 2
     C                   EVAL      WN0003 = ' '                                 EDI Status 3
     C                   Z-ADD     *ZERO         WN0004                         Job Time
     C                   EVAL      WN0005 = ' '                                 User Id
     C                   EVAL      WN0006 = ' '                                 Job Name
     C                   Z-ADD     *ZERO         WN0007                         Job Date
      *
     C                   EVAL      W0RTN = ' '
      * Set PGM.*Record Data Changed flag
     C                   EVALR     YARDC = ' '
      *
      * Move key fields to @HCCPJZ
     C                   Z-ADD     WEAIC3        WFAIC3                         Company Number
     C                   MOVEL(P)  WEAJCD        WFAJCD                         Warehouse Code
     C                   Z-ADD     WEDHDT        WFDHDT                         Physical Start
     C                   MOVEL(P)  WEOFCD        WFOFCD                         Cycle Count Cod
      *
     C     KLCHSF        KLIST
     C                   KFLD                    WFAIC3                         Company Number
     C                   KFLD                    WFAJCD                         Warehouse Code
     C                   KFLD                    WFDHDT                         Physical Start
     C                   KFLD                    WFOFCD                         Cycle Count Cod
     C     KLCHSF        CHAIN     @HCCPJZ                            9091      *
      *
      * Record not found
     C                   IF        *IN90
     C                   MOVEL     'Y2U0009'     W0RTN
     C                   MOVEL     ##PGM         MDPGM
     C                   MOVEL     'OMHCCPL0'    MDACP
     C                   MOVEL     '@HCCPJZ'     MDFMT
     C                   MOVEL     '*CHG'        MDACT
      * Record not found label: LBL001.
     C                   MOVEL     'LBL001'      MDLBL
      * Send message '*Record no longer on file'
     C                   MOVEL     'Y2U0009'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     MD0009        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   EVAL      MD0009 = ' '
     C                   GOTO      SFEXIT
     C                   ENDIF
      *
      * Record locked
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
      * Send message '*Database operation error'
     C                   MOVEL     'Y2U0004'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   EXSR      ZASNMS
     C                   GOTO      SFEXIT
     C                   ENDIF
      *
      * Store record data for null update check
     C                   MOVE      QOMHC1        YARDCS
      * Move non-key fields to @HCCPJZ
     C                   MOVEL(P)  'P'           WFTGST                         Cycle Status
      *
      * Set PGM.*Record Data Changed flag
     C                   IF        QOMHC1 <> YARDCS AND
     C                             YARDC <> 'N'
     C                   MOVE      'Y'           YARDC
     C                   ENDIF
      * USER: Processing before Data update
     W* Y2W0053 - One or more arguments defaulted to available contexts
      * Field '(DB1) WFAATM' defaulted for 'Job Time'.
      * Field '(DB1) WFAYNA' defaulted for 'User Id'.
      * Field '(DB1) WFA0NA' defaulted for 'Job Name'.
      * Field '(DB1) WFAXDT' defaulted for 'Job Date'.
      * Set Date/Time Stamp   IF
     C                   Z-ADD     ##JTM         WFAATM                         Job Time
     C                   MOVEL     ##USR         WFAYNA                         User Id
     C                   MOVEL     ##JOB         WFA0NA                         Job Name
     C                   Z-ADD     ##JDT         WFAXDT                         Job Date
      * Set PGM.*Record Data Changed flag
     C                   IF        QOMHC1 <> YARDCS AND
     C                             YARDC <> 'N'
     C                   MOVE      'Y'           YARDC
     C                   ENDIF
      * If changed update record otherwise release record
     C                   IF        YARDC = 'Y'
     C                   UPDATE    @HCCPJZ                              91      *
     C                   ELSE
      * Release record lock
     C                   UNLOCK    OMHCCPL0                             91      *
     C                   ENDIF
      * Change error detected
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
     C                   ELSE
      *
      * DBF change successful
     C                   ENDIF
      *================================================================
     CSR   SFEXIT        ENDSR
      /EJECT
     CSR   UASUBR        BEGSR
      *================================================================
      * Explanation of Auto Post Inventory Restoration
      *================================================================
      * The purpose of this function is to Auto-Post Inventory Restoratio
      * This program will be invoked from a SQL Stored Procedure with the
      * same name as this EXCEXTFUN, PBNMXFR.
      * This program is specified as RP4 so that it will generate
      * QRPGSRCLE which is required when working with a SQL Stored
      * Procedure.
      * It is performing the same functionality as option 1=Process
      * Carlisle Upload File on the Work With Plant Floor Restoration.
      * All Warehouses for the selected Company (360/960) with the WHS
      * Auto Inv Warehouse = Y, in the Warehouse file are procesed.
      * Next, it performs the same functionality as option 10=Post on the
      * Work With Physical Count (OMJHDFR) function.  Only records in the
      * Physical Count Control file with a Cycle Status of O=Open are
      * processed.
      * When completed Send Email based on ESEND INVRSTGUY or INVRSTSTJ
      *================================================================
     CSR   UAEXIT        ENDSR
      /EJECT
     CSR   UBSUBR        BEGSR
      *================================================================
      * Programmer Explanation
      *================================================================
      * The Auto Inv Restoration flag designates if the Warehouse is to
      * be processed with the Automated Inventory Restoration process.
      * This is the same logic as 1=Process Upload File on the
      * Work With Plant Floor Restoration (PPT1DFR) program.
      * This process will create records in the Physical Count Control
      * file with a Cycle Status of O=Open.
      *================================================================
     CSR   UBEXIT        ENDSR
      /EJECT
     CSR   UCSUBR        BEGSR
      *================================================================
      * Set LCL fields used in calculation to Zero
      *================================================================
     C                   Z-ADD     0             YL0002                         Quantity Adjust
     C                   Z-ADD     0             YL0003                         Weight 1.1
     C                   Z-ADD     0             YL0004                         Quantity Inv On
     C                   Z-ADD     0             YL0005                         Weight 1.2
      *================================================================
     CSR   UCEXIT        ENDSR
      /EJECT
     CSR   ZASNMS        BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C                   IF        ZAPGMQ = ' '
     C                   MOVEL     ##PGM         ZAPGMQ
     C                   END
      * If no message file specified, use default
     C                   IF        ZAMSGF = ' '
     C                   MOVEL     ZADFMF        ZAMSGF
     C                   END
     C                   CALL      'Y2SNMGC'
     C                   PARM                    ZAPGMQ                         Program queue
     C                   PARM                    ZAPGRL                         Rel queue
     C                   PARM                    ZAMSID                         Message ID
     C                   PARM                    ZAMSGF                         Message file
     C                   PARM                    ZAMSDA                         Message data
     C                   PARM                    ZAMSTP                         Message type
     C                   PARM      'Y'           YILE
      * Clear all fields for default mechanism next time
     C                   EVAL      ZAPGMQ = ' '
     C                   EVAL      ZAPGRL = ' '
     C                   EVAL      ZAMSID = ' '
     C                   EVAL      ZAMSGF = ' '
     C                   EVAL      ZAMSDA = ' '
     C                   EVAL      ZAMSTP = ' '
      *================================================================
     CSR   ZAEXIT        ENDSR
      /EJECT
     CSR   ZXEXPG        BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                   EXSR      ZYEXPG
      *================================================================
     CSR   ZXEXIT        ENDSR
      /EJECT
     CSR   ZYEXPG        BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                   SETON                                        LR
      *
      * Exit program
     C                   RETURN
      *
      *================================================================
     CSR   ZYEXIT        ENDSR
      /EJECT
     CSR   ZZINIT        BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C                   IF        W0ICL = ' '
     C                   MOVEL     'Y'           W0ICL                          *Initial call
     C                   ELSE
     C                   MOVEL     'N'           W0ICL
     C                   END
     C                   EVALR     P0RTN = ' '
     C                   EVALR     W0RTN = ' '
     C                   EVAL      W0RSL = ' '
     C                   EVAL      W0RSF = ' '
     C                   MOVEL     *ZEROS        W0RTW
     C                   MOVEL     '400'         W0ENV
      * Retrieve job attributes
     C                   CALL      'Y2RTJCR'
     C                   PARM                    PGMDS
      * Setup job date/time
     C                   Z-ADD     ##SD7         ##JDT
     C                   TIME                    ##JTM
      * Update screen time
     C                   TIME                    ##TME
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WADBNB                         Warehouse Chill
     C                   Z-ADD     *ZERO         WABWC3                         Shipping Compan
     C                   Z-ADD     *ZERO         WABTC3                         Accounting Comp
     C                   Z-ADD     *ZERO         WABUC3                         WHS Sched Prod
     C                   Z-ADD     *ZERO         WABVC3                         WHS Inventory C
     C                   Z-ADD     *ZERO         WAAATM                         Job Time
     C                   Z-ADD     *ZERO         WAAXDT                         Job Date
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WBY1NX                         PFS Company Num
     C                   Z-ADD     *ZERO         WBAID8                         PFS Transaction
     C                   Z-ADD     *ZERO         WBAFTS                         PFS Transaction
     C                   Z-ADD     *ZERO         WBBCNY                         PFS Transaction
     C                   Z-ADD     *ZERO         WBY2NX                         PFS Item Code
     C                   Z-ADD     *ZERO         WBADNY                         PFS Location Co
     C                   Z-ADD     *ZERO         WBP7DT                         PFS Production
     C                   Z-ADD     *ZERO         WBZ4NX                         PFS Label Date
     C                   Z-ADD     *ZERO         WBACNY                         PFS Receive/Loc
     C                   Z-ADD     *ZERO         WBCUNY                         PFS On Hand Qua
     C                   Z-ADD     *ZERO         WBCVNY                         PFS On Hand Wei
     C                   Z-ADD     *ZERO         WBUXSX                         PFS Process Sta
     C                   Z-ADD     *ZERO         WBAHNY                         PFS Create Date
     C                   Z-ADD     *ZERO         WBAINY                         PFS Create Time
     C                   Z-ADD     *ZERO         WBAJNY                         PFS Change Date
     C                   Z-ADD     *ZERO         WBAKNY                         PFS Change time
      * Define work field First Time Flag
     C                   EVAL      WUTAST = ' '
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WCAIC3                         Company Number
     C                   Z-ADD     *ZERO         WCHGCD                         Item Code
     C                   Z-ADD     *ZERO         WCELDT                         Production Date
     C                   Z-ADD     *ZERO         WCLXNM                         Lot Number
     C                   Z-ADD     *ZERO         WCYNCD                         Location Level
     C                   Z-ADD     *ZERO         WCJ2QT                         ILL Item Qty On
     C                   Z-ADD     *ZERO         WCG5WG                         ILL Unit Weight
     C                   Z-ADD     *ZERO         WCJ3QT                         ILL Co-Packer L
     C                   Z-ADD     *ZERO         WCG6WG                         ILl Item Wgt On
     C                   Z-ADD     *ZERO         WCJ4QT                         ILL Unused Qty
     C                   Z-ADD     *ZERO         WCG7WG                         ILL Unused Wgt
     C                   Z-ADD     *ZERO         WCLODT                         ILL Avail Ship
     C                   Z-ADD     *ZERO         WCLPDT                         ILL Unused Date
     C                   Z-ADD     *ZERO         WCLQDT                         ILL Unused Date
     C                   Z-ADD     *ZERO         WCNBR                          ILL Unused Nbr
     C                   Z-ADD     *ZERO         WCAATM                         Job Time
     C                   Z-ADD     *ZERO         WCAXDT                         Job Date
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WDAIC3                         Company Number
     C                   Z-ADD     *ZERO         WDHGCD                         Item Code
     C                   Z-ADD     *ZERO         WDELDT                         Production Date
     C                   Z-ADD     *ZERO         WDABWG                         Physical Count
     C                   Z-ADD     *ZERO         WDAGQT                         Physical Count
     C                   Z-ADD     *ZERO         WDAHQT                         Physical Count
     C                   Z-ADD     *ZERO         WDAIQT                         Physical Count
     C                   Z-ADD     *ZERO         WDACWG                         Quantity on Han
     C                   Z-ADD     *ZERO         WDARQT                         Quantity on Han
     C                   Z-ADD     *ZERO         WDASQT                         Quantity on Han
     C                   Z-ADD     *ZERO         WDATQT                         Quantity on Han
     C                   Z-ADD     *ZERO         WDHDQT                         Quantity In Chi
     C                   Z-ADD     *ZERO         WDHEQT                         Weight In Chill
     C                   Z-ADD     *ZERO         WDBMWG                         Physical Start
     C                   Z-ADD     *ZERO         WDDSQT                         Physical Start
     C                   Z-ADD     *ZERO         WDDTQT                         Physical Start
     C                   Z-ADD     *ZERO         WDDUQT                         Physical Start
     C                   Z-ADD     *ZERO         WDDHDT                         Physical Start
     C                   Z-ADD     *ZERO         WDAGCS                         Unit Cost Per P
     C                   Z-ADD     *ZERO         WDAECS                         Last Cost
     C                   Z-ADD     *ZERO         WDIDVA                         Value of On Han
     C                   Z-ADD     *ZERO         WDK7DT                         Label Date
     C                   Z-ADD     *ZERO         WDRINB                         Item Structure
     C                   Z-ADD     *ZERO         WDRHNB                         Item Structure
     C                   Z-ADD     *ZERO         WDRGNB                         Item Structure
     C                   Z-ADD     *ZERO         WDAATM                         Job Time
     C                   Z-ADD     *ZERO         WDAXDT                         Job Date
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WEAIC3                         Company Number
     C                   Z-ADD     *ZERO         WEDHDT                         Physical Start
     C                   Z-ADD     *ZERO         WEAATM                         Job Time
     C                   Z-ADD     *ZERO         WEAXDT                         Job Date
      * Obtain default message file
     C     *DTAARA       DEFINE    CAMGFLA       ZADFMF
     C                   IN        ZADFMF
      * Dummy move for compiler
     C                   MOVE      '0'           @CN#(1)
     C                   MOVEL     'N'           W0PMT
      * Define local work field Company Number
     C                   Z-ADD     *ZERO         YL0001
      * Define local work field Quantity Adjustment 2 USR
     C                   Z-ADD     *ZERO         YL0002
      * Define local work field Weight 1.1             .U
     C                   Z-ADD     *ZERO         YL0003
      * Define local work field Quantity Inv On-Hand USR
     C                   Z-ADD     *ZERO         YL0004
      * Define local work field Weight 1.2             .U
     C                   Z-ADD     *ZERO         YL0005
      * Define local work field PFS Transaction Date
     C                   Z-ADD     *ZERO         YL0006
      * Define local work field Quantity Loc Var USR
     C                   Z-ADD     *ZERO         YL0007
      * Define local work field Weight 1.3             .U
     C                   Z-ADD     *ZERO         YL0008
      * Define local work field PRT Printer Device
     C                   EVAL      YL0009 = ' '
      * Define local work field Company Number Pass   USR
     C                   Z-ADD     *ZERO         YL0010
      * Define local work field Date 1          PASS  USR
     C                   Z-ADD     *ZERO         YL0011
      * Define local work field Warehouse Code
     C                   EVAL      YL0012 = ' '
      * Define local work field Cycle Count Code - IB
     C                   EVAL      YL0013 = ' '
      * Define local work field Return Code Usr
     C                   EVAL      YL0014 = ' '
      * Define local work field Email Address
     C                   EVAL      YL0015 = ' '
      * Define local work field Text USR 43
     C                   EVAL      YL0016 = ' '
      * Define local work field Office Message USR
     C                   EVAL      YL0017 = ' '
      *================================================================
     CSR   ZZEXIT        ENDSR
** @CN
00001 ICPYPFR$
00002 INVRST
00003 Inventory Restoration
00004 Posted for:
