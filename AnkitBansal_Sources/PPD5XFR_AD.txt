// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPD5XFR
// ?Date: 14.08.2025 Time: 03:40:04
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?03/25/04
//?Fix actual ship date if diff than order header.
//?start at 12/28/02
EXECUTE FUNCTION(FIX Actual Ship Dt    RT) TYPE(RTVOBJ) FILE(OMHSTPP)           AC1685970;
PARAMETER(360);
PARAMETER(1021228);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(RTV All Fields         RT) TYPE(RTVOBJ) FILE(OPBFCPP)          AC1571206;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(WRK.Order_Type_Sales);
 PARAMETER(WRK.AR_Customer_Number);
 PARAMETER(WRK.Ship_To_Customer);
 PARAMETER(WRK.Ship_To_Name);
 PARAMETER(WRK.Ship_To_Address_Line_1);
 PARAMETER(WRK.Ship_To_Address_Line_2);
 PARAMETER(WRK.Ship_To_Address_Line_3);
 PARAMETER(WRK.Ship_To_City);
 PARAMETER(WRK.Ship_To_State_Code);
 PARAMETER(WRK.Ship_To_Zip_Postal_Code);
 PARAMETER(WRK.Bill_to_Customer);
 PARAMETER(WRK.Bill_to_Name);
 PARAMETER(WRK.Bill_to_Address_Line_1);
 PARAMETER(WRK.Bill_to_Address_Line_2);
 PARAMETER(WRK.Bill_to_Address_Line_3);
 PARAMETER(WRK.Bill_to_City);
 PARAMETER(WRK.Bill_to_State_Code);
 PARAMETER(WRK.Bill_to_Zip_Postal_Code);
 PARAMETER(WRK.Customer_Purchase_Order_#);
 PARAMETER(WRK.Order_Date);
 PARAMETER(WRK.Requested_Ship_Date);
 PARAMETER(WRK.Actual_Shipped_Date);
 PARAMETER(WRK.Cancel_Date);
 PARAMETER(WRK.Terms_Code);
 PARAMETER(WRK.Special_Instructions);
 PARAMETER(WRK.Special_Instructions_2);
 PARAMETER(WRK.Carrier_Code);
 PARAMETER(WRK.Comment_Print_Acknowledge);
 PARAMETER(WRK.Comment_Print_Inv_Cr_Memo);
 PARAMETER(WRK.Comment_Print_Pick_Slip);
 PARAMETER(WRK.Comment_Print_Ship_Doc);
 PARAMETER(WRK.Reason_Code);
 PARAMETER(WRK.Order_in_Use);
 PARAMETER(WRK.Header_Status);
 PARAMETER(WRK.Header_Status_Last);
 PARAMETER(WRK.Order_Type_Print_Status);
 PARAMETER(WRK.Scheduled_Ship_Date);
 PARAMETER(WRK.User_Original_Entry);
 PARAMETER(WRK.Date_of_Original_Entry);
 PARAMETER(WRK.Order_Value_Total);
 PARAMETER(WRK.Order_Weight_Total);
 PARAMETER(WRK.Credit_Hold);
 PARAMETER(WRK.Production_Hold);
 PARAMETER(WRK.New_Customer_Hold);
 PARAMETER(WRK.Requested_Delivery_Date);
 PARAMETER(WRK.Requested_Delivery_Time);
 PARAMETER(WRK.Accounts_Receiv_Ent_1);
 PARAMETER(WRK.Accounts_Receiv_Ent_2);
 PARAMETER(WRK.Load_ID);
 PARAMETER(WRK.Absorbed_Freight_Rate_CWT);
 PARAMETER(WRK.Rated_Freight);
 PARAMETER(WRK.LTL_Flag);
 PARAMETER(WRK.Price_Audit);
 PARAMETER(WRK.Price_Status);
 PARAMETER(WRK.Shipping_Method);
 PARAMETER(WRK.Export_Status);
 PARAMETER(WRK.Palletize);
 PARAMETER(WRK.Shrink_Wrap);
 PARAMETER(WRK.Slip_Sheet);
 PARAMETER(WRK.Age_Code);
 PARAMETER(WRK.Reefer_Temperature);
 PARAMETER(WRK.Load_Type);
 PARAMETER(WRK.Attach_to_Invoice_Number);
 PARAMETER(WRK.Load_Plan_Order);
 PARAMETER(WRK.Print_Pick_Slip);
 PARAMETER(WRK.Resell_Reference_Number);
 PARAMETER(WRK.Special_Comment_1);
 PARAMETER(WRK.Special_Comment_2);
 PARAMETER(WRK.Affect_Auto_Accruals);
 PARAMETER(WRK.Sales_Route_Code);
 PARAMETER(WRK.Manager_Level_Code);
 PARAMETER(WRK.VP_Level_Code);
 PARAMETER(WRK.Attach_to_Order_Number);
 PARAMETER(WRK.Reason_for_Price_Audit);
 PARAMETER(WRK.Invoice_Number);
 PARAMETER(WRK.Invoice_Suffix);
 PARAMETER(WRK.Invoice_Date);
 PARAMETER(WRK.Event_Code);
 PARAMETER(WRK.Trans_Contol_AS400_Plant);
 PARAMETER(WRK.Modified_Flag);
 PARAMETER(WRK.A_R_order_Value_Total);
 PARAMETER(WRK.Billing_Activity_Type);
 PARAMETER(WRK.Block_Order_Flag);
 PARAMETER(WRK.Order_Certification_Flag);
 PARAMETER(WRK.Invoice_Order_Value_Tot);
 PARAMETER(WRK.Process_Sts_for_3C);
 PARAMETER(WRK.Order_Conf_Fax_Sts);
 PARAMETER(WRK.Manifest_Fax_Sts);
 PARAMETER(WRK.Invoice_Fax_Sts);
 PARAMETER(WRK.Transfer_in_Storage_Ind);
 PARAMETER(WRK.Email_Cust_On_Order_Ship);
 PARAMETER(WRK.Order_Emailed);
 PARAMETER(WRK.Export_Docs_Go_w_Driver);
 PARAMETER(WRK.Shipping_Temp_Code_C_F);
 PARAMETER(WRK.Broker_Order_Status);
 PARAMETER(WRK.Air_Freight_Order);
 PARAMETER(WRK.Order_Requires_Review);
 PARAMETER(WRK.OH_Load_Plan_Ready);
 PARAMETER(WRK.Export_USDA_Approved);
 PARAMETER(WRK.HPB_Ship_to_Warehouse);
 PARAMETER(WRK.OH_TF_Exempt_Code);
 PARAMETER(WRK.OH_Appt_Confirmation_Dt);
 PARAMETER(WRK.JPN_Invoice_Issuance_Date);
 PARAMETER(WRK.Load_Actual_Shipped_Date);
 PARAMETER(WRK.Load_BOL_Complete_Date);
 PARAMETER(WRK.Load_Truck_Departure_Date);
 PARAMETER(WRK.Maximum_Gross_Weight);
 PARAMETER(WRK.Time_of_Original_Entry);
 PARAMETER(WRK.OH_Appt_Confirmation_Tm);
 PARAMETER(WRK.Load_BOL_Complete_Time);
 PARAMETER(WRK.Load_Truck_Departure_Time);
 PARAMETER(WRK.Act_Frt_Reference_Amount);
 PARAMETER(WRK.Act_Non_Ref_Frt_Amount);
 PARAMETER(WRK.OH_Fuel_Surcharge_Amount);
 PARAMETER(WRK.OH_Total_Non_Ref_Frt_Amt);
 PARAMETER(WRK.OH_Total_Ref_Frt_Amt);
 PARAMETER(WRK.Claim_Number);
 PARAMETER(WRK.EDI_Status_1);
 PARAMETER(WRK.EDI_Status_2);
 PARAMETER(WRK.EDI_Status_3);
 PARAMETER(WRK.Job_Time);
 PARAMETER(WRK.User_Id);
 PARAMETER(WRK.Job_Name);
 PARAMETER(WRK.Job_Date);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 CASE;

 // IF DB1.Actual Shipped Date NE WRK.Actual Shipped Date
 IF DB1.Actual_Shipped_Date <> WRK.Actual_Shipped_Date;

 EXECUTE FUNCTION(Chg Actual Ship       CH) TYPE(CHGOBJ) FILE(OMHSTPP)           AC1685972;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(WRK.Actual_Shipped_Date);
 {
  //?USER: Processing after Data read

  // DB1.Process Sts for 3C = CND.No
  DB1.Process_Sts_for_3C = 'N';

  // DB1.Data Mart Process Sts = CND.no
  DB1.Data_Mart_Process_Sts = 'N';

  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Record Stamp CHGOB IF) TYPE(EXCINTFUN)                     AC1283156;
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*PROGRAM
   PAR.Job_Name = JOB.*PROGRAM;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

 }

 ENDIF;

}


