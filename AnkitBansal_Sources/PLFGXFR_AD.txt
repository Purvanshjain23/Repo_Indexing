// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLFGXFR
// ?Date: 14.08.2025 Time: 02:54:03
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?RMC 1/18/05 - Run in balance XF to delete held overs that were undone,
//?              ie.  Held over record is Yes, but Rcvd Head = 0
//?H16853 ISE 11/05/2020 - Recompiled due to change in Buy Order Number
EXECUTE FUNCTION(Rtv Held Over to Undo RT) TYPE(RTVOBJ) FILE(PKA1CPP)           AB1262656;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.TH Held Over Record is Yes
 IF DB1.TH_Held_Over_Record = 'Y';

 // AND DB1.TH Head Received is *Zeros
 AND DB1.TH_Head_Received = *ZERO;

 EXECUTE FUNCTION(Rtv/Dlt held over undoRT) TYPE(RTVOBJ) FILE(PKA2CPP)           AB1262657;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Delete Tattoo Detail) TYPE(DLTOBJ) FILE(PKA2CPP)               AB1101752;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
  PARAMETER(DB1.TH_Tattoo_Number);
  PARAMETER(DB1.TH_Kill_Date);
  PARAMETER(DB1.TD_Sequence_Number);
 }

 EXECUTE FUNCTION(Delete Tattoo Header) TYPE(DLTOBJ) FILE(PKA1CPP)               AB1101745;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 ENDIF;

}


