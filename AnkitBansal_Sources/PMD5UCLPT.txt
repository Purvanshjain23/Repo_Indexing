 /********************************************************************/
 /*      TEST VERSION                                                */
 /*  SYNOPSIS - USE IN THE CREATION OF THE LOAD SCHEDULED POSTIONS   */
 /*             REPORTS.                                             */
 /********************************************************************/
 /* CREATE FILES FOR REPORT IN QTEMP                                 */
 /* FROM THE USER LIBRARY MASFLIB                                     */
 /********************************************************************/
 /*                                                                  */
 /*  SYSTEM    - ORDER MANAGEMENT SYSTEM                             */
 /*  PROGRAM   - PMD5UCLP                                            */
 /*  DATE      - 01/31/09                                            */
 /********************************************************************/
 /* MODIFICATION HISTORY                                             */
 /*  S. MASON  - 033109 - ERROR ON BIG BYTE AND COULD NOT CRTDUPOBJ  */
 /*  S. MASON  - 050609 - ERROR ON BIG BYTE AND COULD NOT CRTDUPOBJ  */
 /*                      ADDED FILE PDMHCPL8 WAS MISSING             */
 /*                                                                  */
 /********************************************************************/

  PMD5UCLP:   PGM        PARM(&RETURN)

  /* PARMS                                                            */
             DCL        VAR(&RETURN) TYPE(*CHAR) LEN(7) /* RETURN */
             DCL        VAR(&USER) TYPE(*CHAR) LEN(10) /* USER */
/*******************************************************************/
/* Create Duplicate verion of file to QTEMP.                       */
/*  Pull the data from the physical only.                          */
/*******************************************************************/
             CHGVAR     VAR(&RETURN) VALUE('       ')

/*           GET THE USER WORK LIBRARY                             */
/*           CALL       PGM(PMD9XFR) PARM(' ' &DATAS)              */

/*  IF  FILES  ARE IN QTEMP THEN GET RID OF THESE                  */
/*  ANY ERROR MESSAGE WOULD BE THEY ARE NOT THERE                 */
             DLTF       FILE(QTEMP/PDMHCP*)
             MONMSG     MSGID(CPF0000) EXEC(DO)
             GOTO       CMDLBL(START)
             ENDDO

START:

             CRTDUPOBJ  OBJ(PDMHCPP) FROMLIB(MASFLIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*YES)

 /********************************************************************/

             CRTDUPOBJ  OBJ(PDMHCPLA) FROMLIB(MASFLIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)


             CRTDUPOBJ  OBJ(PDMHCPLAPD) FROMLIB(MASFLIB) +
                          OBJTYPE(*FILE) TOLIB(QTEMP) DATA(*NO)

             CRTDUPOBJ  OBJ(PDMHCPLD) FROMLIB(MASFLIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)

             CRTDUPOBJ  OBJ(PDMHCPL6) FROMLIB(MASFLIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)

             CRTDUPOBJ  OBJ(PDMHCPL8) FROMLIB(MASFLIB) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)

             GOTO       CMDLBL(ENDJOB)

 USELST1:    RTVJOBA    USER(&USER)
             SNDMSG     MSG('Data refresh in progress. Please Select +
                          report later') TOMSGQ(&USER)
             CHGVAR     VAR(&RETURN) VALUE('RESELEC')

  ENDJOB:
/* NEXT PROGRAM WILL RUN THE REPORTS FROM  QTEMP   */
              ENDPGM
