// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBXEXFR
// ?Date: 14.08.2025 Time: 03:49:39
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Rtv Dlt Intl Legs     RT) TYPE(RTVOBJ) FILE(PBCXCPP)           AC2123373;
PARAMETER(PAR.TMS_Load_ID);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 //?USER: Process Data record

 EXECUTE FUNCTION(Del TMS Intl Ship     DL) TYPE(DLTOBJ) FILE(PBCXCPP)           AC2123292;
 PARAMETER(DB1.TMS_Load_ID);
 PARAMETER(DB1.TMS_Extract_Date);
 PARAMETER(DB1.TMS_Extract_Time);
 PARAMETER(DB1.TMS_Extract_File_Name);
 PARAMETER(DB1.TMS_Event_Sequence);
 PARAMETER(DB1.TMS_Order_ID);
}


EXECUTE FUNCTION(Rtv Crt/Chg TMS Intl  RT) TYPE(RTVOBJ) FILE(PBCWCPP)           AC2123370;
PARAMETER(PAR.TMS_Load_ID);
PARAMETER(PAR.TMS_Extract_Date);
PARAMETER(PAR.TMS_Extract_Time);
PARAMETER(PAR.TMS_Extract_File_Name);
PARAMETER(PAR.TMS_Customer_Load_ID);
PARAMETER(PAR.TMS_Temperature);
PARAMETER(PAR.TMS_Temperature_UOM);
PARAMETER(PAR.TMS_Movement_Type);
PARAMETER(PAR.TMS_Shipment_Type);
PARAMETER(PAR.TMS_Payment_Method);
PARAMETER(PAR.TMS_POD_Received);
PARAMETER(PAR.TMS_Load_Status);
PARAMETER(PAR.TMS_Load_Owner);
PARAMETER(PAR.TMS_Carrier_SCAC);
PARAMETER(PAR.TMS_Carrier_Mode);
PARAMETER(PAR.TMS_Carrier_Distance);
PARAMETER(PAR.TMS_Deadline_Depart_Date);
PARAMETER(PAR.TMS_Deadline_Depart_Time);
PARAMETER(PAR.TMS_Trailer_Number);
PARAMETER(PAR.TMS_Container_Number);
PARAMETER(PAR.TMS_Move_Type);
PARAMETER(PAR.TMS_Vessel_Name);
PARAMETER(PAR.TMS_Voyage_Number);
PARAMETER(PAR.TMS_Booking_Number);
PARAMETER(PAR.TMS_OTR_Destination_Name);
PARAMETER(PAR.TMS_OTR_Destination_Addr1);
PARAMETER(PAR.TMS_OTR_Destination_Addr2);
PARAMETER(PAR.TMS_OTR_Destination_City);
PARAMETER(PAR.TMS_OTR_Destination_State);
PARAMETER(PAR.TMS_OTR_Destination_Zip);
PARAMETER(PAR.TMS_OTR_Destination_Cntry);
PARAMETER(PAR.TMS_Vessel_ETD_Date);
PARAMETER(PAR.TMS_Vessel_ETA_Date);
PARAMETER(PAR.TMS_Record_Status);
PARAMETER(PAR.TMS_Process_Status);
PARAMETER(PAR.TMS_Error_Reason);
PARAMETER(PAR.TMS_Change_Date);
PARAMETER(PAR.TMS_Change_time);
{
 //?USER: Processing if Data record not found

 //?FOR NOT 'WAREHOUSE' ADDRESS TYPES ONLY
 EXECUTE FUNCTION(Rtv Crt Intl Legs     RT) TYPE(RTVOBJ) FILE(PBCSCPP)           AC2123372;
 PARAMETER(PAR.TMS_Load_ID);
 PARAMETER(PAR.TMS_Extract_Date);
 PARAMETER(PAR.TMS_Extract_Time);
 PARAMETER(PAR.TMS_Extract_File_Name);
 PARAMETER(LCL.Record_Created_USR);
 PARAMETER(PAR.TMS_Carrier_SCAC);
 PARAMETER(PAR.TMS_Carrier_Mode);
 PARAMETER(PAR.TMS_Container_Number);
 PARAMETER(PAR.TMS_Vessel_Name);
 PARAMETER(PAR.TMS_Voyage_Number);
 PARAMETER(PAR.TMS_Booking_Number);
 PARAMETER(PAR.TMS_OTR_Destination_Name);
 PARAMETER(PAR.TMS_OTR_Destination_City);
 PARAMETER(PAR.TMS_Vessel_ETD_Date);
 PARAMETER(PAR.TMS_Vessel_ETA_Date);
 {
  //?USER: Initialize routine

  // PAR.Record Created        USR = CND.No
  PAR.Record_Created_USR = 'N';

  //?USER: Process Data record

  //?Create intl shipment for each order in the event sequence
  CASE;

  // IF DB1.TMS Address Type is Warehouse
  IF DB1.TMS_Address_Type = 'WAREHOUSE';

  // IF *OTHERWISE
  IF *OTHERWISE;

  EXECUTE FUNCTION(Rtv Crt Intl Leg Shpm RT) TYPE(RTVOBJ) FILE(PBCUCPP)           AC2123376;
  PARAMETER(DB1.TMS_Load_ID);
  PARAMETER(DB1.TMS_Extract_Date);
  PARAMETER(DB1.TMS_Extract_Time);
  PARAMETER(DB1.TMS_Extract_File_Name);
  PARAMETER(DB1.TMS_Event_Sequence);
  PARAMETER(DB1.TMS_Event_Type);
  PARAMETER(DB1.TMS_Earliest_Date);
  PARAMETER(DB1.TMS_Earliest_Time);
  PARAMETER(DB1.TMS_Latest_Date);
  PARAMETER(DB1.TMS_Latest_Time);
  PARAMETER(DB1.TMS_Planned_Date);
  PARAMETER(DB1.TMS_Planned_Time);
  PARAMETER(DB1.TMS_Actual_Date);
  PARAMETER(DB1.TMS_Actual_Time);
  PARAMETER(DB1.TMS_Address_Type);
  PARAMETER(DB1.TMS_Location_Code);
  PARAMETER(DB1.TMS_Address_Name);
  PARAMETER(DB1.TMS_Address_Line_1);
  PARAMETER(DB1.TMS_Address_Line_2);
  PARAMETER(DB1.TMS_City);
  PARAMETER(DB1.TMS_State_Province);
  PARAMETER(DB1.TMS_Postal_Code);
  PARAMETER(DB1.TMS_Country_Code);
  PARAMETER(DB1.TMS_Weight);
  PARAMETER(DB1.TMS_Weight_UOM);
  PARAMETER(DB1.TMS_Appointment_Date);
  PARAMETER(DB1.TMS_Appointment_Time);
  PARAMETER(DB1.TMS_Record_Status);
  PARAMETER(DB1.TMS_Process_Status);
  PARAMETER(DB1.TMS_Error_Reason);
  PARAMETER(DB1.TMS_Change_Date);
  PARAMETER(DB1.TMS_Change_time);
  PARAMETER(PAR.TMS_Carrier_SCAC);
  PARAMETER(PAR.TMS_Carrier_Mode);
  PARAMETER(PAR.TMS_Container_Number);
  PARAMETER(PAR.TMS_Vessel_Name);
  PARAMETER(PAR.TMS_Voyage_Number);
  PARAMETER(PAR.TMS_Booking_Number);
  PARAMETER(PAR.TMS_OTR_Destination_Name);
  PARAMETER(PAR.TMS_OTR_Destination_City);
  PARAMETER(PAR.TMS_Vessel_ETD_Date);
  PARAMETER(PAR.TMS_Vessel_ETA_Date);
  {
   //?USER: Initialize routine

   // LCL.Order Number Saved USR = CON.*ZERO
   LCL.Order_Number_Saved_USR = *ZERO;

   //?USER: Process Data record

   EXECUTE FUNCTION(Crt TMS Intl          CR) TYPE(CRTOBJ) FILE(PBCXCPP)           AC2123290;
   PARAMETER(DB1.TMS_Load_ID);
   PARAMETER(DB1.TMS_Extract_Date);
   PARAMETER(DB1.TMS_Extract_Time);
   PARAMETER(DB1.TMS_Extract_File_Name);
   PARAMETER(DB1.TMS_Event_Sequence);
   PARAMETER(DB1.TMS_Order_ID);
   PARAMETER(PAR.TMS_Event_Type);
   PARAMETER(PAR.TMS_Earliest_Date);
   PARAMETER(PAR.TMS_Earliest_Time);
   PARAMETER(PAR.TMS_Latest_Date);
   PARAMETER(PAR.TMS_Latest_Time);
   PARAMETER(PAR.TMS_Planned_Date);
   PARAMETER(PAR.TMS_Planned_Time);
   PARAMETER(PAR.TMS_Actual_Date);
   PARAMETER(PAR.TMS_Actual_Time);
   PARAMETER(PAR.TMS_Address_Type);
   PARAMETER(PAR.TMS_Location_Code);
   PARAMETER(PAR.TMS_Address_Name);
   PARAMETER(PAR.TMS_Address_Line_1);
   PARAMETER(PAR.TMS_Address_Line_2);
   PARAMETER(PAR.TMS_City);
   PARAMETER(PAR.TMS_State_Province);
   PARAMETER(PAR.TMS_Postal_Code);
   PARAMETER(PAR.TMS_Country_Code);
   PARAMETER(PAR.TMS_Weight);
   PARAMETER(PAR.TMS_Weight_UOM);
   PARAMETER(DB1.TMS_Miles_from_Org_to_Dst);
   PARAMETER(PAR.TMS_Appointment_Date);
   PARAMETER(PAR.TMS_Appointment_Time);
   PARAMETER(DB1.TMS_Record_Status);
   PARAMETER(DB1.TMS_Process_Status);
   PARAMETER(DB1.TMS_Error_Reason);
   PARAMETER(DB1.TMS_Change_Date);
   PARAMETER(DB1.TMS_Change_time);
   EXECUTE FUNCTION(Change TMS Load Event Shi) TYPE(CHGOBJ) FILE(PBCUCPP)          AC2123089;
   PARAMETER(DB1.TMS_Load_ID);
   PARAMETER(DB1.TMS_Extract_Date);
   PARAMETER(DB1.TMS_Extract_Time);
   PARAMETER(DB1.TMS_Extract_File_Name);
   PARAMETER(DB1.TMS_Event_Sequence);
   PARAMETER(DB1.TMS_Order_ID);
   PARAMETER(DB1.TMS_Miles_from_Org_to_Dst);
   PARAMETER(DB1.TMS_Record_Status);
   PARAMETER(1);
   PARAMETER(DB1.TMS_Error_Reason);
   PARAMETER(DB1.TMS_Change_Date);
   PARAMETER(DB1.TMS_Change_time);
   {
    //?USER: Processing before Data update

    EXECUTE FUNCTION(Set TMS Record Stampp IF) TYPE(EXCINTFUN)                      AC2123222;
    PARAMETER(DB1.TMS_Record_Status);
    PARAMETER(DB1.TMS_Change_Date);
    PARAMETER(DB1.TMS_Change_time);
    {
     //?Execute internal function

     // PAR.TMS Change time = JOB.*Job time
     PAR.TMS_Change_time = JOB.*Job_time;

     // PAR.TMS Change Date = JOB.*Job date
     PAR.TMS_Change_Date = JOB.*Job_date;

    }

   }

   //?Update OHE from Load where Carrier Mode=OCEAN with the vessel,voyage#,...
   CASE;

   // IF PAR.TMS Carrier Mode is Ocean
   IF PAR.TMS_Carrier_Mode = 'OCEAN';

   CASE;

   // IF DB1.TMS Order ID is entered
   IF DB1.TMS_Order_ID <> *ZERO;

   // AND DB1.TMS Order ID NE LCL.Order Number Saved USR
   AND DB1.TMS_Order_ID <> LCL.Order_Number_Saved_USR;

   // LCL.Order Number Saved USR = DB1.TMS Order ID
   LCL.Order_Number_Saved_USR = DB1.TMS_Order_ID;

   //?Order header Ext updates
   //?07/24/19 DN R15161-Set OHE Voyage/Flight.
   CASE;

   // IF *OTHERWISE
   IF *OTHERWISE;

   //?OHE Voyage/Flight field type was changed from NBR (5) to TXT (15).
   //?No longer need to check if value is numeric.
   // LCL.OHE Voyage/Flight = PAR.TMS Voyage Number
   LCL.OHE_Voyage_Flight = PAR.TMS_Voyage_Number;

   ENDIF;

   // Call program CVT *YYMD to *CYMD    XF.
   CALL PROGRAM(CVT *YYMD to *CYMD    XF) ('PDGYXFR');
   PARAMETER(LCL.OHE_Sail_Flight_Date);
   PARAMETER(PAR.TMS_Vessel_ETD_Date);

   // Call program CVT *YYMD to *CYMD    XF.
   CALL PROGRAM(CVT *YYMD to *CYMD    XF) ('PDGYXFR');
   PARAMETER(LCL.OHE_Arrival_Date);
   PARAMETER(PAR.TMS_Vessel_ETA_Date);

   EXECUTE FUNCTION(RTV Company for Ord   RT) TYPE(RTVOBJ) FILE(OPBFCPP)           AC2074443;
   PARAMETER(LCL.Company_Number);
   PARAMETER(DB1.TMS_Order_ID);
   {
    //?USER: Process Data record

    MOVE *ALL (To: PAR From: DB1);

   }

   //?(dont upd load or stop/drop)
   //?07/24/19 DN R15161-Replaced PAR.Voyage with OHE Voyage/Flight &
   //?  PAR.Booking Number with OHE Booking Number.
   EXECUTE FUNCTION(RTV Chg TMS Load Fld2 RT) TYPE(RTVOBJ) FILE(PMAMREP)           AC2124695;
   PARAMETER(LCL.Company_Number);
   PARAMETER(DB1.TMS_Order_ID);
   PARAMETER(PAR.TMS_OTR_Destination_City);
   PARAMETER(LCL.OHE_Voyage_Flight);
   PARAMETER(PAR.TMS_Booking_Number);
   PARAMETER(PAR.TMS_Container_Number);
   PARAMETER(PAR.TMS_Carrier_SCAC);
   PARAMETER(PAR.TMS_OTR_Destination_Name);
   PARAMETER(PAR.TMS_Vessel_Name);
   PARAMETER(LCL.OHE_Sail_Flight_Date);
   PARAMETER(*BLANK);
   PARAMETER(PAR.TMS_Container_Number);
   PARAMETER('O');
   PARAMETER(PAR.TMS_OTR_Destination_City);
   PARAMETER(LCL.OHE_Load_Haul_Type);
   PARAMETER(LCL.OHE_Arrival_Date);
   {
    //?USER: Processing if Data record not found

    //?better be here already
    //?USER: Process Data record

    EXECUTE FUNCTION(CHG Existing OHE       CH) TYPE(CHGOBJ) FILE(PMAMREP)          AC1816935;
    PARAMETER(DB1.Company_Number);
    PARAMETER(DB1.Order_Number);
    PARAMETER(DB1.Load_ID);
    PARAMETER(DB1.Stop_Drop_Sequence_Number);
    PARAMETER(PAR.Shipping_Line);
    PARAMETER(PAR.Port_Delv_Terminal);
    PARAMETER(PAR.USR_City_25);
    PARAMETER(PAR.Vessel_Name);
    PARAMETER(PAR.OHE_Voyage_Flight);
    PARAMETER(PAR.OHE_Booking_Number);
    PARAMETER(PAR.Discharge_Port);
    PARAMETER(PAR.Sail_Date);
    PARAMETER(DB1.OHE_Port_Cut_Date);
    PARAMETER(PAR.OHE_Arrival_Date);
    PARAMETER(DB1.OHE_Late_Delivery_Code);
    PARAMETER(PAR.Ship_Status);
    PARAMETER(PAR.OHE_Container_Number);
    PARAMETER(DB1.OHE_Comment_1);
    PARAMETER(DB1.OHE_Comment_2);
    PARAMETER(DB1.OHE_Unused_Number_1_11_0);
    PARAMETER(DB1.OHE_Unused_Number_2_11_0);
    PARAMETER(DB1.OHE_Unused_Number_3_11_0);
    PARAMETER(DB1.OHE_Unused_Number_4_11_0);
    PARAMETER(DB1.OHE_HPB_RIN_Equiv_Value);
    PARAMETER(DB1.OHE_HPB_RIN_Price);
    PARAMETER(DB1.Transload_Terminal_Fees);
    PARAMETER(DB1.OHE_Est_Arrv_at_Dest_Date);
    PARAMETER(DB1.OHE_Backhaul_ETA_RtrnDate);
    PARAMETER(DB1.OHE_Port_Pier_Paid_Date);
    PARAMETER(DB1.OHE_Actual_Ship_Date);
    PARAMETER(DB1.OHE_Carrier_SCAC_Code);
    PARAMETER(DB1.OHE_Spot_Buy);
    PARAMETER(DB1.OHE_PO_ACK_Flag);
    PARAMETER(DB1.OHE_Override_Type_Code);
    PARAMETER(DB1.OHE_Backhaul_Status);
    PARAMETER(DB1.OHE_Backhaul_ETA_AM_PM);
    PARAMETER(PAR.OHE_Load_Haul_Type);
    PARAMETER(DB1.OHE_Backhaul_Carrier_Code);
    PARAMETER(DB1.OHE_Bookings_Confirmed);
    PARAMETER(DB1.OHE_EDI_Error_Reasons);
    PARAMETER(DB1.OHE_EDI_Error_Reasons_2);
    PARAMETER(DB1.HPB_COA_Batch_Number);
    PARAMETER(DB1.Delivery_P_O_Number);
    PARAMETER(DB1.OHE_Intended_for_ExportCC);
    PARAMETER(DB1.OHE_EDI_943_Action);
    PARAMETER(DB1.OHE_EDI_944_Action);
    PARAMETER(DB1.OHE_EDI_940_Action);
    PARAMETER(DB1.OHE_EDI_945_Action);
    PARAMETER(DB1.OHE_EDI_856_Action);
    PARAMETER(DB1.OHE_EDI_824_Action);
    PARAMETER(DB1.OHE_Transload_Seal_Nbr);
    PARAMETER(DB1.OHE_Abs_Rate_Override_Rsn);
    PARAMETER(DB1.OHE_Appt_Confirmation_#);
    PARAMETER(DB1.OHE_Backhaul_Container#);
    PARAMETER(DB1.OHE_Backhaul_Chassis_#);
    PARAMETER(DB1.OHE_Transload_Container#);
    PARAMETER(DB1.OHE_Pier_Pass_Invoice);
    PARAMETER(DB1.OHE_Carrier_Nm);
    PARAMETER(DB1.OHE_Appt_Confirmation_Nm);
    PARAMETER(DB1.OHE_Backhaul_Comment);
    PARAMETER(DB1.Letter_of_Credit_Number);
    PARAMETER(DB1.OHE_Backhaul_Return_to_Co);
    PARAMETER(DB1.LD_Stop_Drop);
    PARAMETER(DB1.OHE_Unused_Number_3_0);
    PARAMETER(DB1.OHE_Pier_Pass_Fee_Amount);
    PARAMETER(DB1.OHE_Port_Check_Fee_Amount);
    PARAMETER(DB1.OHE_Port_Cut_Time);
    PARAMETER(DB1.OHE_Backhaul_Truck_Number);
    PARAMETER(DB1.OHE_Load_Sched_Seq_Num);
    PARAMETER(DB1.Original_Appointment_Date);
    PARAMETER(DB1.Original_Appointment_Time);
    PARAMETER(DB1.OHE_PowerPro_Load#_Outbnd);
    PARAMETER(DB1.OHE_PowerPro_Load#_Bckhl);
    PARAMETER(DB1.OHE_Unused_Numeric_9_0_3);
    PARAMETER(DB1.OHE_Orig_ABS_Freight_Rate);
    PARAMETER(DB1.OHE_Genset_Number);
    PARAMETER(DB1.OHE_Email_BOL_Sent);
    PARAMETER(DB1.OHE_EDI_Order_Automated);
    PARAMETER(DB1.OHE_EDI_601_Action);
    PARAMETER(DB1.OHE_Unused_Status_4);
    PARAMETER(DB1.OHE_Unused_Text_1);
    PARAMETER(DB1.OHE_Unused_Text_2);
    PARAMETER(DB1.OHE_Customer_Vendor_f_PO);
    PARAMETER(DB1.OHE_EDI_824_AES_ITN_#);
    PARAMETER(DB1.OHE_Unused_Text_5);
    PARAMETER(DB1.OHE_Unused_Date_1);
    PARAMETER(DB1.OHE_Unused_Date_2);
    PARAMETER(DB1.EDI_Status_1);
    PARAMETER(DB1.EDI_Status_2);
    PARAMETER(DB1.EDI_Status_3);
    PARAMETER(DB1.Record_Status);
    PARAMETER(DB1.Job_Time);
    PARAMETER(DB1.User_Id);
    PARAMETER(DB1.Job_Name);
    PARAMETER(DB1.Job_Date);
    {
     //?USER: Processing if Data record not found

     // PGM.*Return code = CND.*Normal
     PGM.*Return_code = *BLANK;

     //?USER: Processing before Data update

     // DB1.Job Time = JOB.*Job time
     DB1.Job_Time = JOB.*Job_time;

     // DB1.Job Date = JOB.*Job date
     DB1.Job_Date = JOB.*Job_date;

     // DB1.Job Name = JOB.*PROGRAM
     DB1.Job_Name = JOB.*PROGRAM;

     // DB1.User Id = JOB.*USER
     DB1.User_Id = JOB.*USER;

    }

   }

   ENDIF;

   ENDIF;

  }

  // PAR.Record Created        USR = CND.Yes
  PAR.Record_Created_USR = 'Y';

  EXECUTE FUNCTION(Change TMS Load Event) TYPE(CHGOBJ) FILE(PBCSCPP)              AC2123078;
  PARAMETER(DB1.TMS_Load_ID);
  PARAMETER(DB1.TMS_Extract_Date);
  PARAMETER(DB1.TMS_Extract_Time);
  PARAMETER(DB1.TMS_Extract_File_Name);
  PARAMETER(DB1.TMS_Event_Sequence);
  PARAMETER(DB1.TMS_Event_Type);
  PARAMETER(DB1.TMS_Earliest_Date);
  PARAMETER(DB1.TMS_Earliest_Time);
  PARAMETER(DB1.TMS_Latest_Date);
  PARAMETER(DB1.TMS_Latest_Time);
  PARAMETER(DB1.TMS_Planned_Date);
  PARAMETER(DB1.TMS_Planned_Time);
  PARAMETER(DB1.TMS_Actual_Date);
  PARAMETER(DB1.TMS_Actual_Time);
  PARAMETER(DB1.TMS_Address_Type);
  PARAMETER(DB1.TMS_Location_Code);
  PARAMETER(DB1.TMS_Address_Name);
  PARAMETER(DB1.TMS_Address_Line_1);
  PARAMETER(DB1.TMS_Address_Line_2);
  PARAMETER(DB1.TMS_City);
  PARAMETER(DB1.TMS_State_Province);
  PARAMETER(DB1.TMS_Postal_Code);
  PARAMETER(DB1.TMS_Country_Code);
  PARAMETER(DB1.TMS_Weight);
  PARAMETER(DB1.TMS_Weight_UOM);
  PARAMETER(DB1.TMS_Appointment_Date);
  PARAMETER(DB1.TMS_Appointment_Time);
  PARAMETER(DB1.TMS_Actual_Car_Arrival_Dt);
  PARAMETER(DB1.TMS_Actual_Car_Arrival_Tm);
  PARAMETER(DB1.TMS_Late_Reason_Code);
  PARAMETER(DB1.TMS_Cust_Assigned_Appt_#);
  PARAMETER(DB1.TMS_Record_Status);
  PARAMETER(1);
  PARAMETER(DB1.TMS_Error_Reason);
  PARAMETER(DB1.TMS_Change_Date);
  PARAMETER(DB1.TMS_Change_time);
  ENDIF;

 }

 CASE;

 // IF LCL.Record Created        USR is Yes
 IF LCL.Record_Created_USR = 'Y';

 EXECUTE FUNCTION(Crt TMS Intl          CR) TYPE(CRTOBJ) FILE(PBCWCPP)           AC2123287;
 PARAMETER(PAR.TMS_Load_ID);
 PARAMETER(PAR.TMS_Extract_Date);
 PARAMETER(PAR.TMS_Extract_Time);
 PARAMETER(PAR.TMS_Extract_File_Name);
 PARAMETER(PAR.TMS_Customer_Load_ID);
 PARAMETER(PAR.TMS_Temperature);
 PARAMETER(PAR.TMS_Temperature_UOM);
 PARAMETER(PAR.TMS_Movement_Type);
 PARAMETER(PAR.TMS_Shipment_Type);
 PARAMETER(PAR.TMS_Payment_Method);
 PARAMETER(PAR.TMS_POD_Received);
 PARAMETER(PAR.TMS_Load_Status);
 PARAMETER(PAR.TMS_Load_Owner);
 PARAMETER(PAR.TMS_Carrier_SCAC);
 PARAMETER(PAR.TMS_Carrier_Mode);
 PARAMETER(PAR.TMS_Carrier_Distance);
 PARAMETER(PAR.TMS_Deadline_Depart_Date);
 PARAMETER(PAR.TMS_Deadline_Depart_Time);
 PARAMETER(PAR.TMS_Trailer_Number);
 PARAMETER(PAR.TMS_Container_Number);
 PARAMETER(PAR.TMS_Move_Type);
 PARAMETER(PAR.TMS_Vessel_Name);
 PARAMETER(PAR.TMS_Voyage_Number);
 PARAMETER(PAR.TMS_Booking_Number);
 PARAMETER(PAR.TMS_OTR_Destination_Name);
 PARAMETER(PAR.TMS_OTR_Destination_Addr1);
 PARAMETER(PAR.TMS_OTR_Destination_Addr2);
 PARAMETER(PAR.TMS_OTR_Destination_City);
 PARAMETER(PAR.TMS_OTR_Destination_State);
 PARAMETER(PAR.TMS_OTR_Destination_Zip);
 PARAMETER(PAR.TMS_OTR_Destination_Cntry);
 PARAMETER(PAR.TMS_Vessel_ETD_Date);
 PARAMETER(PAR.TMS_Vessel_ETA_Date);
 PARAMETER(PAR.TMS_Record_Status);
 PARAMETER(PAR.TMS_Process_Status);
 PARAMETER(PAR.TMS_Error_Reason);
 PARAMETER(PAR.TMS_Change_Date);
 PARAMETER(PAR.TMS_Change_time);
 ENDIF;

 //?USER: Process Data record

 EXECUTE FUNCTION(Chg TMS Intl          CH) TYPE(CHGOBJ) FILE(PBCWCPP)           AC2123288;
 PARAMETER(DB1.TMS_Load_ID);
 PARAMETER(PAR.TMS_Extract_Date);
 PARAMETER(PAR.TMS_Extract_Time);
 PARAMETER(DB1.TMS_Extract_File_Name);
 PARAMETER(PAR.TMS_Customer_Load_ID);
 PARAMETER(PAR.TMS_Temperature);
 PARAMETER(PAR.TMS_Temperature_UOM);
 PARAMETER(PAR.TMS_Movement_Type);
 PARAMETER(PAR.TMS_Shipment_Type);
 PARAMETER(PAR.TMS_Payment_Method);
 PARAMETER(PAR.TMS_POD_Received);
 PARAMETER(PAR.TMS_Load_Status);
 PARAMETER(PAR.TMS_Load_Owner);
 PARAMETER(PAR.TMS_Carrier_SCAC);
 PARAMETER(PAR.TMS_Carrier_Mode);
 PARAMETER(PAR.TMS_Carrier_Distance);
 PARAMETER(PAR.TMS_Deadline_Depart_Date);
 PARAMETER(PAR.TMS_Deadline_Depart_Time);
 PARAMETER(PAR.TMS_Trailer_Number);
 PARAMETER(PAR.TMS_Container_Number);
 PARAMETER(PAR.TMS_Move_Type);
 PARAMETER(PAR.TMS_Vessel_Name);
 PARAMETER(PAR.TMS_Voyage_Number);
 PARAMETER(PAR.TMS_Booking_Number);
 PARAMETER(PAR.TMS_OTR_Destination_Name);
 PARAMETER(PAR.TMS_OTR_Destination_Addr1);
 PARAMETER(PAR.TMS_OTR_Destination_Addr2);
 PARAMETER(PAR.TMS_OTR_Destination_City);
 PARAMETER(PAR.TMS_OTR_Destination_State);
 PARAMETER(PAR.TMS_OTR_Destination_Zip);
 PARAMETER(PAR.TMS_OTR_Destination_Cntry);
 PARAMETER(PAR.TMS_Vessel_ETD_Date);
 PARAMETER(PAR.TMS_Vessel_ETA_Date);
 PARAMETER(PAR.TMS_Record_Status);
 PARAMETER(PAR.TMS_Process_Status);
 PARAMETER(PAR.TMS_Error_Reason);
 PARAMETER(PAR.TMS_Change_Date);
 PARAMETER(PAR.TMS_Change_time);
 EXECUTE FUNCTION(Rtv Crt Intl Legs     RT) TYPE(RTVOBJ) FILE(PBCSCPP)           AC2123372;
 PARAMETER(DB1.TMS_Load_ID);
 PARAMETER(DB1.TMS_Extract_Date);
 PARAMETER(DB1.TMS_Extract_Time);
 PARAMETER(DB1.TMS_Extract_File_Name);
 PARAMETER(LCL.Record_Created_USR);
 PARAMETER(DB1.TMS_Carrier_SCAC);
 PARAMETER(DB1.TMS_Carrier_Mode);
 PARAMETER(DB1.TMS_Container_Number);
 PARAMETER(DB1.TMS_Vessel_Name);
 PARAMETER(DB1.TMS_Voyage_Number);
 PARAMETER(DB1.TMS_Booking_Number);
 PARAMETER(DB1.TMS_OTR_Destination_Name);
 PARAMETER(DB1.TMS_OTR_Destination_City);
 PARAMETER(DB1.TMS_Vessel_ETD_Date);
 PARAMETER(DB1.TMS_Vessel_ETA_Date);
 {
  //?USER: Initialize routine

  // PAR.Record Created        USR = CND.No
  PAR.Record_Created_USR = 'N';

  //?USER: Process Data record

  //?Create intl shipment for each order in the event sequence
  CASE;

  // IF DB1.TMS Address Type is Warehouse
  IF DB1.TMS_Address_Type = 'WAREHOUSE';

  // IF *OTHERWISE
  IF *OTHERWISE;

  EXECUTE FUNCTION(Rtv Crt Intl Leg Shpm RT) TYPE(RTVOBJ) FILE(PBCUCPP)           AC2123376;
  PARAMETER(DB1.TMS_Load_ID);
  PARAMETER(DB1.TMS_Extract_Date);
  PARAMETER(DB1.TMS_Extract_Time);
  PARAMETER(DB1.TMS_Extract_File_Name);
  PARAMETER(DB1.TMS_Event_Sequence);
  PARAMETER(DB1.TMS_Event_Type);
  PARAMETER(DB1.TMS_Earliest_Date);
  PARAMETER(DB1.TMS_Earliest_Time);
  PARAMETER(DB1.TMS_Latest_Date);
  PARAMETER(DB1.TMS_Latest_Time);
  PARAMETER(DB1.TMS_Planned_Date);
  PARAMETER(DB1.TMS_Planned_Time);
  PARAMETER(DB1.TMS_Actual_Date);
  PARAMETER(DB1.TMS_Actual_Time);
  PARAMETER(DB1.TMS_Address_Type);
  PARAMETER(DB1.TMS_Location_Code);
  PARAMETER(DB1.TMS_Address_Name);
  PARAMETER(DB1.TMS_Address_Line_1);
  PARAMETER(DB1.TMS_Address_Line_2);
  PARAMETER(DB1.TMS_City);
  PARAMETER(DB1.TMS_State_Province);
  PARAMETER(DB1.TMS_Postal_Code);
  PARAMETER(DB1.TMS_Country_Code);
  PARAMETER(DB1.TMS_Weight);
  PARAMETER(DB1.TMS_Weight_UOM);
  PARAMETER(DB1.TMS_Appointment_Date);
  PARAMETER(DB1.TMS_Appointment_Time);
  PARAMETER(DB1.TMS_Record_Status);
  PARAMETER(DB1.TMS_Process_Status);
  PARAMETER(DB1.TMS_Error_Reason);
  PARAMETER(DB1.TMS_Change_Date);
  PARAMETER(DB1.TMS_Change_time);
  PARAMETER(PAR.TMS_Carrier_SCAC);
  PARAMETER(PAR.TMS_Carrier_Mode);
  PARAMETER(PAR.TMS_Container_Number);
  PARAMETER(PAR.TMS_Vessel_Name);
  PARAMETER(PAR.TMS_Voyage_Number);
  PARAMETER(PAR.TMS_Booking_Number);
  PARAMETER(PAR.TMS_OTR_Destination_Name);
  PARAMETER(PAR.TMS_OTR_Destination_City);
  PARAMETER(PAR.TMS_Vessel_ETD_Date);
  PARAMETER(PAR.TMS_Vessel_ETA_Date);
  {
   //?USER: Initialize routine

   // LCL.Order Number Saved USR = CON.*ZERO
   LCL.Order_Number_Saved_USR = *ZERO;

   //?USER: Process Data record

   EXECUTE FUNCTION(Crt TMS Intl          CR) TYPE(CRTOBJ) FILE(PBCXCPP)           AC2123290;
   PARAMETER(DB1.TMS_Load_ID);
   PARAMETER(DB1.TMS_Extract_Date);
   PARAMETER(DB1.TMS_Extract_Time);
   PARAMETER(DB1.TMS_Extract_File_Name);
   PARAMETER(DB1.TMS_Event_Sequence);
   PARAMETER(DB1.TMS_Order_ID);
   PARAMETER(PAR.TMS_Event_Type);
   PARAMETER(PAR.TMS_Earliest_Date);
   PARAMETER(PAR.TMS_Earliest_Time);
   PARAMETER(PAR.TMS_Latest_Date);
   PARAMETER(PAR.TMS_Latest_Time);
   PARAMETER(PAR.TMS_Planned_Date);
   PARAMETER(PAR.TMS_Planned_Time);
   PARAMETER(PAR.TMS_Actual_Date);
   PARAMETER(PAR.TMS_Actual_Time);
   PARAMETER(PAR.TMS_Address_Type);
   PARAMETER(PAR.TMS_Location_Code);
   PARAMETER(PAR.TMS_Address_Name);
   PARAMETER(PAR.TMS_Address_Line_1);
   PARAMETER(PAR.TMS_Address_Line_2);
   PARAMETER(PAR.TMS_City);
   PARAMETER(PAR.TMS_State_Province);
   PARAMETER(PAR.TMS_Postal_Code);
   PARAMETER(PAR.TMS_Country_Code);
   PARAMETER(PAR.TMS_Weight);
   PARAMETER(PAR.TMS_Weight_UOM);
   PARAMETER(DB1.TMS_Miles_from_Org_to_Dst);
   PARAMETER(PAR.TMS_Appointment_Date);
   PARAMETER(PAR.TMS_Appointment_Time);
   PARAMETER(DB1.TMS_Record_Status);
   PARAMETER(DB1.TMS_Process_Status);
   PARAMETER(DB1.TMS_Error_Reason);
   PARAMETER(DB1.TMS_Change_Date);
   PARAMETER(DB1.TMS_Change_time);
   EXECUTE FUNCTION(Change TMS Load Event Shi) TYPE(CHGOBJ) FILE(PBCUCPP)          AC2123089;
   PARAMETER(DB1.TMS_Load_ID);
   PARAMETER(DB1.TMS_Extract_Date);
   PARAMETER(DB1.TMS_Extract_Time);
   PARAMETER(DB1.TMS_Extract_File_Name);
   PARAMETER(DB1.TMS_Event_Sequence);
   PARAMETER(DB1.TMS_Order_ID);
   PARAMETER(DB1.TMS_Miles_from_Org_to_Dst);
   PARAMETER(DB1.TMS_Record_Status);
   PARAMETER(1);
   PARAMETER(DB1.TMS_Error_Reason);
   PARAMETER(DB1.TMS_Change_Date);
   PARAMETER(DB1.TMS_Change_time);
   {
    //?USER: Processing before Data update

    EXECUTE FUNCTION(Set TMS Record Stampp IF) TYPE(EXCINTFUN)                      AC2123222;
    PARAMETER(DB1.TMS_Record_Status);
    PARAMETER(DB1.TMS_Change_Date);
    PARAMETER(DB1.TMS_Change_time);
    {
     //?Execute internal function

     // PAR.TMS Change time = JOB.*Job time
     PAR.TMS_Change_time = JOB.*Job_time;

     // PAR.TMS Change Date = JOB.*Job date
     PAR.TMS_Change_Date = JOB.*Job_date;

    }

   }

   //?Update OHE from Load where Carrier Mode=OCEAN with the vessel,voyage#,...
   CASE;

   // IF PAR.TMS Carrier Mode is Ocean
   IF PAR.TMS_Carrier_Mode = 'OCEAN';

   CASE;

   // IF DB1.TMS Order ID is entered
   IF DB1.TMS_Order_ID <> *ZERO;

   // AND DB1.TMS Order ID NE LCL.Order Number Saved USR
   AND DB1.TMS_Order_ID <> LCL.Order_Number_Saved_USR;

   // LCL.Order Number Saved USR = DB1.TMS Order ID
   LCL.Order_Number_Saved_USR = DB1.TMS_Order_ID;

   //?Order header Ext updates
   //?07/24/19 DN R15161-Set OHE Voyage/Flight.
   CASE;

   // IF *OTHERWISE
   IF *OTHERWISE;

   //?OHE Voyage/Flight field type was changed from NBR (5) to TXT (15).
   //?No longer need to check if value is numeric.
   // LCL.OHE Voyage/Flight = PAR.TMS Voyage Number
   LCL.OHE_Voyage_Flight = PAR.TMS_Voyage_Number;

   ENDIF;

   // Call program CVT *YYMD to *CYMD    XF.
   CALL PROGRAM(CVT *YYMD to *CYMD    XF) ('PDGYXFR');
   PARAMETER(LCL.OHE_Sail_Flight_Date);
   PARAMETER(PAR.TMS_Vessel_ETD_Date);

   // Call program CVT *YYMD to *CYMD    XF.
   CALL PROGRAM(CVT *YYMD to *CYMD    XF) ('PDGYXFR');
   PARAMETER(LCL.OHE_Arrival_Date);
   PARAMETER(PAR.TMS_Vessel_ETA_Date);

   EXECUTE FUNCTION(RTV Company for Ord   RT) TYPE(RTVOBJ) FILE(OPBFCPP)           AC2074443;
   PARAMETER(LCL.Company_Number);
   PARAMETER(DB1.TMS_Order_ID);
   {
    //?USER: Process Data record

    MOVE *ALL (To: PAR From: DB1);

   }

   //?(dont upd load or stop/drop)
   //?07/24/19 DN R15161-Replaced PAR.Voyage with OHE Voyage/Flight &
   //?  PAR.Booking Number with OHE Booking Number.
   EXECUTE FUNCTION(RTV Chg TMS Load Fld2 RT) TYPE(RTVOBJ) FILE(PMAMREP)           AC2124695;
   PARAMETER(LCL.Company_Number);
   PARAMETER(DB1.TMS_Order_ID);
   PARAMETER(PAR.TMS_OTR_Destination_City);
   PARAMETER(LCL.OHE_Voyage_Flight);
   PARAMETER(PAR.TMS_Booking_Number);
   PARAMETER(PAR.TMS_Container_Number);
   PARAMETER(PAR.TMS_Carrier_SCAC);
   PARAMETER(PAR.TMS_OTR_Destination_Name);
   PARAMETER(PAR.TMS_Vessel_Name);
   PARAMETER(LCL.OHE_Sail_Flight_Date);
   PARAMETER(*BLANK);
   PARAMETER(PAR.TMS_Container_Number);
   PARAMETER('O');
   PARAMETER(PAR.TMS_OTR_Destination_City);
   PARAMETER(LCL.OHE_Load_Haul_Type);
   PARAMETER(LCL.OHE_Arrival_Date);
   {
    //?USER: Processing if Data record not found

    //?better be here already
    //?USER: Process Data record

    EXECUTE FUNCTION(CHG Existing OHE       CH) TYPE(CHGOBJ) FILE(PMAMREP)          AC1816935;
    PARAMETER(DB1.Company_Number);
    PARAMETER(DB1.Order_Number);
    PARAMETER(DB1.Load_ID);
    PARAMETER(DB1.Stop_Drop_Sequence_Number);
    PARAMETER(PAR.Shipping_Line);
    PARAMETER(PAR.Port_Delv_Terminal);
    PARAMETER(PAR.USR_City_25);
    PARAMETER(PAR.Vessel_Name);
    PARAMETER(PAR.OHE_Voyage_Flight);
    PARAMETER(PAR.OHE_Booking_Number);
    PARAMETER(PAR.Discharge_Port);
    PARAMETER(PAR.Sail_Date);
    PARAMETER(DB1.OHE_Port_Cut_Date);
    PARAMETER(PAR.OHE_Arrival_Date);
    PARAMETER(DB1.OHE_Late_Delivery_Code);
    PARAMETER(PAR.Ship_Status);
    PARAMETER(PAR.OHE_Container_Number);
    PARAMETER(DB1.OHE_Comment_1);
    PARAMETER(DB1.OHE_Comment_2);
    PARAMETER(DB1.OHE_Unused_Number_1_11_0);
    PARAMETER(DB1.OHE_Unused_Number_2_11_0);
    PARAMETER(DB1.OHE_Unused_Number_3_11_0);
    PARAMETER(DB1.OHE_Unused_Number_4_11_0);
    PARAMETER(DB1.OHE_HPB_RIN_Equiv_Value);
    PARAMETER(DB1.OHE_HPB_RIN_Price);
    PARAMETER(DB1.Transload_Terminal_Fees);
    PARAMETER(DB1.OHE_Est_Arrv_at_Dest_Date);
    PARAMETER(DB1.OHE_Backhaul_ETA_RtrnDate);
    PARAMETER(DB1.OHE_Port_Pier_Paid_Date);
    PARAMETER(DB1.OHE_Actual_Ship_Date);
    PARAMETER(DB1.OHE_Carrier_SCAC_Code);
    PARAMETER(DB1.OHE_Spot_Buy);
    PARAMETER(DB1.OHE_PO_ACK_Flag);
    PARAMETER(DB1.OHE_Override_Type_Code);
    PARAMETER(DB1.OHE_Backhaul_Status);
    PARAMETER(DB1.OHE_Backhaul_ETA_AM_PM);
    PARAMETER(PAR.OHE_Load_Haul_Type);
    PARAMETER(DB1.OHE_Backhaul_Carrier_Code);
    PARAMETER(DB1.OHE_Bookings_Confirmed);
    PARAMETER(DB1.OHE_EDI_Error_Reasons);
    PARAMETER(DB1.OHE_EDI_Error_Reasons_2);
    PARAMETER(DB1.HPB_COA_Batch_Number);
    PARAMETER(DB1.Delivery_P_O_Number);
    PARAMETER(DB1.OHE_Intended_for_ExportCC);
    PARAMETER(DB1.OHE_EDI_943_Action);
    PARAMETER(DB1.OHE_EDI_944_Action);
    PARAMETER(DB1.OHE_EDI_940_Action);
    PARAMETER(DB1.OHE_EDI_945_Action);
    PARAMETER(DB1.OHE_EDI_856_Action);
    PARAMETER(DB1.OHE_EDI_824_Action);
    PARAMETER(DB1.OHE_Transload_Seal_Nbr);
    PARAMETER(DB1.OHE_Abs_Rate_Override_Rsn);
    PARAMETER(DB1.OHE_Appt_Confirmation_#);
    PARAMETER(DB1.OHE_Backhaul_Container#);
    PARAMETER(DB1.OHE_Backhaul_Chassis_#);
    PARAMETER(DB1.OHE_Transload_Container#);
    PARAMETER(DB1.OHE_Pier_Pass_Invoice);
    PARAMETER(DB1.OHE_Carrier_Nm);
    PARAMETER(DB1.OHE_Appt_Confirmation_Nm);
    PARAMETER(DB1.OHE_Backhaul_Comment);
    PARAMETER(DB1.Letter_of_Credit_Number);
    PARAMETER(DB1.OHE_Backhaul_Return_to_Co);
    PARAMETER(DB1.LD_Stop_Drop);
    PARAMETER(DB1.OHE_Unused_Number_3_0);
    PARAMETER(DB1.OHE_Pier_Pass_Fee_Amount);
    PARAMETER(DB1.OHE_Port_Check_Fee_Amount);
    PARAMETER(DB1.OHE_Port_Cut_Time);
    PARAMETER(DB1.OHE_Backhaul_Truck_Number);
    PARAMETER(DB1.OHE_Load_Sched_Seq_Num);
    PARAMETER(DB1.Original_Appointment_Date);
    PARAMETER(DB1.Original_Appointment_Time);
    PARAMETER(DB1.OHE_PowerPro_Load#_Outbnd);
    PARAMETER(DB1.OHE_PowerPro_Load#_Bckhl);
    PARAMETER(DB1.OHE_Unused_Numeric_9_0_3);
    PARAMETER(DB1.OHE_Orig_ABS_Freight_Rate);
    PARAMETER(DB1.OHE_Genset_Number);
    PARAMETER(DB1.OHE_Email_BOL_Sent);
    PARAMETER(DB1.OHE_EDI_Order_Automated);
    PARAMETER(DB1.OHE_EDI_601_Action);
    PARAMETER(DB1.OHE_Unused_Status_4);
    PARAMETER(DB1.OHE_Unused_Text_1);
    PARAMETER(DB1.OHE_Unused_Text_2);
    PARAMETER(DB1.OHE_Customer_Vendor_f_PO);
    PARAMETER(DB1.OHE_EDI_824_AES_ITN_#);
    PARAMETER(DB1.OHE_Unused_Text_5);
    PARAMETER(DB1.OHE_Unused_Date_1);
    PARAMETER(DB1.OHE_Unused_Date_2);
    PARAMETER(DB1.EDI_Status_1);
    PARAMETER(DB1.EDI_Status_2);
    PARAMETER(DB1.EDI_Status_3);
    PARAMETER(DB1.Record_Status);
    PARAMETER(DB1.Job_Time);
    PARAMETER(DB1.User_Id);
    PARAMETER(DB1.Job_Name);
    PARAMETER(DB1.Job_Date);
    {
     //?USER: Processing if Data record not found

     // PGM.*Return code = CND.*Normal
     PGM.*Return_code = *BLANK;

     //?USER: Processing before Data update

     // DB1.Job Time = JOB.*Job time
     DB1.Job_Time = JOB.*Job_time;

     // DB1.Job Date = JOB.*Job date
     DB1.Job_Date = JOB.*Job_date;

     // DB1.Job Name = JOB.*PROGRAM
     DB1.Job_Name = JOB.*PROGRAM;

     // DB1.User Id = JOB.*USER
     DB1.User_Id = JOB.*USER;

    }

   }

   ENDIF;

   ENDIF;

  }

  // PAR.Record Created        USR = CND.Yes
  PAR.Record_Created_USR = 'Y';

  EXECUTE FUNCTION(Change TMS Load Event) TYPE(CHGOBJ) FILE(PBCSCPP)              AC2123078;
  PARAMETER(DB1.TMS_Load_ID);
  PARAMETER(DB1.TMS_Extract_Date);
  PARAMETER(DB1.TMS_Extract_Time);
  PARAMETER(DB1.TMS_Extract_File_Name);
  PARAMETER(DB1.TMS_Event_Sequence);
  PARAMETER(DB1.TMS_Event_Type);
  PARAMETER(DB1.TMS_Earliest_Date);
  PARAMETER(DB1.TMS_Earliest_Time);
  PARAMETER(DB1.TMS_Latest_Date);
  PARAMETER(DB1.TMS_Latest_Time);
  PARAMETER(DB1.TMS_Planned_Date);
  PARAMETER(DB1.TMS_Planned_Time);
  PARAMETER(DB1.TMS_Actual_Date);
  PARAMETER(DB1.TMS_Actual_Time);
  PARAMETER(DB1.TMS_Address_Type);
  PARAMETER(DB1.TMS_Location_Code);
  PARAMETER(DB1.TMS_Address_Name);
  PARAMETER(DB1.TMS_Address_Line_1);
  PARAMETER(DB1.TMS_Address_Line_2);
  PARAMETER(DB1.TMS_City);
  PARAMETER(DB1.TMS_State_Province);
  PARAMETER(DB1.TMS_Postal_Code);
  PARAMETER(DB1.TMS_Country_Code);
  PARAMETER(DB1.TMS_Weight);
  PARAMETER(DB1.TMS_Weight_UOM);
  PARAMETER(DB1.TMS_Appointment_Date);
  PARAMETER(DB1.TMS_Appointment_Time);
  PARAMETER(DB1.TMS_Actual_Car_Arrival_Dt);
  PARAMETER(DB1.TMS_Actual_Car_Arrival_Tm);
  PARAMETER(DB1.TMS_Late_Reason_Code);
  PARAMETER(DB1.TMS_Cust_Assigned_Appt_#);
  PARAMETER(DB1.TMS_Record_Status);
  PARAMETER(1);
  PARAMETER(DB1.TMS_Error_Reason);
  PARAMETER(DB1.TMS_Change_Date);
  PARAMETER(DB1.TMS_Change_time);
  ENDIF;

 }

}


