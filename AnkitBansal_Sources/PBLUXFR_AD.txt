// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBLUXFR
// ?Date: 14.08.2025 Time: 03:48:28
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?E3013 RMC 2/14/14 new for fresh to freezer item table
EXECUTE FUNCTION(RTV Chg Sold% FZ      RT) TYPE(RTVOBJ) FILE(PBA2REP)           AC2084089;
PARAMETER(PAR.Item_Code);
PARAMETER(PAR.Sold_100_Percent_Frozen);
{
 //?USER: Process Data record

 CASE;

 // IF PAR.Sold 100% Frozen NE DB1.Key Sold 100% Frozen
 IF PAR.Sold_100_Percent_Frozen <> DB1.Key_Sold_100_Pct_Frozen;

 EXECUTE FUNCTION(Chg Item Default Ext  CH) TYPE(CHGOBJ) FILE(PBA2REP)           AC2067024;
 PARAMETER(DB1.Item_Code);
 PARAMETER(PAR.Sold_100_Percent_Frozen);
 PARAMETER(DB1.Frozen_Item_Code);
 PARAMETER(DB1.Frozen_Sold_100_Pct_Froze);
 PARAMETER(DB1.IG_GTIN);
 PARAMETER(DB1.Rework_Required_Sts);
 PARAMETER(DB1.IG_Unused_1_sts_2);
 PARAMETER(DB1.IG_Unused_2_sts_3);
 PARAMETER(DB1.IG_Unused_2_sts_4);
 PARAMETER(DB1.IG_Unused_3_sts_5);
 PARAMETER(DB1.IG_Unused_3_sts_6);
 PARAMETER(DB1.IG_unused_text);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Create_Date);
 PARAMETER(DB1.Create_Time);
 PARAMETER(DB1.Create_User);
 PARAMETER(DB1.Create_Program);
 PARAMETER(DB1.Change_Date);
 PARAMETER(DB1.Change_Time);
 PARAMETER(DB1.Change_User);
 PARAMETER(DB1.Change_Program);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Chg Date/Time      IF) TYPE(EXCINTFUN)                     AC1523476;
  PARAMETER(DB1.Change_Date);
  PARAMETER(DB1.Change_Time);
  PARAMETER(DB1.Change_User);
  PARAMETER(DB1.Change_Program);
  {
   //?Execute internal function

   // PAR.Change Date = JOB.*Job date
   PAR.Change_Date = JOB.*Job_date;

   // PAR.Change Time = JOB.*Job time
   PAR.Change_Time = JOB.*Job_time;

   // PAR.Change User = JOB.*USER
   PAR.Change_User = JOB.*USER;

   // PAR.Change Program = JOB.*PROGRAM
   PAR.Change_Program = JOB.*PROGRAM;

  }

  //?USER: Processing after Data update

  // Call program Snd One Fr Fz Product XF.
  CALL PROGRAM(Snd One Fr Fz Product XF) ('PBNEXFR');
  PARAMETER(DB1.Item_Code);
  PARAMETER('C');

 }

 ENDIF;

}


EXECUTE FUNCTION(RTV Chg FZ 100% FZ    RT) TYPE(RTVOBJ) FILE(PBA2REP)           AC2084101;
PARAMETER(PAR.Item_Code);
PARAMETER(PAR.Sold_100_Percent_Frozen);
{
 //?USER: Process Data record

 CASE;

 // IF PAR.Sold 100% Frozen NE DB1.Frozen Sold 100% Frozen
 IF PAR.Sold_100_Percent_Frozen <> DB1.Frozen_Sold_100_Pct_Froze;

 EXECUTE FUNCTION(Chg Item Default Ext  CH) TYPE(CHGOBJ) FILE(PBA2REP)           AC2067024;
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Key_Sold_100_Pct_Frozen);
 PARAMETER(DB1.Frozen_Item_Code);
 PARAMETER(PAR.Sold_100_Percent_Frozen);
 PARAMETER(DB1.IG_GTIN);
 PARAMETER(DB1.Rework_Required_Sts);
 PARAMETER(DB1.IG_Unused_1_sts_2);
 PARAMETER(DB1.IG_Unused_2_sts_3);
 PARAMETER(DB1.IG_Unused_2_sts_4);
 PARAMETER(DB1.IG_Unused_3_sts_5);
 PARAMETER(DB1.IG_Unused_3_sts_6);
 PARAMETER(DB1.IG_unused_text);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Create_Date);
 PARAMETER(DB1.Create_Time);
 PARAMETER(DB1.Create_User);
 PARAMETER(DB1.Create_Program);
 PARAMETER(DB1.Change_Date);
 PARAMETER(DB1.Change_Time);
 PARAMETER(DB1.Change_User);
 PARAMETER(DB1.Change_Program);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Chg Date/Time      IF) TYPE(EXCINTFUN)                     AC1523476;
  PARAMETER(DB1.Change_Date);
  PARAMETER(DB1.Change_Time);
  PARAMETER(DB1.Change_User);
  PARAMETER(DB1.Change_Program);
  {
   //?Execute internal function

   // PAR.Change Date = JOB.*Job date
   PAR.Change_Date = JOB.*Job_date;

   // PAR.Change Time = JOB.*Job time
   PAR.Change_Time = JOB.*Job_time;

   // PAR.Change User = JOB.*USER
   PAR.Change_User = JOB.*USER;

   // PAR.Change Program = JOB.*PROGRAM
   PAR.Change_Program = JOB.*PROGRAM;

  }

  //?USER: Processing after Data update

  // Call program Snd One Fr Fz Product XF.
  CALL PROGRAM(Snd One Fr Fz Product XF) ('PBNEXFR');
  PARAMETER(DB1.Item_Code);
  PARAMETER('C');

 }

 ENDIF;

}


