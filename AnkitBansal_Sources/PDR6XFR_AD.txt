// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDR6XFR
// ?Date: 14.08.2025 Time: 03:29:34
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(VAL Check for Reprint  RT) TYPE(RTVOBJ) FILE(PDITCPP)          AC1327802;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Order_Number);
PARAMETER(PAR.Order_Sequence_Number);
PARAMETER(PAR.Order_Secondary_Line_Seq);
PARAMETER(PAR.Sales_Route_Code);
PARAMETER(PAR.Error_Status);
PARAMETER(PAR.USR_Order_Sequence_Number);
PARAMETER(PAR.USR_Order_Secondary_Seq);
{
 //?USER: Initialize routine

 // PAR.Error Status = CND.no
 PAR.Error_Status = 'N';

 //?USER: Process Data record

 //?If you get to the same sales route code before hitting the current line,
 //?   it's a duplicate, and shouldn't be printed
 //?Found current order seq.
 CASE;

 // IF PAR.USR Order Sequence Number EQ DB1.Order Sequence Number
 IF PAR.USR_Order_Sequence_Number = DB1.Order_Sequence_Number;

 // AND PAR.USR Order Secondary Seq EQ DB1.Order Secondary Line Seq
 AND PAR.USR_Order_Secondary_Seq = DB1.Order_Secondary_Line_Seq;

 QUIT;

 ENDIF;

 //?Exceeded current order seq.
 CASE;

 // IF PAR.USR Order Sequence Number LT DB1.Order Sequence Number
 IF PAR.USR_Order_Sequence_Number < DB1.Order_Sequence_Number;

 // OR PAR.USR Order Sequence Number EQ DB1.Order Sequence Number
 OR ( PAR.USR_Order_Sequence_Number = DB1.Order_Sequence_Number;

 // AND PAR.USR Order Secondary Seq LT DB1.Order Secondary Line Seq
 AND PAR.USR_Order_Secondary_Seq < DB1.Order_Secondary_Line_Seq );

 QUIT;

 ENDIF;

 //?Found Duplicate
 CASE;

 // IF PAR.Sales Route Code EQ DB1.Sales Route Code
 IF PAR.Sales_Route_Code = DB1.Sales_Route_Code;

 // PAR.Error Status = CND.yes
 PAR.Error_Status = 'Y';

 QUIT;

 ENDIF;

}


