// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PMQGXFR
// ?Date: 14.08.2025 Time: 03:43:46
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV Itm Trns Dtl Purge RT) TYPE(RTVOBJ) FILE(CAB7CPP)          AC1858087;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(CRT Itm Trns Dtl Purge CR) TYPE(CRTOBJ) FILE(CAB7CPP)          AC1858077;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Inventory_Trans_ID);
 PARAMETER(DB1.Inventory_Trans_Type);
 PARAMETER(DB1.Transaction_Date_Code);
 PARAMETER(DB1.ITD_Sequence_Number);
 PARAMETER(DB1.Sequence_Number);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.UOM_Transaction);
 PARAMETER(DB1.Item_Transaction_Source);
 PARAMETER(DB1.Description);
 PARAMETER(DB1.Transaction_Quantity);
 PARAMETER(DB1.Transaction_Weight);
 PARAMETER(DB1.USR_Transaction_Unit_Cost);
 PARAMETER(DB1.UOM_Cost);
 PARAMETER(DB1.Extended_Amount);
 PARAMETER(DB1.Ticket_Number);
 PARAMETER(DB1.GL_Document_Number);
 PARAMETER(DB1.GL_Update_Status);
 PARAMETER(DB1.Reason_Code);
 PARAMETER(DB1.Reference_Number_Code);
 PARAMETER(DB1.Lot_ID);
 PARAMETER(DB1.Transfer_Batch_Number);
 PARAMETER(DB1.Transfer_Batch_Sequence);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Item_Structure_Class_Code);
 PARAMETER(DB1.Item_Structure_Group_Code);
 PARAMETER(DB1.Item_Structure_Type_Code);
 PARAMETER(DB1.Employee_Badge_Number);
 PARAMETER(DB1.Production_Time);
 PARAMETER(DB1.Shift_Number);
 PARAMETER(DB1.Label_Date);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 //?** Don't delete if write error or duplicate record error in save file
 CASE;

 // IF PGM.*Return code is *Data update error
 IF PGM.*Return_code = 'Y2U0004';

 // OR PGM.*Return code is Item Transaction Detai EX
 OR PGM.*Return_code = 'USR0345';

 //?** Don't delete if write error or duplicate record error in save file
 // IF *OTHERWISE
 IF *OTHERWISE;

 EXECUTE FUNCTION(DLT IC Trans. Detail   DL) TYPE(DLTOBJ) FILE(CAB7CPP)          AC1122300;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Inventory_Trans_ID);
 PARAMETER(DB1.Inventory_Trans_Type);
 PARAMETER(DB1.Transaction_Date_Code);
 PARAMETER(DB1.ITD_Sequence_Number);
 PARAMETER(DB1.Sequence_Number);
 ENDIF;

}


