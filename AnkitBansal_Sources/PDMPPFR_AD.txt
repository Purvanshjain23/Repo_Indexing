// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDMPPFR
// ?Date: 14.08.2025 Time: 12:04:07
// ?------------------------------------------------------------------------------------------------

//?USER: Print required level headings

// SUPPRESSED PRINT AS Product Code header format

// SUPPRESSED PRINT AS Warehouse ID Code header format

CASE;

IF NEW AS_Label_Date_6_0;
// Print AS Production Date 6.0 header format
PRINT AS Production Date 6.0 header format;

ENDIF;

//?USER: On print of detail format

// WRK.Item Code = CVTVAR(DB1.AS Product Code)
WRK.Item_Code = CVTVAR(DB1.AS_Product_Code);

// WRK.Production Date = CON.*ZERO
WRK.Production_Date = *ZERO;

// WRK.Production Date = CVTVAR(DB1.AS Production Date 6.0)
WRK.Production_Date = CVTVAR(DB1.AS_Label_Date_6_0);

EXECUTE FUNCTION(Rtv Quantity/Dollars   RT) TYPE(RTVOBJ) FILE(CAB0REP)          AC1163281;
PARAMETER(360);
PARAMETER(WRK.Item_Code);
PARAMETER(DB1.AS_Warehouse_ID_Code);
PARAMETER(CUR.Unit_Cost_Per_Pound);
PARAMETER(CUR.On_Hand_Weight_Summary);
PARAMETER(CUR.On_Hand_UOM1_Summary);
PARAMETER(WRK.On_Hand_UOM2_Summary);
PARAMETER(WRK.On_Hand_UOM3_Summary);
PARAMETER(CUR.Value_of_On_Hand_Inventor);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


EXECUTE FUNCTION(RTV OnHand Qty/Wgt/Val RT) TYPE(RTVOBJ) FILE(CAB1REP)          AC1415363;
PARAMETER(360);
PARAMETER(WRK.Item_Code);
PARAMETER(DB1.AS_Warehouse_ID_Code);
PARAMETER(WRK.Production_Date);
PARAMETER(CUR.Quantity_on_Hand_Weight);
PARAMETER(CUR.Quantity_on_Hand_UOM1);
PARAMETER(CUR.Value_of_On_Hand_Detail);
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


CASE;

// IF PGM.*Return code is *Normal
IF PGM.*Return_code = *BLANK;

// CUR.@AS Carriage Return = CON.*
CUR.@AS_Carriage_Return = *;

// IF *OTHERWISE
IF *OTHERWISE;

// CUR.@AS Carriage Return = CON.*BLANK
CUR.@AS_Carriage_Return = *BLANK;

ENDIF;

//?USER: Print required level totals

CASE;

IF NEW AS_Label_Date_6_0;
// Print AS Production Date 6.0 totals format
PRINT AS Production Date 6.0 totals format;

ENDIF;

// SUPPRESSED PRINT AS Warehouse ID Code totals format

CASE;

IF NEW AS_Product_Code;
// Print AS Product Code totals format
PRINT AS Product Code totals format;

ENDIF;

