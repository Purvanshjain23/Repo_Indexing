// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBQ1XFR
// ?Date: 14.08.2025 Time: 03:49:04
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV info for 1 CoCarr IF) TYPE(EXCINTFUN)                      AC2104431;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Carrier_Code);
PARAMETER(1);
PARAMETER(PAR.Printer_File);
PARAMETER(PAR.Subject_Line_USR);
{
 //?Execute internal function

 EXECUTE FUNCTION(RTV info for 1 CoCarr RT) TYPE(RTVOBJ) FILE(PLAAREP)           AC2104211;
 PARAMETER(PAR.Company_Number);
 PARAMETER(PAR.Carrier_Code);
 PARAMETER(PAR.CC_Sequence_Nbr);
 PARAMETER(PAR.Printer_File);
 PARAMETER(PAR.Subject_Line_USR);
 {
  //?USER: Processing if Data record not found

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

  //?USER: Process Data record

  // PGM.*Return code = CND.*Normal
  PGM.*Return_code = *BLANK;

  CASE;

  // IF DB1.CC Email Address is Entered
  IF DB1.CC_Email_Address <> *BLANK;

  // AND DB1.Company Number EQ PAR.Company Number
  AND DB1.Company_Number = PAR.Company_Number;

  // Call program Exc ESNDMAIL to Co CarrUP.
  CALL PROGRAM(Exc ESNDMAIL to Co CarrUP) ('PLAMUPC');
  PARAMETER(PAR.Printer_File);
  PARAMETER(PAR.Subject_Line_USR);
  PARAMETER(DB1.CC_Email_Address);

  ENDIF;

 }

}


