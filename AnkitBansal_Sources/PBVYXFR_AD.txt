// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBVYXFR
// ?Date: 14.08.2025 Time: 03:49:31
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?The purpose of this function is to perform a 1-time update to
//?sync the Sold To Sales Person with the Company Customers Sales
//?Route Code.
EXECUTE FUNCTION(Upd All CoCust Slsprs RT) TYPE(RTVOBJ) FILE(PBB6REP)           AC2118563;
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Rtv Sales Sold To     RT) TYPE(RTVOBJ) FILE(PBB5REP)           AC2116214;
 PARAMETER(DB1.Sales_Sold_To_Code);
 PARAMETER(NLL.Sales_Sold_To_Desc);
 PARAMETER(NLL.Sales_Sold_To_DP_Class);
 PARAMETER(*MISSING);
 PARAMETER(LCL.Sales_Sold_To_Salesperson);
 PARAMETER(NLL.Sales_Channel_Code);
 PARAMETER(NLL.SC_Market_Code);
 PARAMETER(NLL.Record_Status);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 EXECUTE FUNCTION(Upd SoldTo SalesRoute RT) TYPE(RTVOBJ) FILE(CAEOREP)           AC2118385;
 PARAMETER(DB1.Ship_To_Customer);
 PARAMETER(LCL.Sales_Sold_To_Salesperson);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Chg SoldTo SalesRoute CH) TYPE(CHGOBJ) FILE(CAEOREP)           AC2118406;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Ship_To_Customer);
  PARAMETER(PAR.Sales_Route_Code);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Record Stamp CHGOB IF) TYPE(EXCINTFUN)                     AC1283156;
   PARAMETER(DB1.Job_Time);
   PARAMETER(DB1.User_Id);
   PARAMETER(DB1.Job_Name);
   PARAMETER(DB1.Job_Date);
   {
    //?Execute internal function

    // PAR.Job Time = JOB.*Job time
    PAR.Job_Time = JOB.*Job_time;

    // PAR.User Id = JOB.*USER
    PAR.User_Id = JOB.*USER;

    // PAR.Job Name = JOB.*PROGRAM
    PAR.Job_Name = JOB.*PROGRAM;

    // PAR.Job Date = JOB.*Job date
    PAR.Job_Date = JOB.*Job_date;

   }

  }

 }

}


