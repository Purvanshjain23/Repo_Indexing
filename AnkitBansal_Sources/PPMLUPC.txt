/********************************************************************/
/*                                                                  */
/*  SYNOPSIS - CL PROGRAM FOR PRINTING CLAIM WITH EMAIL OPTION      */
/*                                                                  */
/*  SYSTEM    - OMS                                                 */
/*  DATE      - 04/07/05                                            */
/*                                                                  */
/*      PARAMETERS RECEIVED:                                        */
/*         &COMPNYN       -  PASSED COMPANY NUMBER                  */
/*         &CLAIMNO       -  PASSED CLAIM NUMBER                    */
/********************************************************************/
/* LJB 02/22/2008 E00094 - ADD PARM FOR TYPE OF CHANGE, PASS TO     */
/*     THE PRINT PROGRAM                                            */
/* LJB 03/03/2008 E00094 - ADD PARM FOR CONTROL PRINT-DON'T PRINT   */
/*     IF NEW CLAIM                                                 */
/* SLM 04/15/2008 CLAIM AUDIT BY NOTES                              */
/*                PRINT THE CLAIM WITH OUT INTERNAL NOTES           */
/*                OR SYSTEM NOTES                                   */
/* SLM 07/03/1014 SEND CLAIM ON 360 TO SUSAN MASON FOR TESTING      */
/* SLM 07/11/1014 SEND CLAIM ON 360 TO MARTY HAST                   */
/********************************************************************/
 START:      PGM        PARM(&CLAIMNO &COMPNYN &EMAIL1 &SUBJECT +
                          &EMCLMUSR &CLAUDSEL &CLAUDCOVAL +
                          &CLAUDEMAIL &CLPRTAUDIT &CLPRTINTNL +
                          &CLPRTTYPE)

             DCL        VAR(&CLAIMNO) TYPE(*CHAR) LEN(7)
             DCL        VAR(&COMPNYN) TYPE(*CHAR) LEN(3)
             DCL        VAR(&EMAIL1) TYPE(*CHAR) LEN(50)
             DCL        VAR(&EMAIL2) TYPE(*CHAR) LEN(50) +
                          VALUE('susan_mason@seaboardfoods.com')
             DCL        VAR(&EMAIL3) TYPE(*CHAR) LEN(50) +
                          VALUE('marty_hast@seaboardfoods.com')
             DCL        VAR(&SUBJECT) TYPE(*CHAR) LEN(50)

             DCL        VAR(&EMCLMUSR) TYPE(*CHAR) LEN(1)
             DCL        VAR(&CLAUDSEL) TYPE(*CHAR) LEN(1) /* AUDIT +
                          YES OR NO */
             DCL        VAR(&CLAUDCOVAL) TYPE(*CHAR) LEN(10) /* +
                          COMPANY VALUE DISTRO LIST CLMDIST */
             DCL        VAR(&CLAUDEMAIL) TYPE(*CHAR) LEN(50) /* +
                          Esend Distro list */

             DCL        VAR(&CLPRTAUDIT) TYPE(*CHAR) LEN(4)  /* +
                          Print Audit information */
             DCL        VAR(&CLPRTINTNL) TYPE(*CHAR) LEN(4) /* Print +
                          Internal Notes    */
             DCL        VAR(&CLPRTTYPE) TYPE(*CHAR) LEN(1) /* +
                          Regular Claim, Audit Claim, Internal claim */

             DCL        VAR(&CLAIM) TYPE(*DEC) LEN(7 0)
             DCL        VAR(&COMPANY) TYPE(*DEC) LEN(3 0)

/* CONVERT PARAMETERS TO REQUIRED SIZE FOR PRINT FUNCTION                  */

             CHGVAR     VAR(&CLAIM)    VALUE(&CLAIMNO)
             CHGVAR     VAR(&COMPANY)  VALUE(&COMPNYN)

             ADDLIBLE   LIB(ESEND)
             MONMSG CPF0000


             CALL       PGM(PPL4PFR) PARM(' ' &CLAIM &COMPANY +
                          &CLAUDSEL &CLAUDCOVAL &CLAUDEMAIL +
                          &CLPRTAUDIT &CLPRTINTNL &CLPRTTYPE)

 E00094:     IF         COND(&EMCLMUSR *EQ 'Y') THEN(GOTO +
                          CMDLBL(ENDPGM)) /* DON'T EMAIL  */

             IF         COND(&EMAIL1 *NE ' ') THEN(DO)
             ESNDMAIL   RECIPIENT(&EMAIL1) SUBJECT(&SUBJECT) +
                          ATTLIST((* *PDF *N PPL4PFR$))
             /*  * * * * * * *                           */
             /*  7/3/2014  SLM                           */
             /*  * * * * * * *                           */
             /* REQUEST SEND MARTY HAST IF COMPANY 360   */
             /* AT THIS TIME NOT SEND MARTY HAST   EMAIL */
             /*  * * * * * * *                           */
             IF         COND(&COMPANY *EQ 360) THEN(DO)
             ESNDMAIL   RECIPIENT(&EMAIL3) SUBJECT(&SUBJECT) +
                          ATTLIST((* *PDF *N PPL4PFR$))
             ENDDO

             ENDDO

ENDPGM:     ENDPGM
