// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPPPPFR
// ?Date: 14.08.2025 Time: 12:06:37
// ?------------------------------------------------------------------------------------------------

//?USER: Print required level headings

// SUPPRESSED PRINT Company Number header format

// SUPPRESSED PRINT Item Code header format

//?USER: On print of detail format

// PGM.*Print format = CND.Do not print format
PGM.*Print_format = 'N';

EXECUTE FUNCTION(Val Item Exists        RT) TYPE(RTVOBJ) FILE(CABZREP)          AC1323881;
PARAMETER(CUR.Company_Number);
PARAMETER(CUR.Item_Code);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 // PGM.*Return code = CND.*Record already exists
 PGM.*Return_code = 'Y2U0003';

}


CASE;

// IF PGM.*Return code is *Record does not exist
IF PGM.*Return_code = 'Y2U0005';

// PGM.*Print format = CND.Print format
PGM.*Print_format = 'Y';

// IF *OTHERWISE
IF *OTHERWISE;

// PGM.*Print format = CND.Do not print format
PGM.*Print_format = 'N';

ENDIF;

//?USER: Process after print of detail format

CASE;

// IF PGM.*Print format is Print format
IF PGM.*Print_format = 'Y';

EXECUTE FUNCTION(DLT Co Item/Avail Grp  DL) TYPE(DLTOBJ) FILE(PDKLREP)          AC1380740;
PARAMETER(DB1.Company_Number);
PARAMETER(DB1.Item_Code);
PARAMETER(DB1.Availability_Group_Code);

ENDIF;

//?USER: Print required level totals

// SUPPRESSED PRINT Item Code totals format

// SUPPRESSED PRINT Company Number totals format

