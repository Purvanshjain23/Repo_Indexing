// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBWUXFR
// ?Date: 14.08.2025 Time: 03:49:36
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Rtv Dlt FillQtyProd=0 RT) TYPE(RTVOBJ) FILE(PBB1CPP)           AC2121504;
PARAMETER(PAR.PFS_Company_Number);
PARAMETER(PAR.PFS_Batch_Date);
PARAMETER(PAR.PFS_Batch_Time);
PARAMETER(PAR.PFS_User_ID);
{
 //?USER: Process Data record

 //?E6013 JJH 05/13/16 - Add addtional criteria to prevent deletion
 //?  of Deallocated records: DB1.PFS Order Line Sts is Available
 CASE;

 // IF NOT DB1.PFS Baseline Schedule is Work Ahead
 IF ! DB1.PFS_Baseline_Schedule = 'W';

 // AND DB1.PFS Fill Qty Prod is Zero
 AND DB1.PFS_Fill_Qty_Prod = *ZERO;

 // AND DB1.PFS Inventory Alloc Qty is Entered
 AND DB1.PFS_Inventory_Alloc_Qty > *ZERO;

 // AND DB1.PFS Order Line Sts is Available
 AND DB1.PFS_Order_Line_Sts = 'A';

 EXECUTE FUNCTION(Del PFS Prd Sch Bt Dt DL) TYPE(DLTOBJ) FILE(PBB1CPP)           AC2109267;
 PARAMETER(DB1.PFS_Company_Number);
 PARAMETER(DB1.PFS_Batch_Date);
 PARAMETER(DB1.PFS_Batch_Time);
 PARAMETER(DB1.PFS_User_ID);
 PARAMETER(DB1.PFS_Batch_Seq);
 ENDIF;

}


