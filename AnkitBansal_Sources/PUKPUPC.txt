/********************************************************************/
/*                                                                  */
/*  SYNOPSIS -  PRINT STOCK STATUS REPORT FOR STF          */
/*              CALLS PDX3CLP FOR FOUR DIFFERENT WAREHOUSES         */
/*              PASSES COMPANY, WAREHOUSE, AS-OF DATE = SUNDAY,     */
/*              DETAIL TYPE, REPORT TYPE = I ONLY                   */
/*              SEND TO JIMMY REMIREZ' OUTPUT QUEUE ONLY            */
/*                                                                  */
/*  SYSTEM    - INVENTORY CONTROL                                   */
/*  PROGRAM   - STOCK STATUS REPORT FOR 4 WAREHOUSES                */
/*  DATE      - 01/07/2019                                          */
/********************************************************************/
/*  PROGRAMMER NOTES:  THIS PROGRAM CALLS AND EXISTING PROGRAM      */
/*             THAT SELECTS RECORDS USING OPEN QUERY FILE. THE      */
/*             CALCS DO **NOT** SELECT BY DATE. THE DATE IS ONLY    */
/*             USED IF THE REPORT TYPE = SUMMARY AND THIS REPORT    */
/*             TYPE ONLY = DETAIL.                                  */
/********************************************************************/
/*  MODIFICATIONS:                                                   */
/*   RMC 01/07/19 NEW FOR STF -- COPIED FROM  PMBRUPC                */
/*********************************************************************/
 PUKPUPC:    PGM        PARM(&RETURN)

/* PARMS                                                          */
             DCL        VAR(&RETURN) TYPE(*CHAR) LEN(7) /* Return +
                          Code */
             DCL        VAR(&PGM) TYPE(*CHAR) LEN(10) /* Program to +
                          submit */
             DCL        VAR(&COPYN) TYPE(*DEC) /* No. Copies */
             DCL        VAR(&OUTQ) TYPE(*CHAR) LEN(10) /* Output +
                          queue */
             DCL        VAR(&HOLD) TYPE(*CHAR) LEN(4) VALUE(*NO ) /* +
                          Hold */
             DCL        VAR(&SAVE) TYPE(*CHAR) LEN(4) VALUE(*NO ) /* +
                          Save */
             DCL        VAR(&NQSTAT) TYPE(*CHAR) LEN(01) VALUE('N') +
                          /* NIGHT Q    */
             DCL        VAR(&NIGHTQ) TYPE(*CHAR) LEN(10) +
                          VALUE('*JOBD') /* NIGHT JOB QUEUE     */
             DCL        VAR(&COMPNYN) TYPE(*DEC) /* CO +
                          NUMBER           */
             DCL        VAR(&ASDATE) TYPE(*DEC) /* Date */
             DCL        VAR(&QDATE) TYPE(*CHAR) LEN(6) /* System +
                          date */
             DCL        VAR(&CYMD) TYPE(*CHAR) LEN(7) /* Converted +
                          date */
             DCL        VAR(&WHSE) TYPE(*CHAR) LEN(3) /* Warehouse */
             DCL        VAR(&ITEM) TYPE(*DEC) /* Item */
             DCL        VAR(&DTLSUM) TYPE(*CHAR) LEN(1) VALUE('S') /* +
                          Detail/Summary */
             DCL        VAR(&ITMTYP) TYPE(*DEC) /* Item Str Type */
             DCL        VAR(&ITMGRP) TYPE(*DEC) /* Item Str Group */
             DCL        VAR(&ITMCLS) TYPE(*DEC) /* Item Str Class */
             DCL        VAR(&ITEMTP) TYPE(*CHAR) LEN(3) /* Item type */
             DCL        VAR(&NONZER) TYPE(*CHAR) LEN(1) VALUE('Y') /* +
                          Non Zero Y/N */
             DCL        VAR(&ITEMLV) TYPE(*CHAR) LEN(2) /* Item +
                          Level */
             DCL        VAR(&QLTYLV) TYPE(*CHAR) LEN(2) /* Quality +
                          Level */
             DCL        VAR(&RPTTYP) TYPE(*CHAR) LEN(1) VALUE(I) /* +
                          Report Type */

/*------------------------------------------------------------------*/
/*   INITIALIZE VARIABLES                                           */
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&RETURN) VALUE('       ')
             CHGVAR     VAR(&PGM) VALUE('ICQ0PFR')
             CHGVAR     VAR(&COMPNYN) VALUE(440)
             CHGVAR     VAR(&COPYN) VALUE(1)
             CHGVAR     VAR(&OUTQ) VALUE('STFPRT01')
             CHGVAR     VAR(&SAVE) VALUE(*YES)

/*------------------------------------------------------------------*/
/*   CONVERT SYSTEM DATE TO CMMDDYY NUMERIC                         */
/*------------------------------------------------------------------*/
             RTVSYSVAL  SYSVAL(QDATE) RTNVAR(&QDATE)
             CVTDAT     DATE(&QDATE) TOVAR(&CYMD) +
                          FROMFMT(*SYSVAL) TOFMT(*CYMD) TOSEP(*NONE)
             CHGVAR     VAR(&ASDATE) VALUE(&CYMD)

/*------------------------------------------------------------------*/
/*   CALL PRINT PROGRAM 7 TIMES - ONCE FOR EACH WAREHOUSE           */
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&WHSE) VALUE('ST1')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
STF:
             CHGVAR     VAR(&WHSE) VALUE('STF')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
             CHGVAR     VAR(&WHSE) VALUE('STB')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
STN:         CHGVAR     VAR(&WHSE) VALUE('STN')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
CP3:         CHGVAR     VAR(&WHSE) VALUE('CP3')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
CC3:         CHGVAR     VAR(&WHSE) VALUE('CC3')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
CC4:         CHGVAR     VAR(&WHSE) VALUE('CC4')
             CALL       PGM(PDX3CLP) PARM(&PGM &COMPNYN &WHSE &ITEM +
                          &ITEMTP &ITEMLV &QLTYLV &ITMTYP &ITMGRP +
                          &ITMCLS &ASDATE &NONZER &DTLSUM &RPTTYP +
                          &OUTQ &HOLD &SAVE &COPYN &NIGHTQ)
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/

 END:        ENDPGM
