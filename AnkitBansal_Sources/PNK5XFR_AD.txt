// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PNK5XFR
// ?Date: 14.08.2025 Time: 03:45:27
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Fix Crt Hist Dtl      RT) TYPE(RTVOBJ) FILE(OMHRCPP)           AC1949428;
PARAMETER('ROY');
{
 //?USER: Process Data record

 CASE;

 // IF LCL.Order Number NE DB1.Order Number
 IF LCL.Order_Number <> DB1.Order_Number;

 EXECUTE FUNCTION(RTV 1st Warehouse      RT) TYPE(RTVOBJ) FILE(OPBGWKP)          AC1575817;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(LCL.Warehouse_Code);
 {
  //?USER: Process Data record

  // PAR.Warehouse Code = DB1.Warehouse Code
  PAR.Warehouse_Code = DB1.Warehouse_Code;

  QUIT;

 }

 EXECUTE FUNCTION(Rtv Acct Co          RT) TYPE(RTVOBJ) FILE(CAADREP)            AC1802492;
 PARAMETER(LCL.Warehouse_Code);
 PARAMETER(LCL.Accounting_Company);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 EXECUTE FUNCTION(Rtv & Dlt for Recalc RT) TYPE(RTVOBJ) FILE(PDICCPP)            AC1858791;
 PARAMETER(LCL.Accounting_Company);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Del History Dtl Accrl DL) TYPE(DLTOBJ) FILE(PDICCPP)           AC1845951;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Order_Number);
  PARAMETER(DB1.Order_Sequence_Number);
  PARAMETER(DB1.Order_Secondary_Line_Seq);
  PARAMETER(DB1.Sequence_Number);
 }

 // Call program Zzz Crt Hist Dtl Accr  XF.
 CALL PROGRAM(Zzz Crt Hist Dtl Accr  XF) ('PNK4XFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);

 // LCL.Order Number = DB1.Order Number
 LCL.Order_Number = DB1.Order_Number;

 // LCL.Company Number = DB1.Company Number
 LCL.Company_Number = DB1.Company_Number;

 ENDIF;

}


