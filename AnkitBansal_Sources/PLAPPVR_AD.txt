// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLAPPVR
// ?Date: 14.08.2025 Time: 02:53:29
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?H16853 ISE 11/05/2020-Recompiled due to change in Buy Order Number
//?USER: Validate fields

CASE;

// IF DTL.Date From USR GT DTL.Date To   USR
IF DTL.Date_From_USR > DTL.Date_To_USR;

// Send error message - 'From date must be less than or equal to the to date.'
ERROR(PRK0472);

ENDIF;

CASE;

// IF DTL.Date From USR EQ DTL.Date To   USR
IF DTL.Date_From_USR = DTL.Date_To_USR;

// Call program VAL Kill Day    2 OMS XF.
CALL PROGRAM(VAL Kill Day    2 OMS XF) ('PDWBXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(DTL.Date_From_USR);
PARAMETER(LCL.Invalid_Y_N_USR);

CASE;

// IF LCL.Invalid Y/N USR is Yes
IF LCL.Invalid_Y_N_USR = 'Y';

// Send error message - 'Date is not a scheduled kill date.'
ERROR(PRK1051);
MSGPARM(DTL.Date_From_USR);

ENDIF;

ENDIF;

//?USER: User defined action

// Call program Crt Delv Sch f/Templt XF.
CALL PROGRAM(Crt Delv Sch f/Templt XF) ('PLBAXFR');
PARAMETER(DTL.CC_Company_Number);
PARAMETER(DTL.Date_From_USR);
PARAMETER(DTL.Date_To_USR);

// Send information message - 'Delivery Schedule generation complete.'
MESSAGE(PRK1052 *INFO);

