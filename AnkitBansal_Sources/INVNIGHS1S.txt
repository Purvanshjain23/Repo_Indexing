/********************************************************************/
/*  INVNIGHTRS -- COPIED FROM INVNIGHTRN GUYMON PGM    11/04/05     */
/*                AND MODIFIED FOR ST JOSEPH PLANT - CO 960 WHSE SJ1*/
/*                                                                  */
/*  SYNOPSIS - CL PROGRAM TO BE RUN AT NIGHT                        */
/*                                                                  */
/*  SYSTEM    - INVENTORY MANAGEMENT                                */
/*  DATE      -  8/01/96                                            */
/*                                                                  */
/*------------------------------------------------------------------*/
/* REPORTS/PROCESS (AS OF 06/04/2009)                               */
/*------------------------------------------------------------------*/
/* STS:  "A"CTIVE; "C"OMMENTED OUT                                  */
/*                                                                  */
/* STS REPORT/PROCESS       WHS PRINTER     DATE OR DATE RANGE      */
/* --- -------------------- --- ----------  ----------------------- */
/* A   AGED INVENTORY       SJ1 EMAILED     *NONE                   */
/* A   AGED INVENTORY       SF1 EMAILED     *NONE                   */
/* A   BUILD PROD SCHED     --- --------    *NOT DONE HERE ANYMORE  */
/* A   PA (DAY REPORT)      SJ1 PRKPRT05    CURRENT DATE            */
/* A   PA DETAIL            SJ1 PRKPRT05    *NONE                   */
/* A   WHS INV/ORD COMP     SJ1,SA1 PRKPRT05    06/23/00-06/24/00       */
/* A   FREEZER INVENTORY    SF1 PRKPRT03    TO SALES                */
/* A   PRODUCTION SCHEDULE  SJ1 PRKPRT05,EMAILED                    */
/* A   HAM PROD SCHEDULE    SJ1 PRKPRT05,EMAILED                    */
/*                                                                  */
/*------------------------------------------------------------------*/
/* MAINTENANCE LOG                                                  */
/*------------------------------------------------------------------*/
/*  MODIFIED:   R. CENTONZE       11/04/05                           */
/*               COPIED FROM INVNIGHTRN GUYMON PGM.                  */
/*               1. DELETE OLD COMMENTED CODE                        */
/*               2. CHANGE CO 360 TO 960                             */
/*               3. COMMENT REPORTS GOING TO A GUP--- PRINTER        */
/*  MODIFIED:   R. CENTONZE       02/02/06                           */
/*               ADDED COMP PARM TO CALL PDC5XFR                     */
/*  MODIFIED:   L. BUSER          03/02/2006   T00006                */
/*               IF OUTQ IS PRKPRT05, THEN CHANGE TO HOLD(*YES)      */
/*  MODIFIED:   R  CENTONZE       03/15/06                           */
/*               CALL PGM(PPTDXFR) PARM(' ' 'N' 'SJ1') TO 0 NEG VALUES */
/*  MODIFIED:   L. BUSER          03/23/2006   T070                  */
/*               CHANGE SELECTED REPORTS TO PRINT IN PRKPRT05        */
/*  MODIFIED:   LJB               10/04/2006                         */
/*             ADD PRINT STATUS FLAG = "N" TO PDPDCLP                */
/*             SEE TAG L61002C                                       */
/*  MODIFIED:   RMC               01/30/07                          */
/*               ADDED REPORT TYPE(DAILY/WEEKLY) PARM- PASS TO PDRPPFR  */
/*               FROM PDM9UPC  -- FOR 960 SET &DAYWK='2' FOR SA1 WHSE */
/*               NEWSA1:  TAG--  RUN PDRPPFR FOR SA1                  */
/*  MODIFIED:   RMC   02/13/07 RPT POGDPFR TODAYS PA -  CHG 10 TO 11 COPIES */
/*                    (CALLED BY CL POGFUPC)                            */
/*  MODIFIED: LJB 02/27/07  L70125A - PDRCCLP, INVENTORY TRANSACTION */
/*                JOURNAL, ADDED ZERO QUANTITY = N PARM              */
/*                THIS FUNCTION IS SKIPPED IN THIS PROGRAM,          */
/*                HOWEVER, THE CHANGE WAS MADE TO MATCH GUYMAN       */
/*                                                                   */
/*  MODIFIED: SLM 05/23/07  DLY029 - PDRZCLP PASS AGEING CODE        */
/*            IF COMPANY 360 PURVA HAS REQUESTED 1 DAY TO AGE        */
/*            &AGEDAYS                                               */
/*  MODIFIED: RMC 09/25/07  DLY029 - PDPDCLP-  PRICE MTH PARM BEFORE OUTQ */
/*  MODIFIED: LJB 02/27/07  L70125A - PDRCCLP, INVENTORY TRANSACTION */
/*                JOURNAL, ADDED ZERO QUANTITY = N PARM              */
/*                THIS FUNCTION IS SKIPPED IN THIS PROGRAM,          */
/*                HOWEVER, THE CHANGE WAS MADE TO MATCH GUYMAN       */
/*  MODIFIED: LJB 04/02/2008 FP1235                                  */
/*               ADD PROGRAM IMMEDIATELY AFTER THE PRODUCTION        */
/*               SCHEDULE RUNS TO PRINT THE MAKE SHEET (960 ONLY)    */
/*               ADD &COMPN AS 15.5 PARM AND &DAYSTS AS "T"(TODAY)   */
/*  MODIFIED: PKD 08/21/2008 S00415 PRINT 1 COPY OF TODAY'S PA       */
/*               REPORT AND PLACE IT ON HOLD.                        */
/*  MODIFIED: RMC 10/20/2008 S00524 PRINT/EMAIL AGED INV REPORTS     */
/*               FOR SJ1 AND SF1   - PDVBPFR - NOT ON SAT/SUN ;     */
/*               PRINT PA GROUP 600 REPORTS FIRST FEW PAGES FOR DAMON  */
/*  MODIFIED: SLM 11/10/08  E00243 - Add the processing of the       */
/*                Belly & Trim report AT PRODUCTION SCHEDULE SECTION */
/*                Add the two new process for the Belly & Trim       */
/*                production schedule reports                        */
/*  MODIFIED: RMC 11/18/2008 S00524 CHG SJ1 AGE BUCKET FROM 8 DAYS TO 4  */
/*               FOR SJ1  - PDVBPFR - PER DAN SCHMERBACH  */
/*  MODIFIED: SLM 11/21/08  E00243 - Allow new belly & trim report   */
/*                to go ahead and print                              */
/*  MODIFIED: SLM 12/01/08  E00243 - ADD the E to email for the      */
/*                Belly & Trim Reports                               */
/*  MODIFIED: SLM 12/11/08  E00298 - Pass in the new Hold Over parm  */
/*                daily production schedule send in blank            */
/*                trim and belly send in 'Y' FOR yes print hold      */
/*                over                                               */
/*  MODIFIED: SLM 12/25/08  E00298 - Place in the afternoon run      */
/*                of the bellys and trim but only pass in the        */
/*                company select of T for Triumph Foods, or G for    */
/*                Guymon  -- These reports will be executed if       */
/*                this is a production day and if so then print the  */
/*                reports.                                           */
/* MODIFIED:  RMC 3/04/09 FP1054  REMOVED OLD COMMENTED CODE;    */
/*                        SKIP BUILD SCHEDULE PROCESS -- ITS DONE IN   +
/*                        INVBUILDPS FOR BOTH PLANTS NOW.           */
/*                        SCAN:    SKIPSCHED                            */
/*                6/01/09 ADDED EMAIL PARM ' ' TO CALL PDRCCLP      */
/*                6/01/09 CHG  PDJSUPR TO CALL PMFAPFR INSTEAD OF             */
/*                        PDRUPFR; ADD CALL TO EMAIL THE REPORT TO SCHEDULING */
/*                6/10/09 DONT CALL PMTTUPC ANY MORE PER STEVE              */
/* MODIFIED:  RMC 7/09/09 FP1054  PRINT PROD SCHEDULE FIRST- CONDITION ON   +
              CURRENT DAY'S  PRODUCTION DAY STATUS BEING = "Y"         */
/* MODIFIED:  RMC 2/18/11 E01365  DUPSPLF PMFAPFR$, PDV0PFR$ TO &OUTQ2    */
/*                        FROM COMP VALUE "INVNIGHT2"                    */
/*                        SCAN:    E01365                               */
/* MODIFIED:  RMC 10/21/11 E1773  ADDED &AVAILG TO PDRZCLP CALL              */
/* MODIFIED:  RMC 12/05/11 E1819  ADDED PARM TO PDJSUPR - &SUMBOX -PRINT   */
/*     SUMMARY BOX ON REPORT BUT DOESNT APPLY TO RPT TYPES CALLED FROM HERE  */
/* MODIFIED:  SLM 02/29/12 E1891  PROCESS THE PRODUCTION SCHEDULE    */
/*                                TO A WORK FILES THAT WILL BE SENT  */
/*                                VIA EMAIL USING A DISTRIBUTION     */
/*                                LIST                               */
/*                                PROCESS THE HAM SCHEDULE TO A WORK */
/*                                FILE THAT WILL BE SNET VIA EMAILS  */
/*                                PROGRAM PDWKXFR IS BEING REPLACED  */
/*                                HERE BY PBCHUPR, AND PBCHUPR IS    */
/*                                TAKING CARE OF THE NEW FILE ON     */
/*                                A SPREAD SHEET, AND WILL CALL      */
/*                                THE PROGRAM PDWKXFR                */
/*                                                                   */
/*           *NOTE I created a save version of the prior changes     */
/*           that are currently in PRKSYNSRC to new name of          */
/*           **************  INVNISVTRS  **************************  */
/*           since there were a lot of changes.                      */
/*                                                                   */
/*********************************************************************/
 INVNIGHTRS: PGM

             DCL        &COMP       *DEC     3 0
             DCL        VAR(&COMPSEL) TYPE(*CHAR) LEN(1) VALUE('T')
             DCL        &CYCLE      *CHAR    3
             DCL        &DAYWK      *CHAR    1
             DCL        &PRTZR      *CHAR    1
             DCL        &PRTTD      *CHAR    1
             DCL        &OUTQ       *CHAR    10
             DCL        &HOLD       *CHAR    4
             DCL        &SAVE       *CHAR    4
             DCL        &COPY       *DEC     2 0
             DCL        &COMMAND    *CHAR    512
             DCL        &ITEMTP     *CHAR    3   /* ITEM TYPE    */
             DCL        &ITEMLV     *CHAR    2   /* ITEM LEVEL   */
             DCL        &QLTYLV     *CHAR    2   /* QUALITY LEVEL*/
             DCL        &ITMTYP     *DEC     LEN(3 0)
             DCL        &ITMGRP     *DEC     LEN(3 0)
             DCL        &ITMCLS     *DEC     LEN(3 0)
             DCL        &COMPA      *CHAR    3  /* CO. # FOR MSG */
             DCL        &ITEM       *DEC     7  0 /* ITEM FOR QRY  */
             DCL        &WHSE       *CHAR    3  /* WAREHOUSE     */
             DCL        &AGE        *CHAR    1  /* AGE CODE      */
             DCL        &AGEDAYS    *DEC     /* No. of DAYS      */
             DCL        &AVAILG     *CHAR    3  /* AVAIL GROUP   */
             DCL        &A          *CHAR    25 /* QRY SELECT    */
             DCL        &B          *CHAR    35 /* QRY SELECT    */
             DCL        &G          *CHAR   200 /* QRY SELECT    */
             DCL        &RETURN     *CHAR   7
             DCL        &JOBDATE    *CHAR   6
             DCL        &JOBDTE     *CHAR   7
             DCL        &DATE       *CHAR   7
             DCL        &DATE2      *CHAR   7
             DCL        &DATEFRM    *DEC    7 0
             DCL        &DATETO     *DEC    7 0

             DCL        &DAYS       *DEC    3 0
             DCL        &DAYS2      *DEC    8 0
             DCL        &TDATE      *DEC
             DCL        &XTDATE     *CHAR   7
             DCL        &TDATE2     *DEC    7 0
             DCL        &PDATE      *DEC
             DCL        &XPDATE     *CHAR   7
             DCL        &PDATE2     *DEC    7 0
             DCL        VAR(&QDAY) TYPE(*CHAR) LEN(4) /* DAY OF +
                          WEEK   */
             DCL        VAR(&PRDDAY) TYPE(*CHAR) LEN(1) /* PRD DAY STS */
             DCL        &COMPN      *DEC   (15 5)
             DCL        &DAYSTS     *CHAR    1

/* Prd Item Schedule Spread HAMSPSHHquested                            */
             DCL        VAR(&PRDSPS) TYPE(*CHAR) LEN(10) +
                          VALUE('PRDSPS    ')
/* Prd Item Schedule Spread Sheet Not Request                          */
             DCL        VAR(&PRDNOS) TYPE(*CHAR) LEN(10) +
                          VALUE('          ')
/* Ham GRP  Schedule Spread Sheet Requested                            */
             DCL        VAR(&HAMSPS) TYPE(*CHAR) LEN(10) +
                          VALUE('HAMSPS    ')
/* Ham Grp  Schedule Spread Sheet Not Request                          */
             DCL        VAR(&HAMNOS) TYPE(*CHAR) LEN(10) +
                          VALUE('          ')
         DCL        &DISTSCH    *CHAR    30   /* DIST LIST FOR SCHEDULE EMAIL */
         DCL        &DISTAGE    *CHAR    30   /* DIST LIST FOR AGED INV EMAIL */
         DCL        &OUTQ3      *CHAR    10   /* FOR FRZR INV RPTS TO SALES */
         DCL        &OUTQ5      *CHAR    10  /* FOR SCHED PRINTER */
         DCL        &OUTQ2      *CHAR    10  /* FOR SCHED PRINTER- 2ND CPY */
             DCL        &HOLD5      *CHAR    4
             DCL        &SAVE5      *CHAR    4
             DCL        &COPY5      *DEC     2 0
/* CREATE HOLDNO VARIABLE TO OVERRIDE SELECT OUTQ'S FOR PRKPRT05    */
             DCL        &HOLDNO     *CHAR    4
/*------------------------------------------------------------------*/
/* CONVERT PARAMETERS TO REQUIRED SIZE FOR PRINT FUNCTION                  */
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&COMP) VALUE(960)
             CHGVAR     VAR(&COMPA) VALUE(960)
             CHGVAR     VAR(&AGEDAYS) VALUE(000000000000001)
             CHGVAR     VAR(&AVAILG) VALUE('   ')
/*------------------------------------------------------------------*/
             RTVSYSVAL  SYSVAL(QDAYOFWEEK) RTNVAR(&QDAY)
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/* GET INVNIGHT OUTPUT QUEUES AND EMAIL DIST LIST                         */
/*------------------------------------------------------------------*/
/* GET OUTQ -- WHICH IS CURRENTLY PRKPRT05     */
 GETOUTQ5:    CALL       PGM(POMTXFR) PARM(' ' X'960F' 'INVNIGHTQ' &OUTQ5)
/* GET SALES OUTQ -- WHICH IS CURRENTLY PRKPRT03     */
 GETOUTQ3:    CALL       PGM(POMTXFR) PARM(' ' X'960F' 'INVNIGHTF' &OUTQ3)
/* GET EMAIL DIST LIST FOR AGED INV REPORTS         */
 GETEMAIL:  CALL       PGM(POMTXFR) PARM(' ' X'960F' 'INVNIGHTA' &DISTAGE)
/* GET EMAIL DIST LIST FOR SCHED REPORT      */
GETEMLSC:     CALL       PGM(POMTXFR) PARM(' ' X'960F' 'INVNIGHTS' &DISTSCH)
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
             RTVJOBA    DATE(&JOBDATE)
             CVTDAT     DATE(&JOBDATE) TOVAR(&JOBDTE) FROMFMT(*MDY) +
                          TOFMT(*CYMD) TOSEP(*NONE)

             CHGVAR     VAR(&DATE) VALUE(&JOBDTE)
             CHGVAR     VAR(&DATEFRM) VALUE(&JOBDTE)
             CHGVAR     VAR(&DATETO) VALUE(&JOBDTE)

/*-------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/*   DO THIS SECTION IF CURRENT DAY'S  PRODUCTION DAY STATUS = Y    */
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
             CALL       PGM(PMB5XFR) PARM('' '960' &DATE &PRDDAY)

             IF         COND(&PRDDAY = 'N') THEN(GOTO CMDLBL(EVERYDAY))

/*------------------------------------------------------------------*/
/* PRODUCTION SCHEDULE   - PMFAPFR                                  */
/*-------------------------------------------------------------------*/
/*    --- CALL NEW REPORT PMFAPFR INSTEAD OF PDRUPFR   6/04/09      */
/*    --- EMAIL HAM SCHED ALSO-PMV0PFR                 6/04/09      */
/*-------------------------------------------------------------------*/
 PRODS:
/* E001891 SLM 02/29/2012    */
/* ADD NEW PARM TO PDJSUPR   */
/* Enhancement that the prooduction schedule report will create     */
/* the data from the report into a spread sheet which will be sent  */
/* by email this is current being performed in the PDJSUPR          */
/* and if the &PRDSPS is not blanks then the work file will be      */
/* built and will be sent via email                                 */
/*------------------------------------------------------------------*/

             CALL       PGM(PDJSUPR) PARM(' ' 'QPRINT2' '*YES' +
                          '*YES' '1' 'PMFAPFR' 'PMFAPFR$' 'P/S' +
                          '960' 'S' &DATE 'Y' 'D' 'SJ1' ' ' ' ' ' ' +
                          &PRDSPS)

/* E001891 SLM 02/29/2012                                           */
/* Created new wrap CL to process the Ham Schedule.                 */
/* Replaced PDWKXFR with new PBCHUPR                                */
 HAM:        CALL       PGM(PBCHUPR) PARM('       ' 'QPRINT2   ' +
                          '*NO ' '*NO ' '01' &COMPA &DATE &HAMSPS)

 /*M:        CALL       PGM(PDWKXFR) PARM('       ' X'960F' +
                          &DATEFRM    'QPRINT2   ' '*NO ' '*NO ' +
                          X'001F')                            */

        ESEND/ESNDMAIL   RECIPIENT(&DISTSCH) SUBJECT('Production +
                          Schedule') ATTLIST((* *PDF *N PMFAPFR$) +
                          (* *PDF *N PDV0PFR$))


 /* E001891 SLM 02/29/2012    */
 /* ADD NEW PARM TO PDJSUPR   */
 /* For this call to PDJSUPR we do not want to create the work file  */
 /* since we already did this on the prior call to PDJSUPR prior     */
 /* send in parm this is blanks. PRDNOS                              */

 /* PRINT AGAIN ON &OUTQ5 (PRKPRT05)                                  */

             CALL       PGM(PDJSUPR) PARM(' ' &OUTQ5 '*YES' '*YES' +
                          '1' 'PMFAPFR' 'PMFAPFR$' 'P/S' '960' 'S' +
                          &DATE 'Y' 'D' 'SJ1' ' ' ' ' ' ' &PRDNOS)

/* E001891 SLM 02/29/2012                                           */
/* Created new wrap CL to process the Ham Schedule.                 */
/* Replaced PDWKXFR with new PBCHUPR                                */
             CALL       PGM(PBCHUPR) PARM('       ' &OUTQ5 '*NO ' +
                          '*NO ' '01' &COMPA &DATE &HAMNOS)

/*           CALL       PGM(PDWKXFR) PARM('       ' X'960F' +
                          &DATEFRM    &OUTQ5       '*NO ' '*NO ' +
                          X'001F')                            */

E01365:  /* GET 2ND OUTQ -- WHICH IS CURRENTLY TFPRT03      */
 GETOUTQ2:    CALL       PGM(POMTXFR) PARM(' ' X'960F' 'INVNIGHT2' &OUTQ2)
             IF         COND(&OUTQ2 > '          ') THEN(DO)
             DUPSPLF    FILE(PMFAPFR$) OUTQ(&OUTQ2) SPLNBR(*LAST)
             MONMSG     MSGID(CPF3C40)
             DUPSPLF    FILE(PDV0PFR$) OUTQ(&OUTQ2) SPLNBR(*LAST) +
                          HOLD(*YES) SAVE(*YES)
             MONMSG     MSGID(CPF3C40)
             ENDDO
/*-------------------------------------------------------------------*/
/* PRODUCTION SCHEDULE                                               */
/* & NEW GENERIC PROCESS FOR BELLY/TRIM/ETC                          */
/*-------------------------------------------------------------------*/
             CHGVAR     VAR(&COMPSEL) VALUE('T')
 PRODSB:     CALL       PGM(PMB2UPC) PARM(&COMPSEL)

/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/*   DO THIS SECTION EVERY DAY                                   */
/*------------------------------------------------------------------*/
EVERYDAY:
/*------------------------------------------------------------------*/
/* PRINT THE AGED INVENTORY REPORTS FOR EMAIL                       */
/*------------------------------------------------------------------*/
             IF         COND(&QDAY *EQ '*SUN') THEN(GOTO SKIPAG)
             IF         COND(&QDAY *EQ '*SAT') THEN(GOTO SKIPAG)
             CHGVAR     VAR(&AGEDAYS) VALUE(000000000000004)
             CALL       PGM(PDRZCLP) PARM('PDVBPFR' 960.00000 'SJ1' +
                          0.00000 'FG ' ' ' ' ' 0.00000 0.00000 +
                          0.00000 'Y' 'N' 'QPRINT2' '*YES' '*YES' +
                          1.00000 '*JOBD' &AGEDAYS &AVAILG)
             ESEND/ESNDMAIL RECIPIENT(&DISTAGE) SUBJECT('Aged +
                          Inventory Reports') ATTLIST((* *DFT *N +
                          PDVBPFR$))
             MONMSG     MSGID(CPF0000)
             CHGVAR     VAR(&AGEDAYS) VALUE(000000000000030)
             CALL       PGM(PDRZCLP) PARM('PDVBPFR' 960.00000 'SF1' +
                          0.00000 ' ' ' ' ' ' 0.00000 0.00000 +
                          0.00000 'Y' 'N' 'QPRINT2' '*YES' '*YES' +
                          1.00000 '*JOBD' &AGEDAYS &AVAILG)
             ESEND/ESNDMAIL RECIPIENT(&DISTAGE) SUBJECT('Aged +
                          Inventory Reports') ATTLIST((* *DFT *N +
                          PDVBPFR$))
             MONMSG     MSGID(CPF0000)
 SKIPAG:
/*------------------------------------------------------------------*/
/* ZERO NEG ITEM BAL VALUES    -- MOVED HERE FROM JOB SCHEDULER 3/15/06   */
/*------------------------------------------------------------------*/
             CALL       PGM(PPTDXFR) PARM(' ' 'N' 'SJ1')
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
/* PRINT AVAILABLE TO SELL AND TODAY'S PA                            */
/*-------------------------------------------------------------------*/
/* CHANGE FOR ST JO         -----------------------------------------*/
/* CHANGE OUTQ PRKPRT05 TO HOLD(*YES)  T00006 03/02/2006 LJB         */
/*-------------------------------------------------------------------*/
/* DEWEY-PA GROUP */
             CALL       PGM(PDSIUPR) PARM(' ' &OUTQ5  '*YES' +
                          '*YES' '1' 'PDSFPFR' 'PDSFPFR$' '960' +
                          'SJ1' 'FR' &DATE 'P' '40500' 'DIW' 'N')
             MONMSG     MSGID(CPF0000)

/*-------------------------------------------------------------------*/
/* ADDED ON 7/11/00 BY  R CENTONZE   PER JUDY SCHAUB  PK0286         */
/* TODAY'S PA                                                        */
/*-------------------------------------------------------------------*/
             IF         COND(&QDAY *EQ '*SUN') THEN(GOTO +
                          CMDLBL(SKIPPA))
             IF         COND(&QDAY *EQ '*SAT') THEN(GOTO SKIPPA)

/*  PKD   08/21/08 RPT PRINT 1 COPY ON HOLD                          */
             CALL       PGM(POGFUPC) PARM(' ' &OUTQ5  '*YES' +
                          '*YES' 'OMS' X'000000000100000F' +
                          X'000000096000000F' 'ALL' 'SJ1' &DATE &DATE)
  SKIPPA:
/*-------------------------------------------------------------------*/
/* WAREHOUSE INVENTORY/ORDERS COMPARISON                             */
/*-------------------------------------------------------------------*/
             CALL       PGM(PDSUXFR) PARM(' ' &COMP &DATEFRM &DATETO)
             CHGVAR     VAR(&DATE2) VALUE(&DATETO)
             CHGVAR     VAR(&DAYWK) VALUE('1')

             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ5  '*NO' +
                         '*YES' '1' 'PDRPPFR' 'PDRPPFR$' +
                         'OMS' 'ALL' 'S' '960' 'SJ1' '   ' &DATE +
                         &DATE2 'S' &DAYWK)

 NEWSA1:     CHGVAR     VAR(&DAYWK) VALUE('2')

             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ5  '*NO' +
                         '*YES' '1' 'PDRPPFR' 'PDRPPFR$' +
                         'OMS' 'ALL' 'S' '960' 'SA1' '   ' &DATE +
                         &DATE2 'S' &DAYWK)
/*-------------------------------------------------------------------*/
/*-------------------------------------------------------------------*/
/* PRODUCT AVAILABILITY REPORT FOR PA GROUP 600                      */
/*-------------------------------------------------------------------*/
/*  CHANGE FOR ST JO         ----------------------------------------*/
/* CHANGE OUTQ PRKPRT05 TO HOLD(*YES)      T00006 03/02/2006 LJB     */
/*-------------------------------------------------------------------*/
             CALL       PGM(PDSIUPR) PARM(' ' &OUTQ5  '*YES' +
                          '*YES' '1' 'PDKJPFR' 'PDKJPFR$' '960' +
                          'SJ1' 'FR' &DATE 'L' '40500' '600' 'N')

/*------------------------------------------------------------------*/
/* EXPORT ORDER TOTAL FOR THE WEEK                                  */
/*------------------------------------------------------------------*/
             CALL       PGM(POYXXFR) PARM('' &COMP &DATEFRM)
             MONMSG     MSGID(CPF0000)

/**********************************************************************/
/* FREEZER INVENTORY REPORTS                                          */
/* RMC  FP1054 USE OUTQ3 INSTEAD OF 'PRKPRT03'  6/04/09               */
/**********************************************************************/
/*** SF1 AND AGE CODE = *ALL                                          */
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'960F' 'SF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00000F' ' ')) +
                          JOB(FRZINVSF1) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'960F' 'SF1' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3       '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' ' ')) JOB(FRZINVSF1))

/*** SF1 AND AGE CODE = H                                             */
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'960F' 'SF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00000F' 'H')) +
                          JOB(FRZINVSF1H) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'960F' 'SF1' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3       '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' 'H')) JOB(FRZINVSF1H))

/*** SF1 AND AGE CODE = I                                             */
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'960F' 'SF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00000F' 'I')) +
                          JOB(FRZINVSF1I) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'960F' 'SF1' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3       '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' 'I')) JOB(FRZINVSF1I))

/*------------------------------------------------------------------*/
/**********************************************************************/
/* PROGRAM END                                                        */
/**********************************************************************/
 ENDPGM:
             ENDPGM
