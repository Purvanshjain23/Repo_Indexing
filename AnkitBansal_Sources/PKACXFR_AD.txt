// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKACXFR
// ?Date: 14.08.2025 Time: 02:51:02
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and Comments
DO;

//?H16853 ISE 11/02/20 - Increased the Buy Order Number
//?field length from 5 to 7.
ENDDO;

// Call program Del Cutout Value 2 OMS XF.
CALL PROGRAM(Del Cutout Value 2 OMS XF) ('PDKFXFR');
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);

// Call program Rtv Coolr Shrnk% 2 OMS XF.
CALL PROGRAM(Rtv Coolr Shrnk% 2 OMS XF) ('PDAWXFR');
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.Cooler_Shrink_Percent_USR);

// Call program Clc Kill/Rnd Val 2 OMS XF.
CALL PROGRAM(Clc Kill/Rnd Val 2 OMS XF) ('PDUHPFR');
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.Prod_Kill_Val_Hd_USR);
PARAMETER(PAR.Prod_Rend_Val_Hd_USR);

EXECUTE FUNCTION(Clc Cutout Value      RT) TYPE(RTVOBJ) FILE(PKB1CPP)           AB1138226;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.Cutout_Matrix_Code_USR);
PARAMETER(PAR.Effective_Month_Day_USR);
PARAMETER(PAR.Cooler_Shrink_Percent_USR);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.CD Record Add/Del Sts is Delete
 IF DB1.CD_Record_Add_Del_Sts = 'D';

 // IF *OTHERWISE
 IF *OTHERWISE;

 // WRK.Lean % 3.0 USR = DB1.CD Lean Percent
 WRK.Lean_3_0_USR = DB1.CD_Lean_Percent;

 // Call program Upd Cutout Items 2 OMS XF.
 CALL PROGRAM(Upd Cutout Items 2 OMS XF) ('PDKEXFR');
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.CD_Carcass_Hot_Weight);
 PARAMETER(WRK.Lean_3_0_USR);
 PARAMETER(PAR.Cutout_Matrix_Code_USR);
 PARAMETER(PAR.Effective_Month_Day_USR);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(PAR.Cooler_Shrink_Percent_USR);

 ENDIF;

}


// Call program Upd Tattoo Value 2 OMS XF.
CALL PROGRAM(Upd Tattoo Value 2 OMS XF) ('PDJ3PFR');
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.Prod_Kill_Val_Hd_USR);
PARAMETER(PAR.Prod_Rend_Val_Hd_USR);

