// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKM6XFR
// ?Date: 14.08.2025 Time: 02:52:14
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and Comments
DO;

//?H16853 ISE 11/09/2020 - Recompiled due to change in Buy Order Number
ENDDO;

EXECUTE FUNCTION(Utl Hot Scl Upl Init  RT) TYPE(RTVOBJ) FILE(PKA1CPP)           AB1204920;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.TH_Schedule_Kill_Shift);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Utl Hot Scl Upl Init  RT) TYPE(RTVOBJ) FILE(PKDYCPP)           AB1204934;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Utl Hot Scl Upl Init  CH) TYPE(CHGOBJ) FILE(PKDYCPP)           AB1204935;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
  PARAMETER(DB1.TH_Tattoo_Number);
  PARAMETER(DB1.TH_Kill_Date);
  PARAMETER(DB1.TD_Sequence_Number);
  PARAMETER('N');
  PARAMETER(*ZERO);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
   PARAMETER(DB1.RS_User_Changed);
   PARAMETER(DB1.RS_Date_Changed);
   PARAMETER(DB1.RS_Time_Changed);
   PARAMETER(DB1.RS_Job);
   PARAMETER(DB1.RS_Program);
   {
    //?Execute internal function

    // PAR.RS User Changed = JOB.*USER
    PAR.RS_User_Changed = JOB.*USER;

    // PAR.RS Date Changed = JOB.*Job date
    PAR.RS_Date_Changed = JOB.*Job_date;

    // PAR.RS Time Changed = JOB.*Job time
    PAR.RS_Time_Changed = JOB.*Job_time;

    // PAR.RS Job = JOB.*JOB
    PAR.RS_Job = JOB.*JOB;

    // PAR.RS Program = JOB.*PROGRAM
    PAR.RS_Program = JOB.*PROGRAM;

   }

  }

 }

 EXECUTE FUNCTION(Utl Hot Scl Upl Init  RT) TYPE(RTVOBJ) FILE(PKB6CPP)           AB1227844;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Delete Kill Validation) TYPE(DLTOBJ) FILE(PKB6CPP)             AB1104583;
  PARAMETER(DB1.KV_Company_Number);
  PARAMETER(DB1.KV_Kill_Date);
  PARAMETER(DB1.KV_TATTOO_NUMBER);
  PARAMETER(DB1.KV_Buy_Order_Number);
  PARAMETER(DB1.KV_Load_Number);
  PARAMETER(DB1.KV_Record_Number);
  PARAMETER(DB1.KV_Record_Type);
  PARAMETER(DB1.KV_Error_Code);
 }

 EXECUTE FUNCTION(Utl Hot Scl Upl Init  CH) TYPE(CHGOBJ) FILE(PKA1CPP)           AB1240377;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('E');
 PARAMETER('N');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER('N');
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
}


EXECUTE FUNCTION(Utl Hot Scl Upl Init  RT) TYPE(RTVOBJ) FILE(PKBVCPP)           AB1204941;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.TH_Schedule_Kill_Shift);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Dlt Eval Trans        DL) TYPE(DLTOBJ) FILE(PKBVCPP)           AB1102933;
 PARAMETER(DB1.ET_Company_Number);
 PARAMETER(DB1.ET_Kill_Date);
 PARAMETER(DB1.ET_Scale_Sequence_Number);
 PARAMETER(DB1.ET_Carcass_Number);
 PARAMETER(DB1.ET_Carcass_Number_Insert);
}


EXECUTE FUNCTION(Utl Hot Scl Upl Init  RT) TYPE(RTVOBJ) FILE(PKCPCPP)           AB1204944;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.TH_Schedule_Kill_Shift);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Dlt Eval Trans UPL    DL) TYPE(DLTOBJ) FILE(PKCPCPP)           AB1135113;
 PARAMETER(DB1.EA_Company_Number);
 PARAMETER(DB1.EA_Kill_Date);
 PARAMETER(DB1.EA_Scale_Sequence_Number);
}


EXECUTE FUNCTION(Utl Hot Scl Upl Init  RT) TYPE(RTVOBJ) FILE(PKBSCPP)           AB1216851;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.TH_Schedule_Kill_Shift);
{
 //?USER: Process Data record

 CASE;

 // IF DB1.LT Type Code is Carcass Loss
 IF DB1.LT_Type_Code = 02;

 // IF *OTHERWISE
 IF *OTHERWISE;

 EXECUTE FUNCTION(Dlt Loss Transaction  DO) TYPE(DLTOBJ) FILE(PKBSCPP)           AB1102907;
 PARAMETER(DB1.LTN_Company_Number);
 PARAMETER(DB1.LTN_Kill_Date);
 PARAMETER(DB1.LTN_Record_Number);
 ENDIF;

}


EXECUTE FUNCTION(Utl Hot Scl Upl Init  RT) TYPE(RTVOBJ) FILE(PKCQCPP)           AB1221264;
PARAMETER(PAR.BOH_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.TH_Schedule_Kill_Shift);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Delete Eval Trans Invalid) TYPE(DLTOBJ) FILE(PKCQCPP)          AB1135418;
 PARAMETER(DB1.EB_Company_Number);
 PARAMETER(DB1.EB_Kill_Date);
 PARAMETER(DB1.EB_Scale_Sequence_Number);
}


