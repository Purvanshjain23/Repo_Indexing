/********************************************************************/
/*                                                                  */
/*  SYNOPSIS - PRINT PROGRAM FOR MANIFEST & BILL OF LADING          */
/*           - THIS PROGRAM IS CALLED FROM INVENTORY TRANSFER       */
/*                                                                  */
/*                                                                  */
/*  COMPANY   - SEABOARD CORP.                                      */
/*  SYSTEM    - IDeAS/400 ORDER PROCESSING                          */
/*  USER NAME - DON MCINTYRE                                        */
/*  DATE      - 06/25/93                                            */
/*                                                                  */
/*      PARAMETERS RECEIVED:                                        */
/*                                                                  */
/********************************************************************/

 OPBLPCLP:   PGM        PARM(&COMPL &OUTQ1 &HOLD &SAVE &COPY1L +
                             &RTYPE &ITEML &BATCHL &WHSE +
                             &WHSE2 &DATEL)

        DCL     &COMPL       *DEC
        DCL     &COMP        *DEC     (3 0)      /*  COMPANY #  */
        DCL     &DATEL       *DEC
        DCL     &DATE        *DEC     (7 0)      /*  DATE       */
        DCL     &BATCHL      *DEC
        DCL     &BATCH       *DEC     (7 0)      /* TRAN BATCH # */
        DCL     &ITEML       *DEC
        DCL     &ITEM        *DEC     (7 0)      /*  ITEM #     */
        DCL     &WHSE        *CHAR    3
        DCL     &WHSE2       *CHAR    3
        DCL     &COPY1L      *DEC
        DCL     &COPY1       *DEC     (3 0)      /*  COPY-REGISTER */
        DCL     &OUTQ1       *CHAR    10        /*  OUTPUT Q    */
        DCL     &HOLD        *CHAR    4      /*  HOLD         */
        DCL     &SAVE        *CHAR    4      /*  SAVE         */
        DCL     &PGM         *CHAR    10     /*  PGM NAME    */
        DCL     &PGMO        *CHAR    10     /*  PRINT FILE  */
        DCL     &COMPA       *CHAR    3      /*  COMP ALPHA   */
        DCL     &FTYPE       *CHAR    16     /*  FORMS TYPE MSG */
        DCL     &RETURN      *CHAR    7
        DCL     &RTYPE       *CHAR    1

/********************************************************************/
/* load Company                                                     */
/********************************************************************/
             CHGVAR     VAR(&COMP) VALUE(&COMPL)
             CHGVAR     VAR(&COMPA) VALUE(&COMP)
             CHGVAR     VAR(&DATE) VALUE(&DATEL)
             CHGVAR     VAR(&ITEM) VALUE(&ITEML)
             CHGVAR     VAR(&BATCH) VALUE(&BATCHL)

/********************************************************************/
/* Build printer File Name for Override                             */
/********************************************************************/
             CHGVAR     VAR(&PGM) VALUE('PDONPFR')
             CHGVAR     VAR(&PGMO) VALUE('PDONPFR$')

             IF         (&RTYPE *EQ 'G') THEN(DO)
             CHGVAR     VAR(&FTYPE) VALUE(' Print B.O.L.')
             ENDDO
             IF         (&RTYPE *EQ 'R') THEN(DO)
             CHGVAR     VAR(&FTYPE) VALUE('RePrint B.O.L. ')
             ENDDO

             CHGVAR     VAR(&COPY1) VALUE(&COPY1L)

/********************************************************************/
/* Build printer File Name for Override                             */
/********************************************************************/
             IF         (&RTYPE *EQ 'G') THEN(DO)
             CHGVAR     VAR(&FTYPE) VALUE('   Print B.O.L. ')
             ENDDO
             IF         (&RTYPE *EQ 'R') THEN(DO)
             CHGVAR     VAR(&FTYPE) VALUE(' RePrint B.O.L. ')
             ENDDO

/********************************************************************/
/* Override printer file for forms - Bill of Lading                 */
/********************************************************************/
             OVRPRTF    FILE(&PGMO) OUTQ(&OUTQ1) COPIES(&COPY1) +
                          HOLD(&HOLD) SAVE(&SAVE)

/*********************************************************************/
/*   Call Bill of Lading  Print Program                              */
/*********************************************************************/

             CALL       PGM(&PGM) PARM(&RETURN &COMP &WHSE &DATE +
                                       &BATCH &WHSE2)

 END:        ENDPGM
