// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PVAWXFR
// ?Date: 14.08.2025 Time: 03:51:49
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(RTV Highest Seq for SurRT) TYPE(RTVOBJ) FILE(PUC5CPP)          AC2216887;
PARAMETER(PAR.Surrogate_Number);
PARAMETER(PAR.Sequence_Number);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 //?**  Get highest number and quit.
 // PAR.Sequence Number = DB1.Sequence Number
 PAR.Sequence_Number = DB1.Sequence_Number;

 QUIT;

}


// PAR.Sequence Number = PAR.Sequence Number + CON.1
PAR.Sequence_Number = PAR.Sequence_Number + 1;

EXECUTE FUNCTION(Crt Block Order Errors CR) TYPE(CRTOBJ) FILE(PUC5CPP)          AC2212481;
PARAMETER(PAR.Surrogate_Number);
PARAMETER(PAR.Sequence_Number);
PARAMETER(PAR.Order_Number);
PARAMETER(PAR.BOE_Error_Reason);
PARAMETER(PAR.BOE_Error_Comment);

