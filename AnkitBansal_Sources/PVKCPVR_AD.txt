// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PVKCPVR
// ?Date: 14.08.2025 Time: 03:52:22
// ?------------------------------------------------------------------------------------------------

//?USER: Validate fields

EXECUTE FUNCTION(zzz rtvobj all) TYPE(RTVOBJ) FILE(PPBUREP)                     AC2241488;
PARAMETER(DTL.PFS_Company_Number);
PARAMETER(DTL.PFS_Interface_Code);
PARAMETER(DTL.PFS_Interface_Desc);

//?USER: User defined action

CASE;

// IF DTL.*CMD key is CF07
IF DTL.*CMD_key = '07';

EXECUTE FUNCTION(ZZz Rtv Upd PFS Interface) TYPE(RTVOBJ) FILE(PPBUREP)          AC2241473;
PARAMETER(DTL.PFS_Company_Number);
PARAMETER(DTL.PFS_Interface_Code);
{
 //?USER: Process Data record

 // LCL.PFS Interface Desc = CONCAT(CON.'Ank',DB1.PFS Interface Desc,CON.1)
 LCL.PFS_Interface_Desc = ''Ank'' + DB1.PFS_Interface_Desc (1);

 EXECUTE FUNCTION(Change PFS Interface) TYPE(CHGOBJ) FILE(PPBUREP)               AC1740326;
 PARAMETER(DB1.PFS_Company_Number);
 PARAMETER(DB1.PFS_Interface_Code);
 PARAMETER(LCL.PFS_Interface_Desc);
 PARAMETER(DB1.PFS_AccuSort_Active);
 PARAMETER(DB1.PFS_Carlisle_Active);
 PARAMETER(DB1.PFS_Last_Update_Date);
 PARAMETER(DB1.PFS_Last_Update_Time);
 PARAMETER(DB1.PFS_Hours_Between_Cllctns);
 PARAMETER(DB1.PFS_Minutes_Btwn_Cllctns);
 PARAMETER(DB1.PFS_Shift_Uploaded);
 PARAMETER(DB1.PFS_Int_Unused_Sts_1);
 PARAMETER(DB1.PFS_Int_Unused_Sts_2);
 PARAMETER(DB1.PFS_Record_Status);
 PARAMETER(DB1.PFS_Process_Status);
 PARAMETER(DB1.PFS_Error_Reason);
 PARAMETER(DB1.PFS_Create_Date);
 PARAMETER(DB1.PFS_Create_Time);
 PARAMETER(DB1.PFS_Change_Date);
 PARAMETER(DB1.PFS_Change_Time);
}


ENDIF;

