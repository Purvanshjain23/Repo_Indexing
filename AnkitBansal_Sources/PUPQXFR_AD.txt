// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUPQXFR
// ?Date: 14.08.2025 Time: 03:51:06
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?**************************************************************************
//?** PR1 Parms Represent Old Record Fields (Will be blank for Insert).
//?** PR2 Parms Represent New Record Fields (Will be blank for Delete).
//?**************************************************************************
//?Trigger Processing for Insert Event.
CASE;

// IF PR3.TRG Database Event is Insert
IF PR3.TRG_Database_Event = '1';

EXECUTE FUNCTION(Crt Ord Dtl Schd-InvTRGCR) TYPE(CRTOBJ) FILE(PUBVCPP)          AC2182296;
PARAMETER(PR2.Company_Number);
PARAMETER(PR2.Order_Number);
PARAMETER(PR2.Order_Sequence_Number);
PARAMETER(PR2.Order_Secondary_Line_Seq);
PARAMETER(PR2.OD_Production_Date);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.ODSI_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

//?Trigger Processing for Update Event.
CASE;

// IF PR3.TRG Database Event is Update
IF PR3.TRG_Database_Event = '3';

//?Update If Any Non-Key Fields Have Changed.
CASE;

// IF PR1.Scheduled Ship Date NE PR2.Scheduled Ship Date
IF PR1.Scheduled_Ship_Date <> PR2.Scheduled_Ship_Date;

// OR PR1.Warehouse Code NE PR2.Warehouse Code
OR PR1.Warehouse_Code <> PR2.Warehouse_Code;

// OR PR1.Item Code NE PR2.Item Code
OR PR1.Item_Code <> PR2.Item_Code;

// OR PR1.OD Quantity Inv Sched NE PR2.OD Quantity Inv Sched
OR PR1.OD_Quantity_Inv_Sched <> PR2.OD_Quantity_Inv_Sched;

// OR PR1.OD Weight Inv Sched NE PR2.OD Weight Inv Sched
OR PR1.OD_Weight_Inv_Sched <> PR2.OD_Weight_Inv_Sched;

// OR PR1.EDI Status 1 NE PR2.EDI Status 1
OR PR1.EDI_Status_1 <> PR2.EDI_Status_1;

// OR PR1.EDI Status 2 NE PR2.EDI Status 2
OR PR1.EDI_Status_2 <> PR2.EDI_Status_2;

// OR PR1.EDI Status 3 NE PR2.EDI Status 3
OR PR1.EDI_Status_3 <> PR2.EDI_Status_3;

// OR PR1.Record Status NE PR2.Record Status
OR PR1.Record_Status <> PR2.Record_Status;

EXECUTE FUNCTION(Crt Ord Dtl Schd-InvTRGCR) TYPE(CRTOBJ) FILE(PUBVCPP)          AC2182296;
PARAMETER(PR2.Company_Number);
PARAMETER(PR2.Order_Number);
PARAMETER(PR2.Order_Sequence_Number);
PARAMETER(PR2.Order_Secondary_Line_Seq);
PARAMETER(PR2.OD_Production_Date);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.ODSI_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

ENDIF;

//?Trigger Processing for Delete Event.
CASE;

// IF PR3.TRG Database Event is Delete
IF PR3.TRG_Database_Event = '2';

EXECUTE FUNCTION(Crt Ord Dtl Schd-InvTRGCR) TYPE(CRTOBJ) FILE(PUBVCPP)          AC2182296;
PARAMETER(PR1.Company_Number);
PARAMETER(PR1.Order_Number);
PARAMETER(PR1.Order_Sequence_Number);
PARAMETER(PR1.Order_Secondary_Line_Seq);
PARAMETER(PR1.OD_Production_Date);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.ODSI_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

