// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKFWXFR
// ?Date: 14.08.2025 Time: 02:51:35
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and Comments
DO;

//?H16853 ISE 11/09/2020 - Recompiled due to change in Buy Order Number
ENDDO;

EXECUTE FUNCTION(ZZRtv/Chg Paym sts ALL RT) TYPE(RTVOBJ) FILE(PKCDCPP)          AB1186855;
{
 //?USER: Process Data record

 // WRK.TH Payment Sts = WRK.Blank USR
 WRK.TH_Payment_Sts = WRK.Blank_USR;

 EXECUTE FUNCTION(RTV Tattoo Record     RT) TYPE(RTVOBJ) FILE(PKA1CPP)           AB1111223;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(WRK.TH_Purchase_Date);
 PARAMETER(WRK.TH_Group_Reference);
 PARAMETER(WRK.TH_Live_Purchase_UOM);
 PARAMETER(WRK.TH_Live_Purchase_Price);
 PARAMETER(WRK.TH_Resale_UOM);
 PARAMETER(WRK.TH_Recalc_Live_Wgt_Yld);
 PARAMETER(WRK.TH_Pricing_Date);
 PARAMETER(WRK.TH_Resale_Spread_Sts);
 PARAMETER(WRK.TH_Dead_On_Arrival);
 PARAMETER(WRK.TH_Head_Received);
 PARAMETER(WRK.TH_Yard_Deads);
 PARAMETER(WRK.TH_Held_Over);
 PARAMETER(WRK.TH_Head_Condemned);
 PARAMETER(WRK.TH_Head_Killed);
 PARAMETER(WRK.TH_Head_Adds);
 PARAMETER(WRK.TH_Head_Accepted);
 PARAMETER(WRK.TH_Live_Wgt);
 PARAMETER(WRK.TH_Hot_Wgt);
 PARAMETER(WRK.TH_Tot_Loin_Eye_Depth);
 PARAMETER(WRK.TH_Tot_Backfat_Inches);
 PARAMETER(WRK.TH_Tot_Light_Reflectance);
 PARAMETER(WRK.TH_Avg_Live_Wgt);
 PARAMETER(WRK.TH_Avg_Hot_Wgt);
 PARAMETER(WRK.TH_Avg_Light_Reflectance);
 PARAMETER(WRK.TH_Avg_Lean_Percent);
 PARAMETER(WRK.TH_Avg_Loin_Eye_Depth);
 PARAMETER(WRK.TH_Avg_Backfat);
 PARAMETER(WRK.TH_Std_Yield_Percent);
 PARAMETER(WRK.TH_Actual_Yield);
 PARAMETER(WRK.TH_Yield_Difference);
 PARAMETER(WRK.TH_Recalc_Live_Wgt);
 PARAMETER(WRK.TH_CM_Base_Mkt_Price);
 PARAMETER(WRK.TH_CM_Base_Mkt_Price_Amt);
 PARAMETER(WRK.TH_CM_Sort_Discount_Amt);
 PARAMETER(WRK.TH_CM_Yield_Gain_Loss_Amt);
 PARAMETER(WRK.TH_CM_Base_Carcass_Value);
 PARAMETER(WRK.TH_CM_LN_AddOn_Deduct_Amt);
 PARAMETER(WRK.TH_CM_Carcass_Gross_Amt);
 PARAMETER(WRK.TH_Deduction_Amt);
 PARAMETER(WRK.TH_Total_Net_WO_Adds);
 PARAMETER(WRK.TH_Carcass_Net_Amt);
 PARAMETER(WRK.TH_Additions_Amt);
 PARAMETER(WRK.TH_Accrual_Amount);
 PARAMETER(WRK.TH_Fixed_Cost_Amount);
 PARAMETER(WRK.TH_Payment_Sts);
 PARAMETER(WRK.TH_Header_Error_Sts);
 PARAMETER(WRK.TH_Detail_Error_Sts);
 PARAMETER(WRK.TH_Kill_Balancing_Sts);
 PARAMETER(WRK.TH_Bal_to_Kill_Gen);
 PARAMETER(WRK.TH_Commission_A_P_Voucher);
 PARAMETER(WRK.TH_Voucher_Payment_Date);
 PARAMETER(WRK.TH_User_Error_Override);
 PARAMETER(WRK.TH_Held_Over_Record);
 PARAMETER(WRK.TH_Sex);
 PARAMETER(WRK.TH_Held_Ovr_Completed_Dte);
 PARAMETER(WRK.TH_Commission_Paid_Date);
 PARAMETER(WRK.TH_Actual_Check_Date);
 PARAMETER(WRK.TH_Shipped_Weight);
 PARAMETER(WRK.TH_Avg_Hot_Wgt_EXC_ADD);
 PARAMETER(WRK.TH_FFLI);
 PARAMETER(WRK.TH_Kill_Product_Value);
 PARAMETER(WRK.TH_Cut_Product_Value);
 PARAMETER(WRK.TH_Render_Product_Value);
 PARAMETER(WRK.TH_Shift_Held_Over_Head);
 PARAMETER(WRK.DF_Defect_Code);
 PARAMETER(WRK.THP_Process_Code);
 PARAMETER(WRK.HB_Buyer_Code);
 PARAMETER(WRK.GN_Genetic_Code);
 PARAMETER(WRK.HC_Class_Code);
 {
  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 EXECUTE FUNCTION(Change Tattoo Deduction) TYPE(CHGOBJ) FILE(PKCDCPP)            AB1107818;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.DED_D_A_Code);
 PARAMETER(DB1.THD_Ded_Add_Amount);
 PARAMETER(DB1.THD_Ded_Add_Amount);
 PARAMETER(DB1.THD_Unit_Amt_Sign);
 PARAMETER(DB1.THD_UOM);
 PARAMETER(DB1.THD_Transaction_Created);
 PARAMETER(DB1.THD_GL_Code);
 PARAMETER(DB1.THD_Contra_Gl_Code);
 PARAMETER(DB1.THD_Re_imbursement_Head);
 PARAMETER(WRK.TH_Payment_Sts);
 PARAMETER(DB1.THD_Expense_Paid_by);
 PARAMETER(DB1.THD_Expense_Type);
 PARAMETER(DB1.THD_Reserve_Account_Upd);
 PARAMETER(DB1.THD_Commission_Deduction);
 PARAMETER(DB1.THD_Deferred_Payment);
 PARAMETER(DB1.THD_Status_4);
 PARAMETER(DB1.THD_Status_5);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

}


