// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLP2PVR
// ?Date: 14.08.2025 Time: 02:55:05
// ?------------------------------------------------------------------------------------------------

//?USER: User defined action

CASE;

// IF DTL.EDI Trading Partner # GT WRK.Zero USR
IF DTL.EDI_Trading_Partner_# > WRK.Zero_USR;

// AND DTL.Recreate EDI Files Usr is Recreate Yes
AND DTL.Recreate_EDI_Files_Usr = 'S'/'R';

//?    By Company & Date & EDI Trading number
//?** Create the EDI CARCASS SUMMARY & CARCASS DETAIL & PRODUCER EVENT
// Call program Zzz EDI CarcSumDtl/TRDXF.
CALL PROGRAM(Zzz EDI CarcSumDtl/TRDXF) ('PLP3XFR');
PARAMETER(DTL.CC_Company_Number);
PARAMETER(DTL.Current_Kill_Date);
PARAMETER(DTL.Recreate_EDI_Files_Usr);
PARAMETER(DTL.EDI_Trading_Partner_#);

ENDIF;

CASE;

// IF DTL.Recreate EDI Files Usr is Send out the Files
IF DTL.Recreate_EDI_Files_Usr = 'S'/'O';

// Call program Zzzment ProdPostEdiSDDTXF.
CALL PROGRAM(Zzzment ProdPostEdiSDDTXF) ('PLP4XFR');
PARAMETER(DTL.CC_Company_Number);
PARAMETER(DTL.Current_Kill_Date);
PARAMETER(LCL.Oms_System_Value_Alpha);
PARAMETER(LCL.PRT_Printer_Device);
PARAMETER(LCL.PRT_Hold_Output_Sts);
PARAMETER(LCL.PRT_Save_Output_Sts);
PARAMETER(LCL.PRT_Copies);
PARAMETER(DTL.EDI_Trading_Partner_#);

ENDIF;

