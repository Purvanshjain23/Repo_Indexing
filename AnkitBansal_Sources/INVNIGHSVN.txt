/********************************************************************/
/*                                                                  */
/*  SYNOPSIS - CL PROGRAM TO BE RUN AT NIGHT                        */
/*                PRINT PHYSICAL TO BOOK REPORT FOR WHSE GF1        */
/*                PRINT PHYSICAL TO BOOK REPORT FOR WHSE GP1        */
/*                POST PHYSICAL FOR WHSE GF1                        */
/*                POST PHYSICAL FOR WHSE GP1                        */
/*                PRINT AGED INVENTORY REPORT FOR WHSE GF1          */
/*                PRINT AGED INVENTORY REPORT FOR WHSE GP1          */
/*                CALL CL TO BULD THE SCHEDULE                      */
/*                                                                  */
/*  SYSTEM    - INVENTORY MANAGEMENT                                */
/*  DATE      -  8/01/96                                            */
/*                                                                  */
/*------------------------------------------------------------------*/
/* REPORTS/PROCESS (AS OF 06/23/00)                                 */
/*------------------------------------------------------------------*/
/* STS:  "A"CTIVE; "C"OMMENTED OUT                                  */
/*                                                                  */
/* STS REPORT/PROCESS       WHS PRINTER     DATE OR DATE RANGE      */
/* --- -------------------- --- ----------  ----------------------- */
/* A   PHYSICAL TO BOOK     GP1 GUPPRT131   *NONE  &OUTQ1           */
/* A   PHYSICAL TO BOOK     GF1 GUPPRT131   *NONE  &OUTQ1           */
/* C   POST PHYSICAL        GF1             *NONE                   */
/* C   POST PHYSICAL        GP1             *NONE                   */
/* C   AGED INVENTORY       GF1 GUPPRT131   *NONE  &OUTQ1           */
/* A   AGED INVENTORY       GP1 GUPPRT131   *NONE  &OUTQ1           */
/* C   AGED INVENTORY       GF1 PRKPRT03    *NONE  &OUTQ3           */
/* C   AGED INVENTORY       GP1 PRKPRT03    *NONE  &OUTQ3           */
/* A   BUILD PROD SCHED     --- --------    *NONE                   */
/* C   PA (DAY REPORT)      GP1 PRKPRT05    CURRENT DATE &OUTQ5     */
/* C   PA (DAY REPORT)      GF1 PRKPRT05    CURRENT DATE &OUTQ5     */
/* C   PA (DAY REPORT)      FS1 PRKPRT05    CURRENT DATE &OUTQ5     */
/* C   PA (DAY REPORT)      AM1 PRKPRT05    CURRENT DATE &OUTQ5     */
/* A   PA DETAIL            GP1 PRKPRT05    *NONE        &OUTQ5     */
/* A   WHS INV/ORD COMP     GP1 PRKPRT05    06/23/00-06/24/00       */
/* A   FREEZER INVENTORY    CF1 PRKPRT03    06/23/00-06/29/00 8:05A */
/* A   FREEZER INVENTORY    CFH PRKPRT03    06/23/00-06/29/00 8:05A */
/* A   FREEZER INVENTORY    CF1 GUPPRT131   06/23/00-06/29/00 8:05A */
/* A   FREEZER INVENTORY    CF2 GUPPRT131   06/23/00-06/29/00 8:05A */
/* A   PRODUCTION SCHEDULE  GP1 PRKPRT05    CURRENT DATE            */
/* A   LOAD LIST            --- GUPPRT131   CURRENT DATE            */
/* A   LOAD LIST            --- GUPPRT131   PRIOR DATE              */
/* A   WHS INV/ORD COMP     GP1 GUPPRT131   06/22/00-06/25/00       */
/* A   WHS INV/ORD COMP     CF1 GUPPRT131   06/22/00-06/25/00       */
/* A   ORDER STATUS         CF1 GUPPRT131   *NONE                   */
/* A   DAILY HOLDOVER       --- GUPPRT131   PRIOR DAY               */
/* A   TRANS JRNL - ADJ     GP1 GUPPRT131   PRIOR DAY               */
/* A   TRANS JRNL - ADJ     CF1 GUPPRT131   PRIOR DAY               */
/* A   TRANS JRNL - ADJ     CF2 GUPPRT131   PRIOR DAY               */
/* A   TRANS JRNL - ADJ     CFH GUPPRT131   PRIOR DAY               */
/*                                                                  */
/*------------------------------------------------------------------*/
/* MAINTENANCE LOG                                                  */
/*------------------------------------------------------------------*/
/*  MODIFIED:   P. DROGE          02/27/03                          */
/*             1)CHANGED THE PRINT OF THE PRODUCTION SCHEDULE TO    */
/*               PRINT ON PRKPRT05 WITH 2 COPIES INSTEAD OF QPRINT2.*/
/*               THE REPORT WILL ALSO BE SAVED.                     */
/*             2)ADDED PRINT OVERRIDE FOR SHIP OFF CUT REPORT PRIOR */
/*               TO BUILDING THE SCHEDULE.                          */
/*  MODIFIED:   P. DROGE          04/14/03                          */
/*             1)ADDED PROGRAM TO CALCULATE THE BONING RAGE PRIOR   */
/*               TO BUILDING THE PRODUCTION SCHEDULE.               */
/*  MODIFIED:   P. DROGE          04/30/03                          */
/*               ADDED FREEZER INVENTORY THAT PRINTS QUANTITY OF    */
/*               LESS THAN OR EQAUL TO 25.    (HIT LIST)           */
/*  MODIFIED:   R. CENTONZE       06/05/03                          */
/*               ADDED 2 TIME PARMS TO CALL OF PDX9CLP AS 0.00000   */
/*  MODIFIED:   R. CENTONZE       08/29/03                          */
/*               PRINT HIT LIST ON MON/WED/FRI ONLY PER BRIAN TAPHORN */
/*  MODIFIED:   R. CENTONZE       09/05/03                          */
/*               BUILD EXPORT ORDER TOTAL FOR THE WEEK - POYXXFR     */
/*  MODIFIED:   P. DROGE          07/07/04                          */
/*               CHANGED THE NUMBER OF COPIES FROM 10 TO 7 FOR       */
/*  MODIFIED:   P. DROGE          07/26/04                          */
/*               PRODUCTION SCHEDULE                                 */
/*               1)  CHANGE TO PRINT COMMENTS                        */
/*               2)  PRINT 1 COPY AT GUPPRT111                       */
/*               3)  PRINT 1 COPY AT GUPPRT240                       */
/*               3)  PRINT 3 COPY AT PRKPRT05                        */
/*  MODIFIED:   P. DROGE          11/12/04                           */
/*               ADDED THE FOLLOWING REPORTS                         */
/*               1)  FREEZER INVENTORY REPORT FOR CH2                */
/*               2)  ADJUSTMENTS TRANSACTION JOURNAL FOR GP1         */
/*               3)  ADJUSTMENTS TRANSACTION JOURNAL FOR CF1         */
/*               4)  ADJUSTMENTS TRANSACTION JOURNAL FOR CF2         */
/*               5)  ADJUSTMENTS TRANSACTION JOURNAL FOR CFH         */
/*  MODIFIED:   S. MASON          08/01/05                           */
/*               ADD THE AGE CODE FOR THE CL PDPWUPC                 */
/*               ALSO ADDED COMMENTS FOR THE CF1 CF2 ETC             */
/*  MODIFIED:   S. MASON          08/02/05                           */
/*               THE FRG INVENTORY REPORTS - PDPWUPC                 */
/*               CF1 WILL BE CF1 AND H                               */
/*               CFH WILL BE CF1 AND I                               */
/*               * OUT THE REQUEST FOR CF2 BECAUSE CF1  AND H        */
/*               WILL CAPTURE THIS INFORMATION.                      */
/*  MODIFIED:   S. MASON          08/02/05                           */
/*               THE FOL AGE CODE FOR THE CL PDPWUPC                 */
/*               ALSO ADDED COMMENTS FOR THE CF1 CF2 ETC             */
/*  MODIFIED:   P. DROGE          09/13/05                           */
/*               SAVE INVENTORY REPORTS AFTER THEY PRINT             */
/*  MODIFIED:   P. DROGE          10/20/05                           */
/*               ADDED DIW PA GROUP PA DETAIL REPORT FOR DEWEY       */
/*  MODIFIED:   R. CENTONZE       11/10/05                           */
/*               ADDED SUMMARY PARM TO PRINT LOC LOC TRANS PGM PDTQXFR  */
/*  MODIFIED:   R. CENTONZE       02/02/06                           */
/*               ADDED COMP PARM TO CALL PDC5XFR                     */
/*  MODIFIED:   L. BUSER          03/02/06   T00006                  */
/*               HOLD REPORTS GOING TO PRKPRT05                      */
/*  MODIFIED:   R  CENTONZE       03/15/0                            */
/*               CALL PGM(PPTDXFR) PARM(' ' 'N' 'GP1') TO 0 NEG VALUES */
/*  MODIFIED:   L. BUSER          03/23/06   T070                    */
/*               HOLD SELECTED REPORTS GOING TO PRKPRT05             */
/*  MODIFIED:   S. MASON          04/13/06   T060                    */
/*               PASS PARMS FOR REPORT SELECTION                     */
/*  MODIFIED:   RMC               04/18/06                           */
/*               ON CALL TO PDOIPCLP - PARM BEFORE 'CF1' WAS MISSING */
/*               S/B NUMERIC COMPANY NUMBER   4/19/06                */
/*  MODIFIED:   RMC               08/18/06                           */
/*             1.* OUT THE REQUEST FOR CF2. IT WASNT ACTUALLY DONE   */
/*               ON 8/02/5  LIKE IT SAYS.                            */
/*             2.RUN PDSAPFR WITH ' ' AGE CODE TOO, PER TERRY W ON   */
/*               PRKPRT03                                            */
/*             3. SKIP HIT LIST CODE ALWAYS, PER TERRY W, DEWEY W    */
/*  MODIFIED:   RMC               08/28/06                           */
/*             1. SKIP FREEZER REPORTS ON SAT AND SUNDAY: TAG SKIPFZ */
/*  MODIFIED:   RMC               08/31/06                           */
/*             RUN PDPDCLP FOR PRIOR DATE AND RUN FOR GP1            */
/*              PER JIM NORRIS:                           TAG RMC0831*/
/*  MODIFIED:   LJB               10/04/2006                         */
/*             ADD PRINT STATUS FLAG = "N" TO PDPDCLP                */
/*                                                        TAG L61002C*/
/*  MODIFIED:   RMC               01/30/07                          */
/*               ADDED REPORT TYPE(DAILY/WEEKLY) PARM- PASS TO PDRPPFR  */
/*               FROM PDM9UPC  -- FOR 360 ALWAYS SET &DAYWK='1'        */
/*  MODIFIED:   RMC   02/13/07 RPT POGDPFR TODAYS PA -  CHG 10 TO 11 COPIES */
/*                    (CALLED BY CL POGFUPC)                            */
/*  MODIFIED: LJB 02/27/07  L70125A - PDRCCLP, INVENTORY TRANSACTION */
/*                JOURNAL, ADDED ZERO QUANTITY = N PARM              */
/*                                                                   */
/*  MODIFIED: SLM 05/23/07  DLY029 - PDRZCLP PASS AGEING CODE        */
/*            IF COMPANY 360 PURVA HAS REQUESTED 1 DAY TO AGE        */
/*            &AGEDAYS                                               */
/*  MODIFIED: RMC 09/25/07  DLY029 - PDPDCLP-  PRICE MTH PARM BEFORE OUTQ */
/*  MODIFIED: LJB 04/22/08  FP1235 - ADD EMAIL PARM AS BLANKS TO     */
/*                PRODUCTION SCHEDULE REPORT-PDSJUPR                 */
/*  MODIFIED: PKD 08/21/2008 S00415 PRINT 1 COPY OF TODAY'S PA       */
/*               REPORT AND PLACE IT ON HOLD.                        */
/*  MODIFIED: RMC 10/20/2008 S00524                                  */
/*               PRINT PA GROUP 600 REPORTS FIRST FEW PAGES FOR DAMON  */
/*  MODIFIED: SLM 11/10/08  E00243 - Add the processing of the       */
/*                Belly & Trim report AT PRODUCTION SCHEDULE SECTION */
/*                Add the two new process for the Belly & Trim       */
/*                production schedule reports                        */
/*  MODIFIED: SLM 11/21/08  E00243 - Allow new belly & trim report   */
/*                to go ahead and print                              */
/*  MODIFIED: RMC 11/24/2008 S00524                                  */
/*               PDX9CLP PARMS WERE CHANGED IN OCT 2008 -- I CHANGED */
/*               THE CALL HERE SO IT WOULD WORK  (E00243)            */
/*  MODIFIED: SLM 12/01/08  E00243 - Add the value of E for email    */
/*                on the Belly & Trim reports.                       */
/*  MODIFIED: SLM 12/11/08  E00298 - Pass in the new Hold Over parm  */
/*                daily production schedule send in blank            */
/*                trim and belly send in 'Y' FOR yes print hold      */
/*                over                                               */
/*  MODIFIED: SLM 12/25/08  E00298 - Place in the afternoon run      */
/*                of the bellys and trim but only pass in the        */
/*                company select of T for Triumph Foods, or G for    */
/*                schedule reports, user IS not USING report        */
/*                Meeting with Steve Burk & Rose on 2/20/09          */
/* MODIFIED:  RMC 3/04/09 FP1054  REMOVED OLD COMMENTED CODE;    */
/*                        SKIP BUILD SCHEDULE PROCESS -- ITS DONE IN   +
/*                        INVBUILDPS FOR BOTH PLANTS NOW.           */
/*                        SCAN:    SKIPSCHED                            */
/*                6/01/09 ADDED EMAIL PARM ' ' TO CALL PDRCCLP      */
/*                6/01/09 CHG  PDJSUPR TO CALL PMFAPFR INSTEAD OF             */
/*                        PDRUPFR; ADD CALL TO EMAIL THE REPORT TO SCHEDULING */
/*    &OUTQ1 = PLANT OUTPUT QUEUE -- CURRENTLY GUPPRT131 IN PRODUCTION */
/*    &OUTQ3 = SALES OUTPUT QUEUE -- CURRENTLY PRKPRT03  IN PRODUCTION */
/*    &OUTQ5 = SCHED OUTPUT QUEUE -- CURRENTLY PRKPRT05  IN PRODUCTION */
/* MODIFIED:  RMC 7/09/09 FP1054  PRINT PROD SCHEDULE FIRST- CONDITION ON   +
              CURRENT DAY'S  PRODUCTION DAY STATUS BEING = "Y"         */
/* MODIFIED:  RMC 7/09/09 FP1054   CHG TO PRINT ALL AGE CODES PER JIM NORRIS */
/*            FOR CF1 FREEZER REPORT PDSAPFR:  SCAN: RC1001A                  */
/* MODIFIED:  PKD 09/03/09 E00488 ADDED DISTRIBUTION OF ORDER STATUS REPORT  */
/* MODIFIED:  RMC 10/21/11 E1773  ADDED &AVAILG TO PDRZCLP CALL              */
/* MODIFIED:  RMC 12/05/11 E1819  ADDED PARM TO PDJSUPR - &SUMBOX -PRINT   */
/*     SUMMARY BOX ON REPORT BUT DOESNT APPLY TO RPT TYPES CALLED FROM HERE  */
/*********************************************************************/
 INVNIGHTRN: PGM

             DCL        &COMP       *DEC     3 0
             DCL        VAR(&COMPSEL) TYPE(*CHAR) LEN(1) VALUE('G')
             DCL        &CYCLE      *CHAR    3
             DCL        VAR(&DAYWK) TYPE(*CHAR) LEN(1)
             DCL        &PRTZR      *CHAR    1
             DCL        &PRTTD      *CHAR    1
             DCL        &OUTQ       *CHAR    10
             DCL        &HOLD       *CHAR    4
             DCL        &SAVE       *CHAR    4
             DCL        &COPY       *DEC     2 0
             DCL        &COMMAND    *CHAR    512
             DCL        &ITEMTP     *CHAR    3   /* ITEM TYPE    */
             DCL        &ITEMLV     *CHAR    2   /* ITEM LEVEL   */
             DCL        &QLTYLV     *CHAR    2   /* QUALITY LEVEL*/
             DCL        &ITMTYP     *DEC     LEN(3 0)
             DCL        &ITMGRP     *DEC     LEN(3 0)
             DCL        &ITMCLS     *DEC     LEN(3 0)
             DCL        &COMPA      *CHAR    3  /* CO. # FOR MSG */
             DCL        &ITEM       *DEC     7  0 /* ITEM FOR QRY  */
             DCL        &WHSE       *CHAR    3  /* WAREHOUSE     */
             DCL        &AGE        *CHAR    1  /* AGE CODE      */
             DCL        &AGEDAYS    *DEC     /* No. of DAYS      */
             DCL        &AVAILG     *CHAR    3  /* AVAIL GROUP   */
             DCL        &A          *CHAR    25 /* QRY SELECT    */
             DCL        &B          *CHAR    35 /* QRY SELECT    */
             DCL        &G          *CHAR   200 /* QRY SELECT    */
             DCL        &RETURN     *CHAR   7
             DCL        &JOBDATE    *CHAR   6
             DCL        &JOBDTE     *CHAR   7
             DCL        &DATE       *CHAR   7
             DCL        &DATE2      *CHAR   7
             DCL        &DATEFRM    *DEC    7 0
             DCL        &DATETO     *DEC    7 0

             DCL        &DAYS       *DEC    3 0
             DCL        &DAYS2      *DEC    8 0
             DCL        &TDATE      *DEC
             DCL        &XTDATE     *CHAR   7
             DCL        &TDATE2     *DEC    7 0
             DCL        &PDATE      *DEC
             DCL        &XPDATE     *CHAR   7
             DCL        &PDATE2     *DEC    7 0
             DCL        VAR(&QDAY) TYPE(*CHAR) LEN(4) /* DAY OF +
                          WEEK   */
             DCL        VAR(&PRDDAY) TYPE(*CHAR)  LEN(1)  /* PRD DAY STS  */

             DCL        &DISTSCH    *CHAR    30    /* SCHED EMAIL DIST LIST */
             DCL        &DISTOD     *CHAR    30    /* ORDSTS EMAIL DIST LIST */
             DCL        &OUTQ1      *CHAR    10   /* PLANT OUTQ FOR PHYS RPTS */
             DCL        &OUTQ3      *CHAR    10   /* SALES OUTQ FOR FZR RPTS */
             DCL        &OUTQ5      *CHAR    10   /* SCHED OUT QUEUE   */
             DCL        &HOLD5      *CHAR    4
             DCL        &SAVE5      *CHAR    4
             DCL        &COPY5      *DEC     2 0
/* CREATE A HOLDNO VARIABLE TO OVERRIDE SELECT OUTQ'S FOR PRKPRT05  */
             DCL        &HOLDNO     *CHAR    4
/*------------------------------------------------------------------*/
/* CONVERT PARAMETERS TO REQUIRED SIZE FOR PRINT FUNCTION                  */
/*------------------------------------------------------------------*/
             CHGVAR     VAR(&COMP) VALUE(360)
             CHGVAR     VAR(&COMPA) VALUE(360)
             CHGVAR     VAR(&AGEDAYS) VALUE(000000000000001)
             CHGVAR     VAR(&AVAILG) VALUE('   ')
             CHGVAR     VAR(&PRTZR) VALUE(Y)
             CHGVAR     VAR(&PRTTD) VALUE(N)
   /*        CHGVAR     VAR(&OUTQ) VALUE(GUPPRT131)         */
             CHGVAR     VAR(&HOLD) VALUE(*NO)
             CHGVAR     VAR(&SAVE) VALUE(*YES)
             CHGVAR     VAR(&COPY) VALUE(1)
/*------------------------------------------------------------------*/
/* GET INVNIGHT OUTPUT QUEUES AND EMAIL DIST LIST                         */
/*------------------------------------------------------------------*/
/* GET OUTQ -- WHICH IS CURRENTLY PRKPRT05     */
 GETOUTQ5:    CALL       PGM(POMTXFR) PARM(' ' X'360F' 'INVNIGHTQ' &OUTQ5)
/* GET SALES OUTQ -- WHICH IS CURRENTLY PRKPRT03     */
 GETOUTQ3:    CALL       PGM(POMTXFR) PARM(' ' X'360F' 'INVNIGHTF' &OUTQ3)
/* GET PLANT OUTQ -- WHICH IS CURRENTLY GUPPRT131    */
 GETOUTQ1:    CALL       PGM(POMTXFR) PARM(' ' X'360F' 'INVNIGHTP' &OUTQ1)
/* GET EMAIL DIST LIST FOR SCHED REPORTS            */
 GETEMLSC:  CALL       PGM(POMTXFR) PARM(' ' X'360F' 'INVNIGHTS' &DISTSCH)
/* GET EMAIL DIST LIST FOR ORDER STATUS REPORT      */
 GETEMLOD:  CALL       PGM(POMTXFR) PARM(' ' X'360F' 'INVNIGHTOD' &DISTOD)

/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
             RTVJOBA    DATE(&JOBDATE)
             CVTDAT     DATE(&JOBDATE) TOVAR(&JOBDTE) FROMFMT(*MDY) +
                          TOFMT(*CYMD) TOSEP(*NONE)

             CHGVAR     VAR(&DATE) VALUE(&JOBDTE)
             CHGVAR     VAR(&DATEFRM) VALUE(&JOBDTE)
             CHGVAR     VAR(&DATETO) VALUE(&JOBDTE)


/*------------------------------------------------------------------*/
/*   DO THIS SECTION IF CURRENT DAY'S  PRODUCTION DAY STATUS = Y    */
/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
             CALL       PGM(PMB5XFR) PARM('' '360' &DATE &PRDDAY)

             IF         COND(&PRDDAY = 'N') THEN(GOTO CMDLBL(EVERYDAY))

/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/* PRODUCTION SCHEDULE                                              */
/*    --- CALL NEW REPORT PMFAPFR INSTEAD OF PDRUPFR   6/04/09      */
/*    --- EMAIL HAM SCHED ALSO-PDV0PFR                 6/04/09      */
/*------------------------------------------------------------------*/
 PRODS:
                CALL    PGM(PDJSUPR) PARM(' ' 'QPRINT2' '*YES' +
                          '*YES' '1' 'PMFAPFR' 'PMFAPFR$' 'P/S' +
                          '360' 'S' &DATE 'Y' 'D' 'GP1' ' ' ' ' ' ')

 HAM:        CALL       PGM(PDWKXFR) PARM('       ' X'360F' +
                          &DATEFRM    'QPRINT2   ' '*NO ' '*NO ' +
                          X'001F')

             ESNDMAIL   RECIPIENT(&DISTSCH) SUBJECT('Production +
                          Schedule') ATTLIST((* *PDF *N PMFAPFR$) +
                          (* *PDF *N PDV0PFR$))

 /* PRINT AGAIN ON &OUTQ5 (PRKPRT05)                                  */
                CALL    PGM(PDJSUPR) PARM(' ' &OUTQ5     '*YES' +
                          '*YES' '1' 'PMFAPFR' 'PMFAPFR$' 'P/S' +
                          '360' 'S' &DATE 'Y' 'D' 'GP1' ' ' ' ' ' ')
             CALL       PGM(PDWKXFR) PARM('       ' X'360F' +
                          &DATEFRM    &OUTQ5       '*NO ' '*NO ' +
                          X'001F')

/*-------------------------------------------------------------------*/
/* PRODUCTION SCHEDULE  BELLY SCHEDULE & TRIM SCHEDULE               */
/*-------------------------------------------------------------------*/

 PRODSB:     CALL       PGM(PMB2UPC) PARM(&COMPSEL)

/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/*   DO THIS SECTION EVERY DAY                                      */
/*------------------------------------------------------------------*/
EVERYDAY:
/*------------------------------------------------------------------*/
/* ZERO NEG ITEM BAL VALUES    -- MOVED HERE FROM JOB SCHEDULER 3/15/06   */
/*------------------------------------------------------------------*/
             CALL       PGM(PPTDXFR) PARM(' ' 'N' 'GP1')
             MONMSG     MSGID(CPF0000)
/*------------------------------------------------------------------*/
/* PRINT THE PHYSICAL TO BOOK REPORTS                                      */
/*------------------------------------------------------------------*/
/* CALL PRINT FUNCTION USING CONVERTED VARIABLES FOR PHYSICAL TO BOOK      */
             SBDPRTOVR  CMDVAR(&COMMAND) FILE(ICPYPFR$) +
                          OUTQ(&OUTQ1) COPIES(&COPY) HOLD(&HOLD) +
                          SAVE(&SAVE)
             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)

             SNDMSG     MSG('Print Physical to Book Reports has +
                          started for the nightly run program') +
                          TOUSR(SEABOARD)

             CALL       PGM(ICPYPFR) PARM(&RETURN &COMP 'GP1' &CYCLE +
                                          &PRTZR)

             CALL       PGM(ICPYPFR) PARM(&RETURN &COMP 'GF1' &CYCLE +
                                          &PRTZR)

             SNDMSG     MSG('Print Physical to Book Reports has +
                          completed for the nightly run program') +
                          TOUSR(SEABOARD)

/*------------------------------------------------------------------*/
/* PRINT THE AGED INVENTORY REPORTS FOR GUPPRT131                   */
/*------------------------------------------------------------------*/
             CALL       PGM(PDRZCLP) PARM('PDVBPFR' 360.00000 'GP1' +
                          0.00000 ' ' ' ' ' ' 0.00000 0.00000 +
                          0.00000 'Y' 'N' &OUTQ1      '*NO' '*YES' +
                          1.00000 '*JOBD' &AGEDAYS &AVAILG)

/*------------------------------------------------------------------*/
/*------------------------------------------------------------------*/
/* PRINT AVAILABLE TO SELL AND TODAY'S PA                           */
/*------------------------------------------------------------------*/
/* DEWEY-PA GROUP */
/* PUT REPORTS GOING TO PRKPRT05 ON HOLD               3/1/06 LJB    */
             CALL       PGM(PDSIUPR) PARM(' ' &OUTQ5     '*YES' +
                          '*YES' '1' 'PDSFPFR' 'PDSFPFR$' '360' +
                          'GP1' 'FR' &DATE 'P' '40500' 'DIW' 'N')
             MONMSG     MSGID(CPF0000)

/* TODAY'S PA                                                        */
             RTVSYSVAL  SYSVAL(QDAYOFWEEK) RTNVAR(&QDAY)
             IF         COND(&QDAY *EQ '*SUN') THEN(GOTO +
                          CMDLBL(SKIPPA))
             IF         COND(&QDAY *EQ '*SAT') THEN(GOTO SKIPPA)

/* PKD 08/21/08 PRINT 1 COPY ON HOLD                                         */

             CALL       PGM(POGFUPC) PARM(' ' &OUTQ5     '*YES' +
                          '*YES' 'OMS' X'000000000100000F' +
                    X'000000036000000F' 'ALL' 'GP1' &DATE &DATE)
  SKIPPA:

/*------------------------------------------------------------------*/
/* WAREHOUSE INVENTORY/ORDERS COMPARISON */
/*------------------------------------------------------------------*/
             CALL       PGM(PDSUXFR) PARM(' ' &COMP &DATEFRM &DATETO)
             CHGVAR     VAR(&DATE2) VALUE(&DATETO)
             CHGVAR     VAR(&DAYWK) VALUE('1')

             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ5     '*NO' +
                         '*YES' '1' 'PDRPPFR' 'PDRPPFR$' +
                         'OMS' 'ALL' 'S' '360' 'GP1' '   ' &DATE +
                         &DATE2 'S' &DAYWK)

/*------------------------------------------------------------------*/
/* FREEZER INVENTORY REPORT                                         */
/*------------------------------------------------------------------*/
/* RMC - DONT PRINT FREEZER REPORTS ON THE WEEKEND     8.28.06      */

             IF         COND(&QDAY *EQ '*SUN') THEN(GOTO +
                          CMDLBL(SKIPFZ))
             IF         COND(&QDAY *EQ '*SAT') THEN(GOTO SKIPFZ)
/**********************************************************************/
/*** CF1 AND AGE CODE = *ALL      8/18/06 ADDED BY RMC PER TERRY W   */
/**********************************************************************/
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'360F' 'CF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00000F' ' ')) +
                          JOB(FRZRINV) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'360F' 'CF1' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3       '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' ' ')) JOB(FRZRINV))

/**********************************************************************/
/*** CF1 AND AGE CODE = H                                             */
/**********************************************************************/
             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'360F' 'CF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00000F' 'H')) +
                          JOB(FRZRINV) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'360F' 'CF1' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3       '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' 'H')) JOB(FRZRINV))

/**********************************************************************/
/*** CFH CHANGED TO CF1  AND AGE CODE = I                           ***/
/**********************************************************************/
/* ADDED ON 04/20/00 BY R. CENTONZE- FREEZER INVENTORY REPORT */

             SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'360F' 'CF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00000F' 'I')) +
                          JOB(FRZRINV2) SCDTIME(080500)

             MONMSG     MSGID(CPF0000) EXEC(SBMJOB CMD(CALL +
                          PGM(PDPWUPC) PARM(X'360F' 'CF1' '0000000' +
                          ' ' ' ' ' ' ' ' 'PDSAPFR   ' 'PDSAPFR$  ' +
                          &OUTQ3       '*NO ' '*YES' X'F0F1' 'A' +
                          X'0000000F' X'00000F' 'I')) JOB(FRZRINV2))


SKIPFZ:     /* NEW TAG FOR WEEKEND SKIPPING OF FREEZER REPORTS 8/28/06 */

/**********************************************************************/
/*** CF1 AGE CODE = H   --> ALL AGES AS OF 7/16/09 PER JIM NORRIS      ***/
/**********************************************************************/
/* ADDED ON 10/01/01 BY R. CENTONZE- FREEZER INVENTORY REPORT */
/* CHG TO PRINT ALL AGE CODES PER JIM NORRIS 7/16/09       */

 RC1001A:    SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'360F' 'CF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ1       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00000F' ' ')) +
                          JOB(FRZRINV3)

/* ADDED ON 04/30/03 BY P. DROGE (HIT LIST) RUN MON/WED/FRI   */
/* *** RMC 8/18/06 SKIP HIT LIST CODE PER TERRY W AND DEWEY W   */
             GOTO       CMDLBL(LOADL)
             IF         COND(&QDAY *EQ '*SUN') THEN(GOTO PRODS)
             IF         COND(&QDAY *EQ '*TUE') THEN(GOTO PRODS)
             IF         COND(&QDAY *EQ '*THU') THEN(GOTO PRODS)
             IF         COND(&QDAY *EQ '*SAT') THEN(GOTO PRODS)

/**********************************************************************/
/*** CF1 AGE CODE H                                                 ***/
/**********************************************************************/
 PKD001A:    SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'360F' 'CF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00025F' 'H')) +
                          JOB(FRZRINV4)

/**********************************************************************/
/*** CFH  CHANGE TO CF1 AND AGE CODE = I                            ***/
/**********************************************************************/
 PKD001B:    SBMJOB     CMD(CALL PGM(PDPWUPC) PARM(X'360F' 'CF1' +
                          '0000000' ' ' ' ' ' ' ' ' 'PDSAPFR   ' +
                          'PDSAPFR$  ' &OUTQ3       '*NO ' '*YES' +
                          X'F0F1' 'A' X'0000000F' X'00025F' 'I')) +
                          JOB(FRZRINV5)
/*------------------------------------------------------------------*/
/* LOAD LIST                                                        */
/*------------------------------------------------------------------*/
/* LOAD LIST FOR CURRENT DATE */
   LOADL:    CHGVAR     VAR(&TDATE) VALUE(&DATE)

             CALL       PGM(PDOIPCLP) PARM(360.00000 &TDATE ' ' ' ' +
               360.00000  'CF1' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' +
                          'S' ' ' '1' 'PRINT LOAD LIST' &OUTQ1      +
                          '*NO' '*YES' 1.00000 'GUYNIGHTQ')
             MONMSG     MSGID(CPF0000)

/* LOAD LIST FOR PRIOR DATE */
             CHGVAR     VAR(&DAYS) VALUE(1)
             CHGVAR     VAR(&TDATE2) VALUE(&TDATE)
             CALL       PGM(POE7XFR) PARM(' ' &COMP &TDATE2 &DAYS +
                          &PDATE2)
             CHGVAR     VAR(&PDATE) VALUE(&PDATE2)

             CALL       PGM(PDOIPCLP) PARM(360.00000 &PDATE ' ' ' ' +
                360.00000 'CF1' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' ' +
                          'S' ' ' '1' 'PRINT LOAD LIST' &OUTQ1      +
                          '*NO' '*YES' 1.00000 'GUYNIGHTQ')
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* WAREHOUSE INVENTORY/ORDERS COMPARISON                            */
/*------------------------------------------------------------------*/
             /* FROM DATE */
             CHGVAR     VAR(&TDATE) VALUE(&DATE)
             CHGVAR     VAR(&DAYS) VALUE(1)
             CHGVAR     VAR(&TDATE2) VALUE(&TDATE)
             CALL       PGM(POE7XFR) PARM(' ' &COMP &TDATE2 &DAYS +
                          &PDATE2)

             /* TO DATE */
             CHGVAR     VAR(&DAYS2) VALUE(3)
             CALL       PGM(PDNKXFR) PARM(' ' &TDATE2 &COMP &PDATE2 +
                          &DAYS2)

             /* PRINT REPORT */
             CHGVAR     VAR(&XTDATE) VALUE(&TDATE2)
             CHGVAR     VAR(&XPDATE) VALUE(&PDATE2)
             CHGVAR     VAR(&DAYWK) VALUE('1')
             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ1      '*NO' +
                          '*YES' '1' 'PDRPPFR' 'PDRPPFR$' 'OMS' +
                          'ALL' 'S' '360' 'GP1' '' &XPDATE &XTDATE 'S' &DAYWK)
             MONMSG     MSGID(CPF0000)

             /*CF1*/
             CALL       PGM(PDM9UPC) PARM(' ' &OUTQ1      '*NO' +
                          '*YES' '1' 'PDRPPFR' 'PDRPPFR$' 'OMS' +
                          'ALL' 'D' '360' 'CF1' '' &XPDATE &XTDATE 'S' &DAYWK)
ERC1001:     MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* DAILY HOLDOVER FOR PREVIOUS DAY WITH REPORT TYPE = 2             */
/*------------------------------------------------------------------*/

             CHGVAR     VAR(&PDATE) VALUE(&PDATE2)
             CALL       PGM(PDX9CLP) PARM(360.00000 &PDATE 0.00000 +
                          '2' 0.00000 0.00000 &OUTQ1      '*YES' +
                          '*YES' 1.00000 '*JOBD' '   ' '   ' '   ' +
                          '   ' '   ' '   ' '   ' '    ' '   ' '   +
                          ' ' ')
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* ORDER STATUS REPORT     8/31/06 RUN FOR PRIOR DATE, WAS 0.000    */
/*------------------------------------------------------------------*/
 L61002C:    CALL       PGM(PDPDCLP) PARM(360.00000 0.00000 0.00000 +
                          &PDATE 0.00000 0.00000 'CF1' 'D' '2' ' ' +
                          ' ' ' ' ' ' ' ' ' ' ' ' '   ' &OUTQ1      '*NO' +
                          '*YES' 1.00000 '*JOBD' 'N')
             MONMSG     MSGID(CPF0000)

/* ---------- EMAIL TO DISTRIBUTION LIST ---------- */
             ESNDMAIL   RECIPIENT(&DISTOD) SUBJECT('Order Status +
                          CF1') ATTLIST((* *PDF *N PDPUPFR$))
             MONMSG     MSGID(CPF0000)

   /* RMC RUN FOR GP1 TOO AS OF 8/31/06                            */
 RMC0831:    CALL       PGM(PDPDCLP) PARM(360.00000 0.00000 0.00000 +
                          &PDATE 0.00000 0.00000 'GP1' 'D' '2' ' ' +
                          ' ' ' ' ' ' ' ' ' ' ' ' '   ' &OUTQ1      '*NO' +
                          '*YES' 1.00000 '*JOBD' 'N')
             MONMSG     MSGID(CPF0000)

/* ---------- EMAIL TO DISTRIBUTION LIST ---------- */
             ESNDMAIL   RECIPIENT(&DISTOD) SUBJECT('Order Status +
                          GP1') ATTLIST((* *PDF *N PDPUPFR$))
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* PRODUCT AVAILABILITY REPORT FOR PA GROUP 600                     */
/*------------------------------------------------------------------*/

             CALL       PGM(PDSIUPR) PARM(' ' &OUTQ5     '*NO' +
                          '*YES' '1' 'PDKJPFR' 'PDKJPFR$' '360' +
                          'GP1' 'FR' &DATE 'L' '40500' '600' 'N')
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* EXPORT ORDER TOTAL FOR THE WEEK                                  */
/*------------------------------------------------------------------*/
             CALL       PGM(POYXXFR) PARM('' &COMP &DATEFRM)
             MONMSG     MSGID(CPF0000)

/*------------------------------------------------------------------*/
/* INVENTORY ADJUSTMENT TRANSACTIONS JOURNAL                        */
/*------------------------------------------------------------------*/
/* RETRIEVE PRIOR DAY */
             CHGVAR     VAR(&TDATE2) VALUE(&DATE)
             CHGVAR     VAR(&DAYS2) VALUE(-1)
             CALL       PGM(PDNKXFR) PARM(' ' &PDATE2 &COMP &TDATE2 +
                          &DAYS2)
             CHGVAR     VAR(&PDATE) VALUE(&PDATE2)

/* GP1 */

 L70125A:    CALL       PGM(PDRCCLP) PARM('PPHNPFR' 360.00000 &PDATE +
                          &PDATE 'GP1' 0.00000 ' ' ' ' ' ' ' ' ' ' +
                          ' ' ' ' ' ' ' ' 'A' 'T' 0.00000 0.00000 +
                          0.00000 'N' ' ' ' ' 'ALL' 0.00000 +
                          235900.00000 ' ' &OUTQ1  '*NO ' +
                          '*YES' 1.00000 '  ')
             MONMSG     MSGID(CPF0000)

  /* LOT LOCATION TRANSACTIONS                                          */
             CALL       PGM(PDTQXFR) PARM('       ' X'360F' 'CF1' +
                          &PDATE &PDATE X'0000000F' '  ' '          +
                          ' 'A' &OUTQ1  '*NO ' '*YES' X'001F' +
                          'S' ' ' ' ')
             MONMSG     MSGID(CPF0000)


/*------------------------------------------------------------------*/
 ENDPGM:     ENDPGM
