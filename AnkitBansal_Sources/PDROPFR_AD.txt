// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDROPFR
// ?Date: 14.08.2025 Time: 12:04:20
// ?------------------------------------------------------------------------------------------------

//?USER: Print required level headings

// SUPPRESSED PRINT Company Number header format

// SUPPRESSED PRINT Order Number header format

// SUPPRESSED PRINT ED Export Document Type header format

//?USER: On print of detail format

// LCL.Date                  USR = JOB.*Job date
LCL.Date_USR = JOB.*Job_date;

// WRK.Date (Alpha) USR = CVTVAR(LCL.Date                  USR)
WRK.Date_Alpha_USR = CVTVAR(LCL.Date_USR);

// WRK.Month/Day Alpha MMDD = SUBSTRING(WRK.Date (Alpha) USR,CON.4,CON.4)
WRK.Month_Day_Alpha_MMDD = SUBSTRING(WRK.Date_Alpha_USR:4:4);

// WRK.Year  (Char) USR = SUBSTRING(WRK.Date (Alpha) USR,CON.2,CON.2)
WRK.Year_Char_USR = SUBSTRING(WRK.Date_Alpha_USR:2:2);

// WRK.Year Alpha (YYYY) USR = CONCAT(CON.20,WRK.Year  (Char) USR,CON.*ZERO)
WRK.Year_Alpha_YYYY_USR = '20' + WRK.Year_Char_USR (*ZERO);

// WRK.Date (Char-8) USR = CONCAT(WRK.Month/Day Alpha MMDD,WRK.Year Alpha (YYYY) USR,CON.*ZERO)
WRK.Date_Char_8_USR = WRK.Month_Day_Alpha_MMDD + WRK.Year_Alpha_YYYY_USR (*ZERO);

// CUR.Date 8.0 USR = CVTVAR(WRK.Date (Char-8) USR)
CUR.Date_8_0_USR = CVTVAR(WRK.Date_Char_8_USR);

//?print 6 digits to pick up leading 0 as in cert # 021644    7/26/18
// CUR.Export Cert Nbr 6.0 = CUR.ED Export Certificate Nbr
CUR.Export_Cert_Nbr_6_0 = CUR.ED_Export_Certificate_Nbr;

//?RMC e3885 chg to sched ship date yr
//?RMC W90906 change back to date in the file   1/10/22
// CUR.Year Alpha (YYYY) USR = CONCAT(CON.2,DB1.ED USDA Cert Nbr US,CON.*ZERO)
CUR.Year_Alpha_YYYY_USR = '2' + DB1.ED_USDA_Cert_Nbr_US (*ZERO);

//?T12198 leave  blank per guymon  12/13/17
CASE;

// IF CUR.ED Marked Sts is Marked
IF CUR.ED_Marked_Sts = 'M';

// CUR.Marked Yes USR = CON.X
CUR.Marked_Yes_USR = 'X';

// IF CUR.ED Marked Sts is Unmarked
IF CUR.ED_Marked_Sts = 'U';

// CUR.Unmarked Yes USR = CON.X
CUR.Unmarked_Yes_USR = 'X';

// IF CUR.ED Marked Sts is Unstamped
IF CUR.ED_Marked_Sts = 'S';

// CUR.UNStamped Yes USR = CON.X
CUR.UNStamped_Yes_USR = 'X';

ENDIF;

CASE;

// IF CUR.ED Tamper Evident Sts is yes
IF CUR.ED_Tamper_Evident_Sts = 'Y';

// CUR.Tamper Evident Yes USR = CON.X
CUR.Tamper_Evident_Yes_USR = 'X';

// IF CUR.ED Tamper Evident Sts is no
IF CUR.ED_Tamper_Evident_Sts = 'N';

// CUR.Tamper Evident No  USR = CON.X
CUR.Tamper_Evident_No_USR = 'X';

ENDIF;

// WRK.Chilled/Frozen Sts USR = CUR.ED Modified Text
WRK.Chilled_Frozen_Sts_USR = CUR.ED_Modified_Text;

CASE;

// IF WRK.Chilled/Frozen Sts USR is Chilled
IF WRK.Chilled_Frozen_Sts_USR = 'C';

// CUR.Chilled Yes USR = CON.X
CUR.Chilled_Yes_USR = 'X';

// IF WRK.Chilled/Frozen Sts USR is Frozen
IF WRK.Chilled_Frozen_Sts_USR = 'F';

// CUR.Frozen  Yes USR = CON.X
CUR.Frozen_Yes_USR = 'X';

ENDIF;

// WRK.Text 1 Length USR = CON.X
WRK.Text_1_Length_USR = 'X';

// CUR.ED Herm Sealed Cntr Sts = WRK.Text 1 Length USR
CUR.ED_Herm_Sealed_Cntr_Sts = WRK.Text_1_Length_USR;

// CUR.ED Whole Bird Sts = WRK.Text 1 Length USR
CUR.ED_Whole_Bird_Sts = WRK.Text_1_Length_USR;

//?ready to eat sts - "X" the no box
// CUR.Status Flag 15 Y/N = WRK.Text 1 Length USR
CUR.Status_Flag_15_Y_N = WRK.Text_1_Length_USR;

//?USER: Print required level totals

// SUPPRESSED PRINT ED Export Document Type totals format

// SUPPRESSED PRINT Order Number totals format

// SUPPRESSED PRINT Company Number totals format

