// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUF4SRR
// ?Date: 14.08.2025 Time: 03:50:18
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

EXECUTE FUNCTION(RTV Dft Co/Whs No App IF) TYPE(EXCINTFUN)                      AC1793064;
PARAMETER(PAR.Company_Number);
PARAMETER(NLL.Warehouse_Code);
{
 //?Execute internal function

 EXECUTE FUNCTION(Rtv Profile Model     RT) TYPE(RTVOBJ) FILE(CADRREP)           AC1445577;
 PARAMETER(JOB.*USER);
 PARAMETER(PAR.User_Code_Model);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 CASE;

 // IF PAR.User Code Model is equal to blank
 IF PAR.User_Code_Model = *BLANK;

 EXECUTE FUNCTION(RTV First Dft Co/Whs  RT) TYPE(RTVOBJ) FILE(CADTREP)           AC1793065;
 PARAMETER(JOB.*USER);
 PARAMETER(PAR.Company_Number);
 PARAMETER(PAR.Warehouse_Code);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

  QUIT;

 }

 // IF *OTHERWISE
 IF *OTHERWISE;

 EXECUTE FUNCTION(RTV First Dft Co/Whs  RT) TYPE(RTVOBJ) FILE(CADTREP)           AC1793065;
 PARAMETER(PAR.User_Code_Model);
 PARAMETER(PAR.Company_Number);
 PARAMETER(PAR.Warehouse_Code);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

  QUIT;

 }

 ENDIF;

}


//?USER: Load subfile record from DBF record

CASE;

// IF RCD.Item Category Number is NE 9
IF RCD.Item_Category_Number <> 9;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

CASE;

// IF PAR.Company Number NE RCD.Company Number
IF PAR.Company_Number <> RCD.Company_Number;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

//?Select by Item Category Type Code if Entered.
CASE;

// IF PAR.Item Category Type Code is Entered
IF PAR.Item_Category_Type_Code <> *BLANK;

CASE;

// IF PAR.Item Category Type Code NE RCD.Item Category Type Code
IF PAR.Item_Category_Type_Code <> RCD.Item_Category_Type_Code;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

ENDIF;

