// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDXOPVR
// ?Date: 14.08.2025 Time: 03:33:32
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

EXECUTE FUNCTION(Rtv Appl. Default Co   IF) TYPE(EXCINTFUN)                     AC1445576;
PARAMETER(JOB.*USER);
PARAMETER(PAR.Application_Code);
PARAMETER(PAR.Company_Number);
{
 //?Execute internal function

 EXECUTE FUNCTION(Rtv Profile Model     RT) TYPE(RTVOBJ) FILE(CADRREP)           AC1445577;
 PARAMETER(PAR.User_Profile_Name);
 PARAMETER(PAR.User_Code_Model);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 EXECUTE FUNCTION(RTV Appl. Default Co   RT) TYPE(RTVOBJ) FILE(CADTREP)          AC1143068;
 PARAMETER(PAR.User_Code_Model);
 PARAMETER(PAR.Application_Code);
 PARAMETER(PAR.Company_Number);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


// WRK.First Time Flag = CND.NO
WRK.First_Time_Flag = 'N';

//?USER: Load screen

// DTL.PRT Night-Q Run Sts USR = CND.*NO
DTL.PRT_Night_Q_Run_Sts_USR = *NO;

//?USER: User defined action

CASE;

// IF DTL.PRT Night-Q Run Sts USR is *YES
IF DTL.PRT_Night_Q_Run_Sts_USR = *YES;

EXECUTE FUNCTION(RTV Night Queue        RT) TYPE(RTVOBJ) FILE(CAASREP)          AC1277761;
PARAMETER(PAR.Company_Number);
PARAMETER(DTL.PRT_Night_Queue);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// DTL.PRT Night Queue Run Sts = CND.yes
DTL.PRT_Night_Queue_Run_Sts = 'Y';

// IF *OTHERWISE
IF *OTHERWISE;

// DTL.PRT Night Queue Run Sts = CND.no
DTL.PRT_Night_Queue_Run_Sts = 'N';

// DTL.PRT Night Queue = CON.*JOBD
DTL.PRT_Night_Queue = *JOBD;

ENDIF;

//?USER: Exit program processing

CASE;

// IF DTL.*CMD key is *Exit
IF DTL.*CMD_key = '03';

PGM.*Return_code = 'Y2U9999';

RETURN;

// IF *OTHERWISE
IF *OTHERWISE;

MOVE *ALL (To: PAR From: DTL);

ENDIF;

