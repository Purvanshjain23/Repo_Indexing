// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLP4XFR
// ?Date: 14.08.2025 Time: 02:55:05
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Read the edi files and send out to the web side
// WRK.Date Alpha USR = CVTVAR(PAR.Pmt Current Payment Date)
WRK.Date_Alpha_USR = CVTVAR(PAR.Pmt_Current_Payment_Date);

//?EDI:Selection on Carcass Summary/Detail- for All Producer that
DO;

//?If this is Guymon, then the cl will read all of the sequels
//?and process them all right behind each other
//?If this is the TF
//?Then all Edi producer will be read to get the trading partner
//?and then the producer event file will be read.  And if there is
//?a one event for this trading number then the edi will be sent.
//?Read The Company Value for - HPEEDICSD
//?This company value record is used to determine which way to
//?process the EDI, at the present time there are two ways
//?One is for Guymon
//?and one is for TF
// Call program Rtv Company Values    XF.
CALL PROGRAM(Rtv Company Values    XF) ('PDGKXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER('HPEEDICSD');
PARAMETER(LCL.EDI_Selection_Process_Usr);

// WRK.EDI Sel Process Pgm Usr = CND.EDISUMDTL
WRK.EDI_Sel_Process_Pgm_Usr = 'EDISUMDTL';

CASE;

// IF LCL.EDI Selection Process Usr EQ WRK.EDI Sel Process Pgm Usr
IF LCL.EDI_Selection_Process_Usr = WRK.EDI_Sel_Process_Pgm_Usr;

//?ONLY FOR GUYMON FOR NOW
//?SUSANREVIEW
// WRK.@TXT 7 postions user = PAR.EDI Trading Partner #
WRK.@TXT_7_postions_user = PAR.EDI_Trading_Partner_#;

// Execute function *Move-Right.
EXECUTE FUNCTION(*Move-Right) TYPE(EXCUSRSRC) ('PLECUFR');
PARAMETER(LCL.EDI_TradingPart_Alpha_Usr);
PARAMETER(WRK.@TXT_7_postions_user);
{
 C                     MOVE #IAVNA    #OAUNA
}


// Call program EDI Carcass Sum/DtlGUYTUP.
CALL PROGRAM(EDI Carcass Sum/DtlGUYTUP) ('EDISUMDTLT');
PARAMETER(WRK.Date_Alpha_USR);
PARAMETER(LCL.EDI_TradingPart_Alpha_Usr);

// IF *OTHERWISE
IF *OTHERWISE;

ENDIF;

ENDDO;

