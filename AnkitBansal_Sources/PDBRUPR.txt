/********************************************************************/
/*                                                                  */
/*  SYNOPSIS -  JOB CONTROL PROMPT FOR PRINTER OVERRIDE INFORMATION */
/*              TO PRINT ITEM LISTINGS FOR SCHEDULING.              */
/*                                                                  */
/*  SYSTEM    - ITEM DEFINITION SYSTEM                              */
/*  DATE      - 10/31/95                                            */
/*                                                                  */
/*      PARAMETERS:                                                 */
/*                                                                  */
/*     O    &RETURN     - RETURN CODE                               */
/*     I    &APPLIC     - APPLICATION CODE                          */
/*     B    &COMPNYN    - COMPANY NUMBER (PASSED)                   */
/*     B    &ITEMC      - ITEM CODE      (PASSED)                   */
/*     B    &ITSCL      - ITEM STRUCTURE CLASS (PASSED)             */
/*     B    &ITSGR      - ITEM STRUCTURE GROUP (PASSED)             */
/*     B    &ITSTY      - ITEM STRUCTURE TYPE  (PASSED)             */
/*     B    &ITEMT      - ITEM TYPE      (PASSED)                   */
/*     B    &STS        - RECORD STATUS  (PASSED)                   */
/*     B    &RPTSEQ     - REPORT SEQUENCE (PASSED)                   */
/*     B    &OUTQ       -  OUTPUT QUEUE                             */
/*     B    &HOLD       -  HOLD STATUS                              */
/*     B    &SAVE       -  SAVE STATUS                              */
/*     B    &COPYN      -  NO. OF COPIES (PASSED)                   */
/*                                                                  */
/********************************************************************/

 PDBRUPR:    PGM        PARM(&RETURN &COMPNYN  &ITSCLN &ITSGRN +
                          &ITSTYN &ITEMT &STS &OUTQ &HOLD +
                          &SAVE &COPYN &RPTSEQ &ITEMCN)

/* PARMS                                                                      */
        DCL    &RETURN     *CHAR   (7)           /* Return Code               */
        DCL    &COMPNYN    *CHAR (15)            /* Company Number (Passed)   */
        DCL    &ITEMCN     *CHAR   (15)          /* ITEM CODE      (Passed)   */
        DCL    &ITEMT      *CHAR   (3)           /* ITEM TYPE      (Passed)   */
        DCL    &ITSCLN     *CHAR (15)            /* ITEM STRCT CLS (Passed)   */
        DCL    &ITSGRN     *CHAR (15)            /* ITEM STRCT GRP (PASSED)   */
        DCL    &ITSTYN     *CHAR (15)            /* ITEM STRCT TYP (Passed)   */
        DCL    &COPYN      *CHAR  LEN(15)        /* No. of COPIES  (PASSED)   */
        DCL    &STS        *CHAR   (1)           /* RECORD STATUS REQUESTED   */
        DCL    &RPTSEQ     *CHAR   (1)           /* REPORT SEQUENCE           */
        DCL    &OUTQ       *CHAR   (10)          /* Output Queue              */
        DCL    &HOLD       *CHAR   (4)           /* Hold Status               */
        DCL    &SAVE       *CHAR   (4)           /* Save Status               */

/* INTERNAL FIELDS                                                            */
        DCL    &COPY       *DEC    (2 0)         /* Number of copies          */
        DCL    &COMPANY    *DEC    (3 0)         /* Company Number            */
        DCL    &ITEMC      *DEC    (7 0)         /* ITEM CODE      (Passed)   */
        DCL    &ITSCL      *DEC    (3 0)         /* ITEM STRCT CLS (Passed)   */
        DCL    &ITSGR      *DEC    (3 0)         /* ITEM STRCT GRP (PASSED)   */
        DCL    &ITSTY      *DEC    (3 0)         /* ITEM STRCT TYP (Passed)   */

/* SBDPRTOVR VARIABLE                                          */
             DCL        VAR(&CMD) TYPE(*CHAR) LEN(512)


/********************************************************************/
/*   INITIALIZE VARIABLES                                           */
/********************************************************************/

             CHGVAR     VAR(&RETURN) VALUE('       ')
             CHGVAR     VAR(&COPY) VALUE(&COPYN)
             CHGVAR     VAR(&COMPANY) VALUE(&COMPNYN)
             CHGVAR     VAR(&ITEMC) VALUE(&ITEMCN)
             CHGVAR     VAR(&ITSCL) VALUE(&ITSCLN)
             CHGVAR     VAR(&ITSGR) VALUE(&ITSGRN)
             CHGVAR     VAR(&ITSTY) VALUE(&ITSTYN)


/********************************************************************/
/*   CALL PRINT PROGRAM FOR REPORT SEQUENCE BY ITEM CODE            */
/********************************************************************/

SEQ1:        IF         COND(&RPTSEQ = '1') THEN(DO)
/* CREATE PRINTER FILE OVERRIDE CODE                            */
             SBDPRTOVR  CMDVAR(&CMD) FILE(PDBPPFR$) OUTQ(&OUTQ) +
                          COPIES(&COPY) HOLD(&HOLD) SAVE(&SAVE)
             CALL       PGM(QCMDEXC) PARM(&CMD 512)

 CALL1:      CALL PGM(PDBPPFR) PARM(' ' &COMPANY &ITEMC &ITSCL &ITSGR +
             &ITSTY &ITEMT &STS)

             DLTOVR *ALL
             ENDDO
/********************************************************************/
/*   CALL PRINT PROGRAM FOR REPORT SEQUENCE BY ITEM STRUCTURE       */
/********************************************************************/

SEQ2:        IF         COND(&RPTSEQ = '2') THEN(DO)
/* CREATE PRINTER FILE OVERRIDE CODE                            */
             SBDPRTOVR  CMDVAR(&CMD) FILE(PDBSPFR$) OUTQ(&OUTQ) +
                          COPIES(&COPY) HOLD(&HOLD) SAVE(&SAVE)
             CALL       PGM(QCMDEXC) PARM(&CMD 512)

 CALL2:      CALL       PGM(PDBSPFR) PARM(' ' &COMPANY &ITEMC &ITSCL +
                          &ITSGR &ITSTY &ITEMT &STS)

             DLTOVR *ALL
             ENDDO
 END:        ENDPGM

