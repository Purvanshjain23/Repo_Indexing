// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDCMXFR
// ?Date: 14.08.2025 Time: 03:31:16
// ?------------------------------------------------------------------------------------------------

//?Execute user function

// PAR.Weight Available USR = CON.*ZERO
PAR.Weight_Available_USR = *ZERO;

EXECUTE FUNCTION(UPS Rtv RM Avail      RT) TYPE(RTVOBJ) FILE(PDIOREP)           AC1371990;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Item_Code);
PARAMETER(PAR.Weight_Available_USR);
PARAMETER(PAR.Production_Type);
PARAMETER(PAR.Production_Date);
PARAMETER(PAR.Record_Found_PS_PD_USR);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(UPS Rtv RM Avail      RT) TYPE(RTVOBJ) FILE(PDI8CPP)           AC1371991;
 PARAMETER(DB1.Company_Number);
 PARAMETER(PAR.Production_Type);
 PARAMETER(PAR.Production_Date);
 PARAMETER(DB1.Component_Item_Code);
 PARAMETER(PAR.Weight_Available_USR);
 PARAMETER(PAR.Record_Found_PS_PD_USR);
 {
  //?USER: Processing if Data record not found

  // PAR.Record Found -PS PD USR = CND.Record Not Found
  PAR.Record_Found_PS_PD_USR = 'N';

  //?USER: Process Data record

  // Weight Avail Prod
  PAR.Weight_Available_USR = PAR.Weight_Available_USR + ( ( DB1.PS_Weight_Planned_Prod
  - DB1.PS_Weight_Converted ) - DB1.PS_Weight_Fab_Needs );

  // PAR.Record Found -PS PD USR = CND.Record Found
  PAR.Record_Found_PS_PD_USR = 'Y';

 }

}


