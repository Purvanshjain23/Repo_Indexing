// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PWJKXFR
// ?Date: 14.08.2025 Time: 02:56:38
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Rtv Chk for Rerun     RT) TYPE(RTVOBJ) FILE(PWARREP)           AB1352379;
PARAMETER(PAR.Company);
PARAMETER(PAR.MPR_Last_Kill_Dt_Reported);
{
 //?USER: Process Data record

 //?It's a rerun if the Last Job Date  = current job date
 CASE;

 // IF DB1.MPR Date of Last Job EQ JOB.*Job date
 IF DB1.MPR_Date_of_Last_Job = JOB.*Job_date;

 //? Then reset it to the Prior kill date reported
 // PAR.MPR Last Kill Dt Reported = DB1.MPR Prior Kill Dt Reportd
 PAR.MPR_Last_Kill_Dt_Reported = DB1.MPR_Prior_Kill_Dt_Reportd;

 //?It's a rerun if the Last Job Date  = current job date
 // IF *OTHERWISE
 IF *OTHERWISE;

 // PAR.MPR Last Kill Dt Reported = DB1.MPR Last Kill Dt Reported
 PAR.MPR_Last_Kill_Dt_Reported = DB1.MPR_Last_Kill_Dt_Reported;

 ENDIF;

}


