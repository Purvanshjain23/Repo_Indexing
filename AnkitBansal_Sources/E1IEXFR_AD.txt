// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for E1IEXFR
// ?Date: 14.08.2025 Time: 02:43:43
// ?------------------------------------------------------------------------------------------------

//?Execute user function

// PAR.Sys System Name = CND.Bigbyte
PAR.Sys_System_Name = 'BIGBYTE';

EXECUTE FUNCTION(Rtv JDE DB Conn Info  RT) TYPE(RTVOBJ) FILE(E1BFREP)           AA1101982;
PARAMETER(PAR.Sys_System_Name);
PARAMETER(LCL.SYS_JDE_Libraries_Live);
PARAMETER(LCL.SYS_RDB_JDE_SQL_Prod);
PARAMETER(LCL.SYS_RDB_JDE_SQL_Prod_Schm);
PARAMETER(LCL.SYS_RDB_JDE_SQL_Test);
PARAMETER(LCL.SYS_RDB_JDE_SQL_Test_Schm);
PARAMETER(LCL.SYS_RDB_JDE_IBM_Prod);
PARAMETER(LCL.SYS_RDB_JDE_IBM_Prod_Schm);
PARAMETER(LCL.SYS_RDB_JDE_IBM_Test);
PARAMETER(LCL.SYS_RDB_JDE_IBM_Test_Schm);
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


// LCL.OMS Company Number = CVTVAR(PAR.OMS Company Number Alpha)
LCL.OMS_Company_Number = CVTVAR(PAR.OMS_Company_Number_Alpha);

// Call program Rtv Live In E1/JW/M3  XF.
CALL PROGRAM(Rtv Live In E1/JW/M3  XF) ('E1JUXFR');
PARAMETER(LCL.OMS_Company_Number);
PARAMETER(LCL.E1_Live);
PARAMETER(LCL.JW_Live);
PARAMETER(LCL.M3_Live);
PARAMETER(LCL.E1_Parallel);
PARAMETER(LCL.JW_Parallel);
PARAMETER(LCL.M3_Parallel);

//?E1 live
CASE;

// IF LCL.E1 Live is Yes
IF LCL.E1_Live = 'Y';

// PAR.USR Primary Rem = LCL.SYS RDB JDE SQL Prod
PAR.USR_Primary_Rem = LCL.SYS_RDB_JDE_SQL_Prod;

// PAR.USR Primary Schema = LCL.SYS RDB JDE SQL Prod Schm
PAR.USR_Primary_Schema = LCL.SYS_RDB_JDE_SQL_Prod_Schm;

ENDIF;

//?E1 parallel
CASE;

// IF LCL.E1 Live is Parallel
IF LCL.E1_Live = 'P';

// PAR.USR Secondary Rem = LCL.SYS RDB JDE SQL Test
PAR.USR_Secondary_Rem = LCL.SYS_RDB_JDE_SQL_Test;

// PAR.USR Secondary Schema = LCL.SYS RDB JDE SQL Test Schm
PAR.USR_Secondary_Schema = LCL.SYS_RDB_JDE_SQL_Test_Schm;

ENDIF;

CASE;

// IF LCL.E1 Live is Parallel
IF LCL.E1_Live = 'P';

// PAR.Usr Status = CND.Both
PAR.Usr_Status = 'B';

// IF LCL.E1 Live is Yes
IF LCL.E1_Live = 'Y';

// PAR.Usr Status = CND.Sequel Server
PAR.Usr_Status = 'S';

ENDIF;

