// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBYNXFR
// ?Date: 14.08.2025 Time: 03:49:46
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Documentation - 2025
DO;

//?06/26/25  Ankit Bansal  Bug 36512, Task 38180: Added Credit_Check_Complete
//?_Dt field to OMGZCPP file, need to re-compile it for CST/ITM changes
ENDDO;

EXECUTE FUNCTION(RTV Crt New Co f/cust RT) TYPE(RTVOBJ) FILE(CAEOREP)           AC2128203;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Company_Number_041405);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(CRT W/G/L Add A/R Sum  CR) TYPE(CRTOBJ) FILE(CAEOREP)          AC1369332;
 PARAMETER(PAR.Company_Number_041405);
 PARAMETER(DB1.Ship_To_Customer);
 PARAMETER(DB1.Terms_Code);
 PARAMETER(DB1.Sales_Route_Code);
 PARAMETER(DB1.Special_Instructions_2);
 PARAMETER(DB1.Special_Instructions);
 PARAMETER(DB1.Carrier_Code);
 PARAMETER(DB1.Broker);
 PARAMETER(DB1.P_O_Required_Flag);
 PARAMETER(DB1.Deliver_after_time);
 PARAMETER(DB1.Deliver_before_time);
 PARAMETER(DB1.Alt_Remittance_Flag);
 PARAMETER(DB1.Type_Code);
 PARAMETER(DB1.Absorbed_Freight_Rate_CWT);
 PARAMETER(DB1.Mileage_To_Customer);
 PARAMETER(DB1.Co_Cust_Overage_Rate_CWT);
 PARAMETER(DB1.Age_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Outside_Warehouse_Flag);
 PARAMETER(DB1.Customer_Group_Code);
 PARAMETER(DB1.Customer_Group_Code_2);
 PARAMETER(DB1.G_L_Code);
 PARAMETER(DB1.Commodity_Market_Code);
 PARAMETER(DB1.Credit_Contact_Name);
 PARAMETER(DB1.Credit_Contact_Telephone);
 PARAMETER(DB1.Credit_Contact_Bus_Title);
 PARAMETER(DB1.Credit_Contact_Fax_Number);
 PARAMETER(DB1.Allow_Man_Qt_WO_Approval);
 PARAMETER(DB1.Fax_Invoice_Flag);
 PARAMETER(DB1.Fax_Invoice_Fax_Number);
 PARAMETER(DB1.Fax_Invoice_Contact_Name);
 PARAMETER(DB1.Distributor);
 PARAMETER(DB1.Default_Shipping_Co_Sts);
 PARAMETER(DB1.Ord_Ent_Default_Sls_Rte);
 PARAMETER(DB1.Bypass_DDt_Delay_w_Invcng);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER(LCL.Extra_Status_1);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 {
  //?USER: Processing before Data update

  // DB1.Age Code = CND.Blank
  DB1.Age_Code = *BLANK;

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  // PAR.A/R Customer Number = CND.equal to zero
  PAR.AR_Customer_Number = *ZERO;

  //?USER: Processing after Data update

  EXECUTE FUNCTION(CHG OM Company/Cust    CH) TYPE(CHGOBJ) FILE(OMGZCPP)          AC1214274;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Ship_To_Customer);
  PARAMETER(PAR.Extra_Amount_1);
  PARAMETER(PAR.Extra_Number_1);
  PARAMETER(PAR.Extra_Status_1);
  PARAMETER(PAR.SH_Expense_Bucket);
  PARAMETER(PAR.G_L_Sub_Account);
  PARAMETER(DB1.EDI_Status_1);
  PARAMETER(DB1.EDI_Status_2);
  PARAMETER(DB1.EDI_Status_3);
  {
   //?USER: Processing before Data read

   EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
   {
    //?Execute internal function

    // PAR.Job Time = JOB.*Job time
    PAR.Job_Time = JOB.*Job_time;

    // PAR.User Id = JOB.*USER
    PAR.User_Id = JOB.*USER;

    // PAR.Job Name = JOB.*JOB
    PAR.Job_Name = JOB.*JOB;

    // PAR.Job Date = JOB.*Job date
    PAR.Job_Date = JOB.*Job_date;

   }

   //?USER: Processing if Data record not found

   EXECUTE FUNCTION(CRT OM Company/Cust    CR) TYPE(CRTOBJ) FILE(OMGZCPP)          AC1214273;
   PARAMETER(PAR.Company_Number);
   PARAMETER(PAR.Ship_To_Customer);
   PARAMETER(PAR.Extra_Amount_1);
   PARAMETER(PAR.Extra_Number_1);
   PARAMETER(PAR.Extra_Status_1);
   PARAMETER(PAR.SH_Expense_Bucket);
   PARAMETER(PAR.G_L_Sub_Account);
   PARAMETER(PAR.EDI_Status_1);
   PARAMETER(PAR.EDI_Status_2);
   PARAMETER(PAR.EDI_Status_3);
   {
    //?USER: Processing before Data update

    EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
    {
     //?Execute internal function

     // PAR.Job Time = JOB.*Job time
     PAR.Job_Time = JOB.*Job_time;

     // PAR.User Id = JOB.*USER
     PAR.User_Id = JOB.*USER;

     // PAR.Job Name = JOB.*JOB
     PAR.Job_Name = JOB.*JOB;

     // PAR.Job Date = JOB.*Job date
     PAR.Job_Date = JOB.*Job_date;

    }

   }

  }

  //?Automatically create A/R Summary when a new Company/Customer record crt
  // WRK.Current Month = JOB.*Job date *MONTH
  WRK.Current_Month = DATEDTLS(JOB.*Job_date 'MO' 1111111 'NONE' 'N' 1);

  EXECUTE FUNCTION(RTV Salesman Code      RT) TYPE(RTVOBJ) FILE(PDJEREP)          AC1284971;
  PARAMETER(DB1.Sales_Route_Code);
  PARAMETER(PAR.Salesperson_Code);
  {
   //?USER: Processing if Data record not found

   MOVE *ALL (To: PAR From: CON);

   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  EXECUTE FUNCTION(RTV Customer A/R Cust  RT) TYPE(RTVOBJ) FILE(CABBREP)          AC1210709;
  PARAMETER(DB1.Ship_To_Customer);
  PARAMETER(PAR.AR_Customer_Number);
  {
   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  //?Create A/R Summary for A/R Customers only
  CASE;

  // IF PAR.Ship To Customer EQ PAR.A/R Customer Number
  IF PAR.Ship_To_Customer = PAR.AR_Customer_Number;

  EXECUTE FUNCTION(CRT A/R Summary        CR) TYPE(CRTOBJ) FILE(ARBCREP)          AC1109013;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Ship_To_Customer);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(*ZERO);
  PARAMETER(PAR.Salesperson_Code);
  PARAMETER(DB1.Sales_Route_Code);
  PARAMETER(WRK.Current_Month);
  PARAMETER(DB1.EDI_Status_1);
  PARAMETER(DB1.EDI_Status_2);
  PARAMETER(DB1.EDI_Status_3);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
   PARAMETER(DB1.Job_Time);
   PARAMETER(DB1.User_Id);
   PARAMETER(DB1.Job_Name);
   PARAMETER(DB1.Job_Date);
   {
    //?Execute internal function

    // PAR.Job Time = JOB.*Job time
    PAR.Job_Time = JOB.*Job_time;

    // PAR.User Id = JOB.*USER
    PAR.User_Id = JOB.*USER;

    // PAR.Job Name = JOB.*JOB
    PAR.Job_Name = JOB.*JOB;

    // PAR.Job Date = JOB.*Job date
    PAR.Job_Date = JOB.*Job_date;

   }

  }

  ENDIF;

 }

}


EXECUTE FUNCTION(Rtv Crt new Co f/cust RT) TYPE(RTVOBJ) FILE(PDNIREP)           AC2128204;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Company_Number_041405);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Crt Co Customer Ext   CR) TYPE(CRTOBJ) FILE(PDNIREP)           AC1984185;
 PARAMETER(PAR.Company_Number_041405);
 PARAMETER(PAR.Ship_To_Customer);
 PARAMETER(DB1.Internet_Password);
 PARAMETER(DB1.Email_Address);
 PARAMETER(DB1.Email_User_ID);
 PARAMETER(DB1.EDI_Trading_Partner_No);
 PARAMETER(DB1.EDI_Cust_Duns_Number);
 PARAMETER(DB1.EDI_Warehouse_Store_No);
 PARAMETER(DB1.State_Tax_ID);
 PARAMETER(DB1.Additional_Route_Hours);
 PARAMETER(DB1.Cust_Shipping_Temp);
 PARAMETER(DB1.Cust_Shipping_Temp_C_F);
 PARAMETER(DB1.EDI_Invoices);
 PARAMETER(DB1.One_Invoice_Per_PO);
 PARAMETER(DB1.EDI_Advanced_Ship_Notice);
 PARAMETER(DB1.HPB_Employer_ID_#);
 PARAMETER(DB1.HPB_ULSD_Company_#);
 PARAMETER(DB1.HPB_ULSD_Facility_ID);
 PARAMETER(DB1.Ship_To_Warehouse);
 PARAMETER(DB1.CCE_Unused_Text_3);
 PARAMETER(DB1.Print_Req_Delv_Tm_on_Docs);
 PARAMETER(DB1.CCE_GL_Sales_Acct_Type);
 PARAMETER(DB1.DP_Location_15);
 PARAMETER(DB1.CCE_Unused_Text_2);
 PARAMETER(DB1.CCE_Last_ABS_Frt_Rate_Dte);
 PARAMETER(DB1.Item_Age_Days_Fresh);
 PARAMETER(DB1.Item_Age_Days_Frozen);
 PARAMETER(DB1.CCE_Classification_ABC);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

 }

}


