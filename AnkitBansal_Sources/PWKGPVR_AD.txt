// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PWKGPVR
// ?Date: 14.08.2025 Time: 02:56:43
// ?------------------------------------------------------------------------------------------------

//?USER: Load screen

// DTL.BOH Company Number = CND.SBD Farms of Guymon, Ok
DTL.BOH_Company_Number = 360;

// DTL.PD Producer Code = CND.SEABOA
DTL.PD_Producer_Code = 'SEABOA';

//?USER: Validate fields

//?Validate date field relationship
CASE;

// IF DTL.Date From             USR GT DTL.Date To   USR
IF DTL.Date_From_USR > DTL.Date_To_USR;

// Send error message - 'From date cannot be later than to date.'
ERROR(PRK1450);
MSGPARM(DTL.Date_From_USR);
MSGPARM(DTL.Date_To_USR);

ENDIF;

//?USER: User defined action

// Call program Sbm Dlv Trk Split SQL UP.
SBMJOB;
CALL PROGRAM(Sbm Dlv Trk Split SQL UP) ('PWKHUPC');
PARAMETER(DTL.BOH_Company_Number);
PARAMETER(DTL.Date_From_USR);
PARAMETER(DTL.Date_To_USR);
PARAMETER(DTL.EMail_Address);
SBMJOBOVR JOB(DLVTRKSPLT);
SBMJOBOVR LOG(4;
SBMJOBOVR 00;
SBMJOBOVR *SECLVL);
SBMJOBEND;

