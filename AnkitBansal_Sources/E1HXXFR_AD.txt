// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for E1HXXFR
// ?Date: 14.08.2025 Time: 02:43:42
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?SDN 465 JDE to E1 RMC 4/24/2020
//?  Read staged table from E1 for the address book and update E1IDEVMDL
//?   table E10116- process ADDS and CHANGES
EXECUTE FUNCTION(Rtv Prc From F0116    RT) TYPE(RTVOBJ) FILE(EZ0116)            AA1101866;
{
 //?USER: Process Data record

 CASE;

 // IF DB1.Transaction Action Z is Delete
 IF DB1.Transaction_Action_Z = 'D';

 EXECUTE FUNCTION(Del E10116 from Stg   DL) TYPE(DLTOBJ) FILE(E10116)            AA1101005;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Date_Beginning_Effective);
 // IF *OTHERWISE
 IF *OTHERWISE;

 EXECUTE FUNCTION(Rtv CrtChg from Stg   RT) TYPE(RTVOBJ) FILE(E10116)            AA1101867;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Date_Beginning_Effective);
 PARAMETER(DB1.Effective_Date_Existence);
 PARAMETER(DB1.Address_Line_1);
 PARAMETER(DB1.Address_Line_2);
 PARAMETER(DB1.Address_Line_3);
 PARAMETER(DB1.Address_Line_4);
 PARAMETER(DB1.Postal_Code);
 PARAMETER(DB1.City);
 PARAMETER(DB1.County_Name);
 PARAMETER(DB1.State);
 PARAMETER(DB1.Carrier_Route);
 PARAMETER(DB1.Bulk_Mailing_Center);
 PARAMETER(DB1.Country);
 PARAMETER(DB1.User_ID);
 PARAMETER(DB1.Program_ID);
 PARAMETER(DB1.Date_Updated_1);
 PARAMETER(DB1.Work_Station_ID);
 PARAMETER(DB1.Time_Last_Updated_1);
 PARAMETER(DB1.Synchronization_Status);
 PARAMETER(DB1.Server_Status);
 {
  //?USER: Processing if Data record not found

  //?dont create rcd if Address Master doesnt exist
  EXECUTE FUNCTION(Rtv Val Addr Nbr      RT) TYPE(RTVOBJ) FILE(E10101)            AA1103672;
  PARAMETER(PAR.Address_Number);
  {
   //?USER: Processing if Data record not found

   // PGM.*Return code = CND.*Record does not exist
   PGM.*Return_code = 'Y2U0005';

   //?USER: Process Data record

   // PGM.*Return code = CND.*Normal
   PGM.*Return_code = *BLANK;

  }

  CASE;

  // IF PGM.*Return code is *Normal
  IF PGM.*Return_code = *BLANK;

  EXECUTE FUNCTION(Crt E10116 from Stg   CR) TYPE(CRTOBJ) FILE(E10116)            AA1101003;
  PARAMETER(PAR.Address_Number);
  PARAMETER(PAR.Date_Beginning_Effective);
  PARAMETER(PAR.Effective_Date_Existence);
  PARAMETER(PAR.Address_Line_1);
  PARAMETER(PAR.Address_Line_2);
  PARAMETER(PAR.Address_Line_3);
  PARAMETER(PAR.Address_Line_4);
  PARAMETER(PAR.Postal_Code);
  PARAMETER(PAR.City);
  PARAMETER(PAR.County_Name);
  PARAMETER(PAR.State);
  PARAMETER(PAR.Carrier_Route);
  PARAMETER(PAR.Bulk_Mailing_Center);
  PARAMETER(PAR.Country);
  PARAMETER(PAR.User_ID);
  PARAMETER(PAR.Program_ID);
  PARAMETER(PAR.Date_Updated_1);
  PARAMETER(PAR.Work_Station_ID);
  PARAMETER(PAR.Time_Last_Updated_1);
  PARAMETER(PAR.Synchronization_Status);
  PARAMETER(PAR.Server_Status);
  ENDIF;

  //?USER: Process Data record

  EXECUTE FUNCTION(Chg E10116 from Stg   CH) TYPE(CHGOBJ) FILE(E10116)            AA1101004;
  PARAMETER(DB1.Address_Number);
  PARAMETER(DB1.Date_Beginning_Effective);
  PARAMETER(PAR.Effective_Date_Existence);
  PARAMETER(PAR.Address_Line_1);
  PARAMETER(PAR.Address_Line_2);
  PARAMETER(PAR.Address_Line_3);
  PARAMETER(PAR.Address_Line_4);
  PARAMETER(PAR.Postal_Code);
  PARAMETER(PAR.City);
  PARAMETER(PAR.County_Name);
  PARAMETER(PAR.State);
  PARAMETER(PAR.Carrier_Route);
  PARAMETER(PAR.Bulk_Mailing_Center);
  PARAMETER(PAR.Country);
  PARAMETER(PAR.User_ID);
  PARAMETER(PAR.Program_ID);
  PARAMETER(PAR.Date_Updated_1);
  PARAMETER(PAR.Work_Station_ID);
  PARAMETER(PAR.Time_Last_Updated_1);
  PARAMETER(PAR.Synchronization_Status);
  PARAMETER(PAR.Server_Status);
 }

 ENDIF;

 EXECUTE FUNCTION(Chg E10016 to Prcd    CH) TYPE(CHGOBJ) FILE(EZ0116)            AA1101863;
 PARAMETER(DB1.Address_Number);
 PARAMETER(DB1.Date_Beginning_Effective);
 PARAMETER(DB1.Date_Time_Stamp);
 PARAMETER(DB1.Transaction_Action_Z);
 PARAMETER(DB1.Effective_Date_Existence);
 PARAMETER(DB1.Address_Line_1);
 PARAMETER(DB1.Address_Line_2);
 PARAMETER(DB1.Address_Line_3);
 PARAMETER(DB1.Address_Line_4);
 PARAMETER(DB1.Postal_Code);
 PARAMETER(DB1.City);
 PARAMETER(DB1.County_Name);
 PARAMETER(DB1.State);
 PARAMETER(DB1.Carrier_Route);
 PARAMETER(DB1.Bulk_Mailing_Center);
 PARAMETER(DB1.Country);
 PARAMETER(DB1.User_ID);
 PARAMETER(DB1.Program_ID);
 PARAMETER(DB1.Date_Updated_1);
 PARAMETER(DB1.Work_Station_ID);
 PARAMETER(DB1.Time_Last_Updated_1);
 PARAMETER(DB1.Synchronization_Status);
 PARAMETER(DB1.Server_Status);
 PARAMETER(1);
 PARAMETER(JOB.*Job_date);
 PARAMETER(JOB.*Job_time);
}


