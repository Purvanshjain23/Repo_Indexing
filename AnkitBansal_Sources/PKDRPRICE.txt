/***************************************************************** */
/*                                                                 */
/*  PROGRAM NUMBER:  PKDRUPC                                       */
/*  PROGRAM NAME:    SBM THE CLPS TO PURGE THE DATA FILES          */
/*  PROGRAMMER:      ROSE CENTONZE                                 */
/*  CREATE DATE:     10/17/96                                      */
/*                                                                 */
/*  FUNCTION:        THIS CL IS CALLED FROM THE JOB SCHEDULE       */
/*                   TO PURGE A FILE.        NOW, THIS RUNS        */
/*                   ON SUNDAY AND THE PURGE DATA WILL BE SAVED    */
/*                   TO TAPE ON MONDAY.                            */
/*                                                                 */
/* **** NOTE ****                                                  */
/*  WHEN ADDING A FILE TO THIS ROUTINE, PRIOR TO EXECUTING         */
/*    THE &FILEPRG MUST BE CREATED IN THE FILE'S LIBRARY WITH      */
/*      MAXMBRS = *NOMAX.                                          */
/*  EG. CRTDUPOBJ  PKDLCPP NEWOBJ(PKDLCPPPRG)   DATA(*NO)          */
/*      CHGPF  PKDLCPPPRG  MAXMBRS(*NOMAX)                         */
/*                                                                 */
/*******************************************************************/
/* INPUT PARMS TO PKC9UPC :                                        */
/*    &LIB =  LIBRARY OF PURGED &FILE                              */
/*    &FILE = FILE NAME TO BE PURGED                               */
/*    &FILEUPD = THE "UPDATE INDEX PURGE" ACCESS PATH OF &FILE     */
/*    &FILEPRG = TEMP VERSION OF PURGED FILE                       */
/*    &PRGPGM = THE PURGE PROGRAM FOR THE &FILE - AN EXCEXTFUN     */
/*                                                                 */
/*******************************************************************/
/*  Modification History                                           */
/*                                                                 */
/*                                                                 */
/*******************************************************************/
             PGM        PARM(&LIB)

/*-----------------------------------------------------------------*/
/*                      PARAMETER                                  */
/*-----------------------------------------------------------------*/
/* Print Options                                                   */

/* Function Specific                                               */

/* LIBRARY FOR PURGE FILE  */
             DCL        VAR(&LIB) TYPE(*CHAR) LEN(10)

/* FILE BEING PURGED */
             DCL        VAR(&FILE) TYPE(*CHAR) LEN(10)

/* FILE BEING PURGED -- 'UPDATE INDEX PURGE' ACCESS PATH          */
             DCL        VAR(&FILEUPD) TYPE(*CHAR) LEN(10)

/* TEMP VERSION OF FILE BEING PURGED */
             DCL        VAR(&FILEPRG) TYPE(*CHAR) LEN(10)

/* PURGE PROGRAM         */
             DCL        VAR(&PRGPGM) TYPE(*CHAR) LEN(10)

/*-----------------------------------------------------------------*/
/*                    PROGRAM VARIABLES                            */
/*-----------------------------------------------------------------*/

/*-----------------------------------------------------------------*/
/*                     INITIALIZATION                              */
/*-----------------------------------------------------------------*/

/*-----------------------------------------------------------------*/
/*                           MAIN                                  */
/*-----------------------------------------------------------------*/
/*  SBM CL TO PURGE THE FILES ONE AT A TIME                        */
/*-----------------------------------------------------------------*/
/*  COMMODITY MARKET PRICE                                         */

COMMOD:      CHGVAR &FILE VALUE('OMF0CPP')
             CHGVAR &FILEUPD VALUE('OMF0CPL7')
             CHGVAR &FILEPRG VALUE('OMF0CPPPRG')
             CHGVAR &PRGPGM  VALUE('POCOXFR')
             SBMJOB     CMD(CALL PGM(PKC9UPC) PARM('' &LIB &FILE +
                          &FILEUPD &FILEPRG &PRGPGM))
             MONMSG     MSGID(CPF0000) EXEC(DO)
             SNDDST     TYPE(*MSG) TOUSRID((COMPURGE BIGBYTE)) +
                          DSTD('Commodity Market Price Purge') +
                          MSG('Call to program PKC9UPC Error')
             ENDDO

/*-----------------------------------------------------------------*/
/*                      PROGRAM END                                */
/*-----------------------------------------------------------------*/
 ENDPGM:
             ENDPGM
