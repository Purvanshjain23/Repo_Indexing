// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PWJFXFR
// ?Date: 14.08.2025 Time: 02:56:38
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?MODIFICATIONS
//?11/04/2020 ISE H16853 - Recompiled due to change in Buy Order Number
EXECUTE FUNCTION(Prg Tattoo Scale Tkt  RT) TYPE(RTVOBJ) FILE(PKB3CPP)           AB1233946;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Initialize routine

 //?***** Change log and comments
 DO;

 //?** 08/16/2007 LJB FP1009
 //?** Changed RSQ lgl to put Kill Date first, removed company number
 //?** from input parms, Add CRT to write the records to QTEMP file
 //?** before deleting from production
 ENDDO;

 //?USER: Process Data record

 EXECUTE FUNCTION(CRT Tattoo Scl Tkt Purge) TYPE(CRTOBJ) FILE(PKB3CPP)           AB1280096;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.TST_Sequence_Number);
 PARAMETER(DB1.TST_Head);
 PARAMETER(DB1.TST_Wgt);
 PARAMETER(DB1.TST_Wgt_Date);
 PARAMETER(DB1.TST_Wgt_Time);
 PARAMETER(DB1.TST_Wgt_Hour);
 PARAMETER(DB1.TST_Last_Zero_Date);
 PARAMETER(DB1.TST_Last_Zero_Time);
 PARAMETER(DB1.TST_Record_Created_Status);
 PARAMETER(DB1.Pen_Company_Number);
 PARAMETER(DB1.Pen_Number);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Delete Tattoo Scale Ticke) TYPE(DLTOBJ) FILE(PKB3CPP)          AB1113771;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.TST_Sequence_Number);
}


EXECUTE FUNCTION(Prg Tto Scl Tkt Msg   RT) TYPE(RTVOBJ) FILE(PKDUCPP)           AB1233947;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Initialize routine

 //?***** Change log and comments
 DO;

 //?** 08/16/2007 LJB FP1009
 //?** Changed RSQ lgl to put Kill Date first, removed company number
 //?** from input parms, Add CRT to write the records to QTEMP file
 //?** before deleting from production
 ENDDO;

 //?USER: Process Data record

 EXECUTE FUNCTION(CRT Ttt Scl Tck Msg Purge) TYPE(CRTOBJ) FILE(PKDUCPP)          AB1280100;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.TST_Sequence_Number);
 PARAMETER(DB1.TSTM_Message_Seq);
 PARAMETER(DB1.TSTM_Message);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Dlt Tattoo Scl Tck Msg DO) TYPE(DLTOBJ) FILE(PKDUCPP)          AB1194812;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.TST_Sequence_Number);
 PARAMETER(DB1.TSTM_Message_Seq);
}


EXECUTE FUNCTION(Prg Tattoo Scl Purge  RT) TYPE(RTVOBJ) FILE(PKDVCPP)           AB1233948;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Initialize routine

 //?***** Change Log and Comments
 DO;

 //?** 06/06/2019 JBB 15035
 //?** Reinstated in Tattoo Purge.  Used to be in HPEMSC
 //?** 03/13/2009 LJB FP1009
 //?** Commented out - this file is not being used enough to purge
 //?** 08/15/2007 LJB FP1009
 //?** Pass the purge date into this function
 ENDDO;

 //?USER: Process Data record

 //? 6/06/2019 JBB 15035 - now called from Tattoo Purge PKVOXFR
 EXECUTE FUNCTION(CRT Ttt Scale Purge   PRG) TYPE(CRTOBJ) FILE(PKDVCPP)          AB1279992;
 PARAMETER(DB1.TSP_Company_Number);
 PARAMETER(DB1.TSP_Buy_Order_Number);
 PARAMETER(DB1.TSP_Load_Number);
 PARAMETER(DB1.TSP_Tattoo_Number);
 PARAMETER(DB1.TSP_Kill_Date);
 PARAMETER(DB1.TSP_Sequence_Number);
 PARAMETER(DB1.TSP_Wgt_Date);
 PARAMETER(DB1.TSP_Wgt_Time);
 PARAMETER(DB1.TSP_Last_Zero_Date);
 PARAMETER(DB1.TSP_Last_Zero_Time);
 PARAMETER(DB1.TSP_Head);
 PARAMETER(DB1.Pen_Company_Number);
 PARAMETER(DB1.Pen_Number);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Dlt Tattoo Scale Purge DO) TYPE(DLTOBJ) FILE(PKDVCPP)          AB1194835;
 PARAMETER(DB1.TSP_Company_Number);
 PARAMETER(DB1.TSP_Buy_Order_Number);
 PARAMETER(DB1.TSP_Load_Number);
 PARAMETER(DB1.TSP_Tattoo_Number);
 PARAMETER(DB1.TSP_Kill_Date);
 PARAMETER(DB1.TSP_Sequence_Number);
}


EXECUTE FUNCTION(Prg Tto Scl Prg Msg   RT) TYPE(RTVOBJ) FILE(PKDWCPP)           AB1233949;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Initialize routine

 //?***** Change Log and Comments
 DO;

 //?** 06/06/2019 JBB 15035 - Add this purge as part of Tattoo purge.
 //?** Commented out in Tattoo Scale Purge, added to Tattoo purge.
 //?** 02/02/2009 LJB FP1009
 //?** Put back into production, add crt to save 1 year of records
 //?** 08/15/2007 LJB FP1009
 //?** Delete from production
 ENDDO;

 //?USER: Process Data record

 EXECUTE FUNCTION(CRT Tattoo Scl Purge Prg) TYPE(CRTOBJ) FILE(PKDWCPP)           AB1279990;
 PARAMETER(DB1.TSP_Company_Number);
 PARAMETER(DB1.TSP_Buy_Order_Number);
 PARAMETER(DB1.TSP_Load_Number);
 PARAMETER(DB1.TSP_Tattoo_Number);
 PARAMETER(DB1.TSP_Kill_Date);
 PARAMETER(DB1.TSP_Sequence_Number);
 PARAMETER(DB1.TSPM_Message_Seq);
 PARAMETER(DB1.TSPM_Message);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Dlt Tattoo Scl Purge   DO) TYPE(DLTOBJ) FILE(PKDWCPP)          AB1194846;
 PARAMETER(DB1.TSP_Company_Number);
 PARAMETER(DB1.TSP_Buy_Order_Number);
 PARAMETER(DB1.TSP_Load_Number);
 PARAMETER(DB1.TSP_Tattoo_Number);
 PARAMETER(DB1.TSP_Kill_Date);
 PARAMETER(DB1.TSP_Sequence_Number);
 PARAMETER(DB1.TSPM_Message_Seq);
}


