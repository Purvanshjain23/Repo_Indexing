// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLIZXFR
// ?Date: 14.08.2025 Time: 02:54:25
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(ZZCrt VCoNppc Std D/A  RT) TYPE(RTVOBJ) FILE(PKBEREP)          AB1277337;
{
 //?USER: Process Data record

 CASE;

 // IF DB1.DED D/A Code is NPPC
 IF DB1.DED_D_A_Code = 'NPPC';

 //?Review what vco is....susan mason 5/14/2017
 EXECUTE FUNCTION(ZZry Producer Std D/A Rt) TYPE(RTVOBJ) FILE(PKBEREP)           AB1277338;
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.PSDP_Company_Number);
 PARAMETER('VCO');
 {
  //?USER: Processing if Data record not found

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

  //?USER: Process Data record

  // PGM.*Return code = CND.*Record already exists
  PGM.*Return_code = 'Y2U0003';

 }

 CASE;

 // IF PGM.*Return code is *Record does not exist
 IF PGM.*Return_code = 'Y2U0005';

 EXECUTE FUNCTION(Crt Producer D/A      CO) TYPE(CRTOBJ) FILE(PKBEREP)           AB1104705;
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.PSDP_Company_Number);
 PARAMETER('VCO');
 PARAMETER(DB1.PSD_Variable_UOM);
 PARAMETER(DB1.PSD_Variable_Amount);
 PARAMETER(DB1.PSD_Varialbe_Amount_Sign);
 PARAMETER(DB1.PSD_Accept_Date);
 PARAMETER(DB1.PSD_Decline_Date);
 PARAMETER(DB1.PSD_Expense_Paid_By);
 PARAMETER(DB1.PSD_Status_Unused_2);
 PARAMETER(DB1.PSD_Status_Unused_3);
 PARAMETER(DB1.PSD_Status_Unused_4);
 PARAMETER(DB1.PSD_Status_Unused_5);
 PARAMETER(DB1.PSD_Status_Unused_6);
 PARAMETER(DB1.PSD_Status_Unused_7);
 PARAMETER(DB1.PSD_Status_Unused_8);
 PARAMETER(DB1.PSD_Status_Unused_9);
 PARAMETER(DB1.PSD_Status_Unused_10);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Add Stamp         IF) TYPE(EXCINTFUN)                      AB1100935;
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  {
   //?Execute internal function

   // PAR.RS Record Status = CND.Active
   PAR.RS_Record_Status = 'A';

   // PAR.RS User Added = JOB.*USER
   PAR.RS_User_Added = JOB.*USER;

   // PAR.RS Date Added = JOB.*Job date
   PAR.RS_Date_Added = JOB.*Job_date;

   // PAR.RS Time Added = JOB.*Job time
   PAR.RS_Time_Added = JOB.*Job_time;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

  }

 }

 // IF *OTHERWISE
 IF *OTHERWISE;

 EXECUTE FUNCTION(Chg Producer D/A      CH) TYPE(CHGOBJ) FILE(PKBEREP)           AB1104706;
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.PSDP_Company_Number);
 PARAMETER('VCO');
 PARAMETER(DB1.PSD_Variable_UOM);
 PARAMETER(DB1.PSD_Variable_Amount);
 PARAMETER(DB1.PSD_Varialbe_Amount_Sign);
 PARAMETER(DB1.PSD_Accept_Date);
 PARAMETER(DB1.PSD_Decline_Date);
 PARAMETER(DB1.PSD_Expense_Paid_By);
 PARAMETER(DB1.PSD_Status_Unused_2);
 PARAMETER(DB1.PSD_Status_Unused_3);
 PARAMETER(DB1.PSD_Status_Unused_4);
 PARAMETER(DB1.PSD_Status_Unused_5);
 PARAMETER(DB1.PSD_Status_Unused_6);
 PARAMETER(DB1.PSD_Status_Unused_7);
 PARAMETER(DB1.PSD_Status_Unused_8);
 PARAMETER(DB1.PSD_Status_Unused_9);
 PARAMETER(DB1.PSD_Status_Unused_10);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

 ENDIF;

 ENDIF;

}


