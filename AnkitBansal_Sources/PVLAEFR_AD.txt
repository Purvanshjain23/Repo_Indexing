// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PVLAEFR
// ?Date: 14.08.2025 Time: 03:52:25
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize subfile record (new record)

// RCD.Record Status = CND.Active
RCD.Record_Status = 'A';

//?USER: Validate subfile record relations

CASE;

// IF RCD.*SFLSEL is *Edit
IF RCD.*SFLSEL = '2'/'2';

// PGM.*Defer confirm = CND.Defer confirm
PGM.*Defer_confirm = 'Y';

// Execute command - 'STRSEU'
EXECUTE COMMAND(USR5553);
PARAMETER(RCD.Trigger_Library);
PARAMETER(RCD.Trigger_Source_File);
PARAMETER(RCD.Trigger_Name);
PARAMETER(2);

// RCD.*SFLSEL = CND.*Reset to blank
RCD.*SFLSEL = *BLANK;

// IF RCD.*SFLSEL is *Display
IF RCD.*SFLSEL = '5'/'5';

// PGM.*Defer confirm = CND.Defer confirm
PGM.*Defer_confirm = 'Y';

// Execute command - 'STRSEU'
EXECUTE COMMAND(USR5553);
PARAMETER(RCD.Trigger_Library);
PARAMETER(RCD.Trigger_Source_File);
PARAMETER(RCD.Trigger_Name);
PARAMETER(5);

// RCD.*SFLSEL = CND.*Reset to blank
RCD.*SFLSEL = *BLANK;

ENDIF;

//?USER: Create DBF record

EXECUTE FUNCTION(Create SQL Triggers) TYPE(CRTOBJ) FILE(PVCTCPP)                AC2244168;

//?USER: Delete DBF record

EXECUTE FUNCTION(Delete SQL Triggers) TYPE(DLTOBJ) FILE(PVCTCPP)                AC2244169;

//?USER: Change DBF record

EXECUTE FUNCTION(Change SQL Triggers) TYPE(CHGOBJ) FILE(PVCTCPP)                AC2244170;

