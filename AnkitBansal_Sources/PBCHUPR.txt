/***************************************************************** */
/*                                                                 */
/*  PROGRAM NUMBER:  PBCHUPR  - WRAP AROUND PDWKXFR                */
/*  PROGRAM NAME:    Print Ham Production Schedule                 */
/*  PROGRAMMER:      Susan Mason                                   */
/*  CREATE DATE:     03/02/2012                                    */
/*                                                                 */
/*  FUNCTION:        Print the Ham Production Schedule             */
/*                   and write out to a work file if the           */
/*                   HAMSPS is ne *blanks                          */
/*                   Then send this work file VIA email            */
/*******************************************************************/
/*  Modification History                                           */
/***************************************************************** */
/*  11/05/2012 SLM   REMOVE THE HAM SCHEDULE FROM THIS PROCESS     */
/*                   CURT TOLD USERS WE WOULD NOT SUPPLY THIS ANY  */
/*                   MORE                                          */
/***************************************************************** */
             PGM        PARM(&RETURN &PDEV &HOLD &SAVE &XCOPIESA +
                          &XCOMPA &XDATE)

/*-----------------------------------------------------------------*/
/*  PRT Printer Device          &PDEV                              */
/*  PRT Hold Output Sts         &HOLD                              */
/*  PRT Save Output Sts         &SAVE                              */
/*  PRT Number of Copies        &XCOPIESA COPIES                   */
/*  Company Number              &XCOMPA   COMP                     */
/*  Ham Group Production Date   &XDATE    DATEFRM                  */
/*  Ham Spread Sheet            &HAMSPS                            */
/*-----------------------------------------------------------------*/
/*                      PARAMETER                                  */
/*-----------------------------------------------------------------*/
/*-----------------------------------------------------------------*/
/*                    PROGRAM VARIABLES                            */
/*-----------------------------------------------------------------*/
             DCL        VAR(&RETURN) TYPE(*CHAR) LEN(7)
             DCL        VAR(&PDEV) TYPE(*CHAR) LEN(10)
             DCL        VAR(&HOLD) TYPE(*CHAR) LEN(4)
             DCL        VAR(&SAVE) TYPE(*CHAR) LEN(4)
             DCL        VAR(&XCOPIESA) TYPE(*CHAR) LEN(2)
             DCL        VAR(&XCOMPA) TYPE(*CHAR) LEN(3)
             DCL        VAR(&XDATE) TYPE(*CHAR) LEN(7)

             DCL        VAR(&COMP) TYPE(*DEC) LEN(3 0)
             DCL        VAR(&DATEFRM) TYPE(*DEC) LEN(7) VALUE(0)
             DCL        VAR(&COPIES) TYPE(*DEC) LEN(2 0)

             DCL        VAR(&VALUEH) TYPE(*CHAR) LEN(10) +
                          VALUE(HAMSPSHEET) /*COMP VALU*/
             DCL        VAR(&DISTH) TYPE(*CHAR) LEN(10) /* DIST LIST*/
             DCL        VAR(&TEXT) TYPE(*CHAR) LEN(50) /* +
                          DESCRIPTION        */

/*------------------------------------------------------------------*/
/* CONVERT PARAMETERS TO REQUIRED SIZE FOR PRINT FUNCTION                  */
/*------------------------------------------------------------------*/
             DCL        VAR(&DATA) TYPE(*CHAR) LEN(10) /* DATA +
                          FILES      */
             DCL        VAR(&DATAH) TYPE(*CHAR) LEN(10) /* HIST +
                          FILES      */
/*-----------------------------------------------------------------*/
/*                     INITIALIZATION                              */
/*-----------------------------------------------------------------*/
             CHGVAR     VAR(&COMP) VALUE(&XCOMPA)
             CHGVAR     VAR(&DATEFRM) VALUE(&XDATE)
             CHGVAR     VAR(&COPIES) VALUE(&XCOPIESA)

/*-----------------------------------------------------------------*/
/*                           MAIN                                  */
/*-----------------------------------------------------------------*/
 /* THE SPREAD SHEET IS BEING REMOVED FROM THIS PROCESS            */
 /* CLEAN UP REMOVE THE SEND OF THE HAM SCHEDULE VIA SPREAD SHEET  */
 /* E02202  SLM 11/05/2012    */
/*           IF         COND(&HAMSPS *NE '          ') THEN(DO)    */
/*           CALL      PGM(CAQXXFR) PARM(' ' &DATA &DATAH)         */

 HAM:
 /* E001891 SLM 02/29/2012    */
 /* E02202  SLM 11/05/2012    */
 /* CLEAN UP REMOVE THE SEND OF THE HAM SCHEDULE VIA SPREAD SHEET */
 /* THE SPREAD SHEET IS BEING REMOVED FROM THIS PROCESS            */
/********************************************************************/
 /*  Work file for the HAM Production Sch Report will be created     */
/*   created in the PDWKXFR                                          */
/********************************************************************/
/* copy files to qtemp     */
/*             CHKOBJ     OBJ(QTEMP/PBAICPP) OBJTYPE(*FILE)           */
/*             MONMSG     MSGID(CPF9801) EXEC(DO)                     */
/*                            object not found                        */
/*             CRTDUPOBJ  OBJ(PBAICPP) FROMLIB(&DATA) OBJTYPE(*FILE) +*/
/*                        TOLIB(QTEMP)                                */
/*           CRTDUPOBJ  OBJ(PBAICPL0) FROMLIB(&DATA) OBJTYPE(*FILE) + */
/*                        TOLIB(QTEMP)                                */
/*           CRTDUPOBJ  OBJ(PBAICPL1) FROMLIB(&DATA) OBJTYPE(*FILE) + */
/*                        TOLIB(QTEMP)                                */
/*                        ENDDO                                       */
/*                                                                    */
/*           CLRPFM     FILE(QTEMP/PBAICPP)                           */
/*                        ENDDO                                       */

/*           CALL       PGM(PDWKXFR) PARM('       ' &COMP &DATEFRM +
                          &PDEV &HOLD &SAVE &COPIES &HAMSPS)        */

             CALL       PGM(PDWKXFR) PARM('       ' &COMP &DATEFRM +
                          &PDEV &HOLD &SAVE &COPIES)

 ENDPGM1:
             DLTOVR     FILE(*ALL)
             ENDPGM
