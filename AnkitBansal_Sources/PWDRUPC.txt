/* PROGRAM:      PWDRUPC                                              */
/* PROGRAM NAME: CPY PrdcrSiteMFmToLib CL                             */
/* PROGRAMMER:   Julius HIgh                                          */
/* CREATE DATE:  07/04/2017                                           */
/*                                                                    */
/* FUNCTION:     This CLP will copy the Producer Site Mileage record  */
/*               from Producer Site From Library (TF) to the Producer */
/*               Site To Library (STP).                               */
/**********************************************************************/
/* Modification History                                               */
/*                                                                    */
/**********************************************************************/
             PGM        PARM(&PRDCR &PRDCRSITE &PSMCOM &PSMMILE +
                          &PRDSTFMLIB &PRDSTTOLIB)
/*--------------------------------------------------------------------*/
/*                      PARAMETER                                     */
/*--------------------------------------------------------------------*/
/* Function Specific                                                  */
             DCL        VAR(&PRDCR) TYPE(*CHAR) LEN(6)
             DCL        VAR(&PRDCRSITE) TYPE(*CHAR) LEN(10)
             DCL        VAR(&PSMCOM) TYPE(*CHAR) LEN(3)
             DCL        VAR(&PSMMILE) TYPE(*CHAR) LEN(5)
             DCL        VAR(&PRDSTFMLIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&PRDSTTOLIB) TYPE(*CHAR) LEN(10)
/*--------------------------------------------------------------------*/
/* Add Producer Site To Library                                      */
             ADDLIBLE   LIB(&PRDSTTOLIB) POSITION(*LAST)
             MONMSG     MSGID(CPF2103) /* LIB ALREADY EXIST */
/*--------------------------------------------------------------------*/
/* Override Access Paths to use Producer Site Mileage To Library      */
/*                      Producer Site - Update Index                  */
             OVRDBF     FILE(PLASREL0) TOFILE(&PRDSTTOLIB/PLASREL0)
/*                      Producer Site - Retrieval Index 2             */
             OVRDBF     FILE(PLASREL3) TOFILE(&PRDSTTOLIB/PLASREL3)
/*--------------------------------------------------------------------*/
/* Update Producer Site Mileage into Producer Site Mileage To Library */
             CALL       PGM(PWDSXFR) PARM('' &PRDCR &PRDCRSITE +
                          &PSMCOM &PSMMILE)
/*--------------------------------------------------------------------*/
/* Clean Up                                                           */
             DLTOVR     FILE(*ALL)
             RMVLIBLE   LIB(&PRDSTTOLIB)
/*--------------------------------------------------------------------*/
/*                      PROGRAM END                                   */
             ENDPGM
