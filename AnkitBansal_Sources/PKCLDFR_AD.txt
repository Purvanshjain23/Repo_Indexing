// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKCLDFR
// ?Date: 14.08.2025 Time: 02:48:56
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?Modifications and Comments
DO;

//?E4154 JJH 07/27/14 - Display the Pending Head, which is the sum
//?  of Un-Printed Tattoo Scale Tickets.  (Record Status = A on the
//?  Tattoo Scale Ticket file)
//?- New Option F10=Dsp Pending Head
//?H16853 ISE 11/09/2020 - Recompiled due to change in Buy Order Number
ENDDO;

// PGM.*Scan limit = CND.No Max
PGM.*Scan_limit = 999999;

//?USER: Initialize subfile control

// CTL.Pen Tto Scl Tkt Head USR = PAR.Pen Tto Scl Tkt Head USR
CTL.Pen_Tto_Scl_Tkt_Head_USR = PAR.Pen_Tto_Scl_Tkt_Head_USR;

//?USER: Initialize subfile record from DBF record

EXECUTE FUNCTION(Rtv Ttt Genetic,sex   RT) TYPE(RTVOBJ) FILE(PKA1CPP)           AB1143726;
PARAMETER(RCD.BOH_Company_Number);
PARAMETER(RCD.BOH_Buy_Order_Number);
PARAMETER(RCD.BOL_Load_Number);
PARAMETER(RCD.TH_Tattoo_Number);
PARAMETER(RCD.TH_Kill_Date);
PARAMETER(RCD.TH_Sex);
PARAMETER(RCD.GN_Genetic_Code);
{
 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


//?USER: Process subfile control (Pre-confirm)

//?E4154 JJH 07/31/15 - New Option to Display Pending Head
CASE;

// IF CTL.*CMD key is CF10
IF CTL.*CMD_key = '10';

// Call program Dsp Tto Scl Tkt N/Prt DF.
CALL PROGRAM(Dsp Tto Scl Tkt N/Prt DF) ('PLXODFR');
PARAMETER(CTL.BOH_Company_Number);
PARAMETER(CTL.Pen_Number);

ENDIF;

