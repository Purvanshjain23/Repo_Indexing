// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDFPXFR
// ?Date: 14.08.2025 Time: 03:34:29
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(zzV Truck Dep Date     RT) TYPE(RTVOBJ) FILE(OMFJCPP)          AC1494017;
{
 //?USER: Initialize routine

 // WRK.USR Date - ATR = CON.0971231
 WRK.USR_Date_ATR = 0971231;

 //?USER: Process Data record

 CASE;

 // IF DB1.Truck Departure Date EQ WRK.ZERO
 IF DB1.Truck_Departure_Date = WRK.ZERO;

 // AND DB1.Scheduled Ship Date LE WRK.USR Date - ATR
 AND DB1.Scheduled_Ship_Date <= WRK.USR_Date_ATR;

 CASE;

 // IF DB1.Load Status is Invoiced
 IF DB1.Load_Status = 'I';

 EXECUTE FUNCTION(CHG Load Header        CH) TYPE(CHGOBJ) FILE(OMFJCPP)          AC1183330;
 PARAMETER(DB1.Load_ID);
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Scheduled_Ship_Date);
 PARAMETER(DB1.LTL_Flag);
 PARAMETER(DB1.Load_Status);
 PARAMETER(DB1.Reefer_Temperature);
 PARAMETER(DB1.Seal_1);
 PARAMETER(DB1.Seal_2);
 PARAMETER(DB1.Seal_3);
 PARAMETER(DB1.Total_Load_Order_Weight);
 PARAMETER(DB1.Flat_Amount);
 PARAMETER(DB1.Allocate_Pounds_Miles);
 PARAMETER(DB1.Total_Stops);
 PARAMETER(DB1.Trailer_Id);
 PARAMETER(DB1.Transloader_Carrier_Code);
 PARAMETER(DB1.BOL_Time);
 PARAMETER(DB1.Carrier_Code);
 PARAMETER(DB1.Truck_Size);
 PARAMETER(DB1.Ld_Hdr_Ld_Dtl_Unused);
 PARAMETER(DB1.Rated_Freight);
 PARAMETER(DB1.Ship_Status);
 PARAMETER(DB1.Load_Type);
 PARAMETER(DB1.Number_Pallets_Received);
 PARAMETER(DB1.Number_Pallets_Loaded);
 PARAMETER(DB1.Load_Carrier_Pay_Amt);
 PARAMETER(DB1.Estimated_Arrival_Time);
 PARAMETER(DB1.Actual_Arrival_Date);
 PARAMETER(DB1.Actual_Arrival_Time);
 PARAMETER(DB1.Trailer_IN_Weight);
 PARAMETER(DB1.Trailer_OUT_Weight);
 PARAMETER(DB1.Actual_Departure_Date);
 PARAMETER(DB1.Departure_Time);
 PARAMETER(DB1.Schedule_Sequence_Number);
 PARAMETER(DB1.Product_Temperature);
 PARAMETER(DB1.Number_Spacers_Loaded);
 PARAMETER(DB1.Car_Veh_Initials);
 PARAMETER(DB1.Total_Load_Miles);
 PARAMETER(DB1.Recorder_ID);
 PARAMETER(DB1.Shipping_Method);
 PARAMETER(DB1.Ship_From_Warehouse);
 PARAMETER(DB1.Ship_To_State_Code);
 PARAMETER(DB1.Gross_Weight);
 PARAMETER(DB1.Carrier_Broker);
 PARAMETER(DB1.Export_Status);
 PARAMETER(DB1.Actual_Ship_Date);
 PARAMETER(DB1.On_Time_Y_N);
 PARAMETER(DB1.Truck_Ready_Date);
 PARAMETER(DB1.Truck_Ready_Time);
 PARAMETER(DB1.Spotted_Date);
 PARAMETER(DB1.Spotted_Time);
 PARAMETER(DB1.Load_Finished_Date);
 PARAMETER(DB1.Load_Finished_Time);
 PARAMETER(DB1.BOL_Complete_Date);
 PARAMETER(DB1.BOL_Complete_Time);
 PARAMETER(DB1.BOL_Received_Date);
 PARAMETER(DB1.BOL_Received_Time);
 PARAMETER(DB1.Scheduled_Ship_Date);
 PARAMETER(DB1.Truck_Departure_Time);
 PARAMETER(DB1.Adjusted_Departure_Date);
 PARAMETER(DB1.Adjusted_Departure_Time);
 PARAMETER(DB1.Shipping_Line);
 PARAMETER(DB1.Port_Delv_Terminal);
 PARAMETER(DB1.Vessel_Name);
 PARAMETER(DB1.Voyage);
 PARAMETER(DB1.Sail_Date);
 PARAMETER(DB1.Booking_Number);
 PARAMETER(DB1.Discharge_Port);
 PARAMETER(DB1.Arrival_Date);
 PARAMETER(DB1.Container_Number);
 PARAMETER(DB1.Date_In);
 PARAMETER(DB1.Time_In);
 PARAMETER(DB1.Date_Out);
 PARAMETER(DB1.Time_Out);
 PARAMETER(DB1.Load_Total_Freight);
 PARAMETER(DB1.Scheduled_Delivery_Date);
 PARAMETER(DB1.LH_Unused_Sts);
 PARAMETER(DB1.LH_Carrier_Payment_Sts);
 PARAMETER(DB1.Bring_Back_Miles);
 PARAMETER(DB1.Requested_Delivery_Date);
 PARAMETER(DB1.Load_Acceptance_Flag);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.On_Yard_Date);
 PARAMETER(DB1.On_Yard_Time);
 PARAMETER(DB1.Deadline_Departure_Date);
 PARAMETER(DB1.Deadline_Departure_Time);
 PARAMETER(DB1.Load_Held_Over);
 PARAMETER(DB1.Load_Held_Over_Reason);
 PARAMETER(*MISSING);
 PARAMETER(DB1.Ocean_BOL_Number);
 PARAMETER(DB1.Express_Mail_Number);
 PARAMETER(DB1.Express_Mail_Date);
 PARAMETER(DB1.Load_Shag_Flag);
 PARAMETER(DB1.Load_Wash_Flag);
 PARAMETER(DB1.Product_Complete_Date);
 PARAMETER(DB1.Product_Complete_Time);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(DB1.Load_Confirmation_Time);
 PARAMETER(DB1.Load_Door_1);
 PARAMETER(DB1.Override_Total_Load_Miles);
 PARAMETER(DB1.Load_Door_2);
 PARAMETER(DB1.Partial_Load);
 PARAMETER(DB1.Load_Confirmation_Fax_Sts);
 PARAMETER(DB1.Export_Load_USDA_OK);
 PARAMETER(DB1.Late_Delivery_Email_Flag);
 PARAMETER(DB1.Load_Actual_Freight);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(*MISSING);
 PARAMETER(DB1.LH_On_Time_Reason_Code);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Set Date/Time Stamp   IF) TYPE(EXCINTFUN)                      AC1142219;
  {
   //?Execute internal function

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*JOB
   PAR.Job_Name = JOB.*JOB;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  //?***** Change Log and Comments
  DO;

  //?06/28/2006 LJB TRF011
  //?** Added 3 char LH On-Time Reason Code as an input parm to
  //?** replace the 1 char On Time Reason parm
  ENDDO;

 }

 ENDIF;

 ENDIF;

}


