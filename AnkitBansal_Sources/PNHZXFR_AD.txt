// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PNHZXFR
// ?Date: 14.08.2025 Time: 03:45:13
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?E9064  4/20/17 add comp 440
//?FP1054 4/29/09 new function
//?Create copy of the  "S"chedule records right after the sched is built
//?Display on the Dsp Schedule Variance screen when requested.
EXECUTE FUNCTION(BPS CRT SCH X Rcd     RT) TYPE(RTVOBJ) FILE(PDI8CPP)           AC1933419;
PARAMETER(360);
PARAMETER('S');
PARAMETER(PAR.Production_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(UPS Crt Prd Dtl Rec   CR) TYPE(CRTOBJ) FILE(PDI8CPP)           AC1307056;
 PARAMETER(DB1.Company_Number);
 PARAMETER('X');
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.PS_Available_Ship_Date);
 PARAMETER(DB1.PS_Weight_Planned_Prod);
 PARAMETER(DB1.PS_Pieces_Planned_Prod);
 PARAMETER(DB1.PS_Pct_of_Carcass_Yield);
 PARAMETER(DB1.PS_Avg_Piece_Wgt);
 PARAMETER(DB1.PS_Weight_Inv_On_Hand);
 PARAMETER(DB1.PS_Pieces_Inv_On_Hand);
 PARAMETER(DB1.PS_Weight_Standard);
 PARAMETER(DB1.PS_Pieces_Standard);
 PARAMETER(DB1.PS_Weight_Converted);
 PARAMETER(DB1.PS_Pieces_Converted);
 PARAMETER(DB1.PS_Weight_Shipping_Adj);
 PARAMETER(DB1.PS_Pieces_Shipping_Adj);
 PARAMETER(DB1.PS_Weight_Prod_Adj);
 PARAMETER(DB1.PS_Pieces_Prod_Adj);
 PARAMETER(DB1.PS_Weight_Inv_Adj);
 PARAMETER(DB1.PS_Pieces_Inv_Adj);
 PARAMETER(DB1.PS_Weight_Ship_Cut_Adj);
 PARAMETER(DB1.PS_Pieces_Ship_Cut_Adj);
 PARAMETER(DB1.PS_Weight_Prod_Allocated);
 PARAMETER(DB1.PS_Pieces_Prod_Allocated);
 PARAMETER(DB1.PS_Weight_Inv_Allocated);
 PARAMETER(DB1.PS_Pieces_Inv_Allocated);
 PARAMETER(DB1.PS_Unit_Weight);
 PARAMETER(DB1.PS_Pieces_Whs_Tfr_Adj);
 PARAMETER(DB1.PS_Weight_Whs_Tfr_Adj);
 PARAMETER(DB1.PS_Pieces_Unused_2);
 PARAMETER(DB1.PS_Weight_Unused_3);
 PARAMETER(DB1.PS_Pieces_Unused_3);
 PARAMETER(DB1.PS_Weight_Unused_4);
 PARAMETER(DB1.PS_Pieces_Unused_4);
 PARAMETER(DB1.PS_Weight_Unused_5);
 PARAMETER(DB1.PS_Pieces_Unused_5);
 PARAMETER(DB1.PS_Weight_Unused_6);
 PARAMETER(DB1.PS_Pieces_Unused_6);
 PARAMETER(DB1.PS_Item_Id);
 PARAMETER(DB1.Warehouse_Type);
 PARAMETER(DB1.PS_Lock_Status);
 PARAMETER(DB1.PS_Export_Domestic);
 PARAMETER(DB1.PS_Print_On_Schedule);
 PARAMETER(DB1.PS_Piece_Count_Item);
 PARAMETER(DB1.PS_Unused_Sts_1);
 PARAMETER(DB1.PS_Unused_Sts_2);
 PARAMETER(DB1.PS_Unused_Sts_3);
 PARAMETER(DB1.PS_Unused_Sts_4);
 PARAMETER(DB1.PS_Item_Sched_Need_Sts);
 PARAMETER(DB1.PS_Production_Warehouse);
 PARAMETER(DB1.PS_Weight_Ordered);
 PARAMETER(DB1.PS_Pieces_Ordered);
 PARAMETER(DB1.PS_Weight_FC_Adjusted);
 PARAMETER(DB1.PS_Pieces_FC_Adjusted);
 PARAMETER(DB1.PS_Weight_FX_Adjusted);
 PARAMETER(DB1.PS_Pieces_FX_Adjusted);
 PARAMETER(DB1.PS_Weight_Sched_Shipment);
 PARAMETER(DB1.PS_Pieces_Sched_Shipment);
 PARAMETER(DB1.PS_Weight_Available_Prod);
 PARAMETER(DB1.PS_Pieces_Available_Prod);
 PARAMETER(DB1.PS_Weight_Production_Need);
 PARAMETER(DB1.PS_Pieces_Production_Need);
 PARAMETER(DB1.PS_Weight_Fab_Needs);
 PARAMETER(DB1.PS_Pieces_Fab_Needs);
 PARAMETER(DB1.PS_Weight_Sched_Prod);
 PARAMETER(DB1.PS_Pieces_Sched_Prod);
 PARAMETER(DB1.PS_Weight_Sched_Need);
 PARAMETER(DB1.PS_Pieces_Sched_Need);
 PARAMETER(DB1.Department_Code);
 PARAMETER(DB1.Item_Structure_Type_Code);
 PARAMETER(DB1.Item_Structure_Group_Code);
 PARAMETER(DB1.Item_Structure_Class_Code);
 PARAMETER(DB1.Primal_Group_Code);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(UPS CRTOBJ Stamp      IF) TYPE(EXCINTFUN)                      AC1359517;
  PARAMETER(DB1.Record_Status);
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Record Status = CND.Active
   PAR.Record_Status = 'A';

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*PROGRAM
   PAR.Job_Name = JOB.*PROGRAM;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  // DB1.PS Lock Status = CND.NOT LOCKED
  DB1.PS_Lock_Status = 'N';

  //?USER: Processing if Data record already exists

  // PGM.*Return code = CND.*Normal
  PGM.*Return_code = *BLANK;

 }

}


EXECUTE FUNCTION(BPS CRT SCH X Rcd     RT) TYPE(RTVOBJ) FILE(PDI8CPP)           AC1933419;
PARAMETER(960);
PARAMETER('S');
PARAMETER(PAR.Production_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(UPS Crt Prd Dtl Rec   CR) TYPE(CRTOBJ) FILE(PDI8CPP)           AC1307056;
 PARAMETER(DB1.Company_Number);
 PARAMETER('X');
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.PS_Available_Ship_Date);
 PARAMETER(DB1.PS_Weight_Planned_Prod);
 PARAMETER(DB1.PS_Pieces_Planned_Prod);
 PARAMETER(DB1.PS_Pct_of_Carcass_Yield);
 PARAMETER(DB1.PS_Avg_Piece_Wgt);
 PARAMETER(DB1.PS_Weight_Inv_On_Hand);
 PARAMETER(DB1.PS_Pieces_Inv_On_Hand);
 PARAMETER(DB1.PS_Weight_Standard);
 PARAMETER(DB1.PS_Pieces_Standard);
 PARAMETER(DB1.PS_Weight_Converted);
 PARAMETER(DB1.PS_Pieces_Converted);
 PARAMETER(DB1.PS_Weight_Shipping_Adj);
 PARAMETER(DB1.PS_Pieces_Shipping_Adj);
 PARAMETER(DB1.PS_Weight_Prod_Adj);
 PARAMETER(DB1.PS_Pieces_Prod_Adj);
 PARAMETER(DB1.PS_Weight_Inv_Adj);
 PARAMETER(DB1.PS_Pieces_Inv_Adj);
 PARAMETER(DB1.PS_Weight_Ship_Cut_Adj);
 PARAMETER(DB1.PS_Pieces_Ship_Cut_Adj);
 PARAMETER(DB1.PS_Weight_Prod_Allocated);
 PARAMETER(DB1.PS_Pieces_Prod_Allocated);
 PARAMETER(DB1.PS_Weight_Inv_Allocated);
 PARAMETER(DB1.PS_Pieces_Inv_Allocated);
 PARAMETER(DB1.PS_Unit_Weight);
 PARAMETER(DB1.PS_Pieces_Whs_Tfr_Adj);
 PARAMETER(DB1.PS_Weight_Whs_Tfr_Adj);
 PARAMETER(DB1.PS_Pieces_Unused_2);
 PARAMETER(DB1.PS_Weight_Unused_3);
 PARAMETER(DB1.PS_Pieces_Unused_3);
 PARAMETER(DB1.PS_Weight_Unused_4);
 PARAMETER(DB1.PS_Pieces_Unused_4);
 PARAMETER(DB1.PS_Weight_Unused_5);
 PARAMETER(DB1.PS_Pieces_Unused_5);
 PARAMETER(DB1.PS_Weight_Unused_6);
 PARAMETER(DB1.PS_Pieces_Unused_6);
 PARAMETER(DB1.PS_Item_Id);
 PARAMETER(DB1.Warehouse_Type);
 PARAMETER(DB1.PS_Lock_Status);
 PARAMETER(DB1.PS_Export_Domestic);
 PARAMETER(DB1.PS_Print_On_Schedule);
 PARAMETER(DB1.PS_Piece_Count_Item);
 PARAMETER(DB1.PS_Unused_Sts_1);
 PARAMETER(DB1.PS_Unused_Sts_2);
 PARAMETER(DB1.PS_Unused_Sts_3);
 PARAMETER(DB1.PS_Unused_Sts_4);
 PARAMETER(DB1.PS_Item_Sched_Need_Sts);
 PARAMETER(DB1.PS_Production_Warehouse);
 PARAMETER(DB1.PS_Weight_Ordered);
 PARAMETER(DB1.PS_Pieces_Ordered);
 PARAMETER(DB1.PS_Weight_FC_Adjusted);
 PARAMETER(DB1.PS_Pieces_FC_Adjusted);
 PARAMETER(DB1.PS_Weight_FX_Adjusted);
 PARAMETER(DB1.PS_Pieces_FX_Adjusted);
 PARAMETER(DB1.PS_Weight_Sched_Shipment);
 PARAMETER(DB1.PS_Pieces_Sched_Shipment);
 PARAMETER(DB1.PS_Weight_Available_Prod);
 PARAMETER(DB1.PS_Pieces_Available_Prod);
 PARAMETER(DB1.PS_Weight_Production_Need);
 PARAMETER(DB1.PS_Pieces_Production_Need);
 PARAMETER(DB1.PS_Weight_Fab_Needs);
 PARAMETER(DB1.PS_Pieces_Fab_Needs);
 PARAMETER(DB1.PS_Weight_Sched_Prod);
 PARAMETER(DB1.PS_Pieces_Sched_Prod);
 PARAMETER(DB1.PS_Weight_Sched_Need);
 PARAMETER(DB1.PS_Pieces_Sched_Need);
 PARAMETER(DB1.Department_Code);
 PARAMETER(DB1.Item_Structure_Type_Code);
 PARAMETER(DB1.Item_Structure_Group_Code);
 PARAMETER(DB1.Item_Structure_Class_Code);
 PARAMETER(DB1.Primal_Group_Code);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(UPS CRTOBJ Stamp      IF) TYPE(EXCINTFUN)                      AC1359517;
  PARAMETER(DB1.Record_Status);
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Record Status = CND.Active
   PAR.Record_Status = 'A';

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*PROGRAM
   PAR.Job_Name = JOB.*PROGRAM;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  // DB1.PS Lock Status = CND.NOT LOCKED
  DB1.PS_Lock_Status = 'N';

  //?USER: Processing if Data record already exists

  // PGM.*Return code = CND.*Normal
  PGM.*Return_code = *BLANK;

 }

}


EXECUTE FUNCTION(BPS CRT SCH X Rcd     RT) TYPE(RTVOBJ) FILE(PDI8CPP)           AC1933419;
PARAMETER(440);
PARAMETER('S');
PARAMETER(PAR.Production_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(UPS Crt Prd Dtl Rec   CR) TYPE(CRTOBJ) FILE(PDI8CPP)           AC1307056;
 PARAMETER(DB1.Company_Number);
 PARAMETER('X');
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.PS_Available_Ship_Date);
 PARAMETER(DB1.PS_Weight_Planned_Prod);
 PARAMETER(DB1.PS_Pieces_Planned_Prod);
 PARAMETER(DB1.PS_Pct_of_Carcass_Yield);
 PARAMETER(DB1.PS_Avg_Piece_Wgt);
 PARAMETER(DB1.PS_Weight_Inv_On_Hand);
 PARAMETER(DB1.PS_Pieces_Inv_On_Hand);
 PARAMETER(DB1.PS_Weight_Standard);
 PARAMETER(DB1.PS_Pieces_Standard);
 PARAMETER(DB1.PS_Weight_Converted);
 PARAMETER(DB1.PS_Pieces_Converted);
 PARAMETER(DB1.PS_Weight_Shipping_Adj);
 PARAMETER(DB1.PS_Pieces_Shipping_Adj);
 PARAMETER(DB1.PS_Weight_Prod_Adj);
 PARAMETER(DB1.PS_Pieces_Prod_Adj);
 PARAMETER(DB1.PS_Weight_Inv_Adj);
 PARAMETER(DB1.PS_Pieces_Inv_Adj);
 PARAMETER(DB1.PS_Weight_Ship_Cut_Adj);
 PARAMETER(DB1.PS_Pieces_Ship_Cut_Adj);
 PARAMETER(DB1.PS_Weight_Prod_Allocated);
 PARAMETER(DB1.PS_Pieces_Prod_Allocated);
 PARAMETER(DB1.PS_Weight_Inv_Allocated);
 PARAMETER(DB1.PS_Pieces_Inv_Allocated);
 PARAMETER(DB1.PS_Unit_Weight);
 PARAMETER(DB1.PS_Pieces_Whs_Tfr_Adj);
 PARAMETER(DB1.PS_Weight_Whs_Tfr_Adj);
 PARAMETER(DB1.PS_Pieces_Unused_2);
 PARAMETER(DB1.PS_Weight_Unused_3);
 PARAMETER(DB1.PS_Pieces_Unused_3);
 PARAMETER(DB1.PS_Weight_Unused_4);
 PARAMETER(DB1.PS_Pieces_Unused_4);
 PARAMETER(DB1.PS_Weight_Unused_5);
 PARAMETER(DB1.PS_Pieces_Unused_5);
 PARAMETER(DB1.PS_Weight_Unused_6);
 PARAMETER(DB1.PS_Pieces_Unused_6);
 PARAMETER(DB1.PS_Item_Id);
 PARAMETER(DB1.Warehouse_Type);
 PARAMETER(DB1.PS_Lock_Status);
 PARAMETER(DB1.PS_Export_Domestic);
 PARAMETER(DB1.PS_Print_On_Schedule);
 PARAMETER(DB1.PS_Piece_Count_Item);
 PARAMETER(DB1.PS_Unused_Sts_1);
 PARAMETER(DB1.PS_Unused_Sts_2);
 PARAMETER(DB1.PS_Unused_Sts_3);
 PARAMETER(DB1.PS_Unused_Sts_4);
 PARAMETER(DB1.PS_Item_Sched_Need_Sts);
 PARAMETER(DB1.PS_Production_Warehouse);
 PARAMETER(DB1.PS_Weight_Ordered);
 PARAMETER(DB1.PS_Pieces_Ordered);
 PARAMETER(DB1.PS_Weight_FC_Adjusted);
 PARAMETER(DB1.PS_Pieces_FC_Adjusted);
 PARAMETER(DB1.PS_Weight_FX_Adjusted);
 PARAMETER(DB1.PS_Pieces_FX_Adjusted);
 PARAMETER(DB1.PS_Weight_Sched_Shipment);
 PARAMETER(DB1.PS_Pieces_Sched_Shipment);
 PARAMETER(DB1.PS_Weight_Available_Prod);
 PARAMETER(DB1.PS_Pieces_Available_Prod);
 PARAMETER(DB1.PS_Weight_Production_Need);
 PARAMETER(DB1.PS_Pieces_Production_Need);
 PARAMETER(DB1.PS_Weight_Fab_Needs);
 PARAMETER(DB1.PS_Pieces_Fab_Needs);
 PARAMETER(DB1.PS_Weight_Sched_Prod);
 PARAMETER(DB1.PS_Pieces_Sched_Prod);
 PARAMETER(DB1.PS_Weight_Sched_Need);
 PARAMETER(DB1.PS_Pieces_Sched_Need);
 PARAMETER(DB1.Department_Code);
 PARAMETER(DB1.Item_Structure_Type_Code);
 PARAMETER(DB1.Item_Structure_Group_Code);
 PARAMETER(DB1.Item_Structure_Class_Code);
 PARAMETER(DB1.Primal_Group_Code);
 PARAMETER(DB1.EDI_Status_1);
 PARAMETER(DB1.EDI_Status_2);
 PARAMETER(DB1.EDI_Status_3);
 PARAMETER(DB1.Record_Status);
 PARAMETER(DB1.Job_Time);
 PARAMETER(DB1.User_Id);
 PARAMETER(DB1.Job_Name);
 PARAMETER(DB1.Job_Date);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(UPS CRTOBJ Stamp      IF) TYPE(EXCINTFUN)                      AC1359517;
  PARAMETER(DB1.Record_Status);
  PARAMETER(DB1.Job_Time);
  PARAMETER(DB1.User_Id);
  PARAMETER(DB1.Job_Name);
  PARAMETER(DB1.Job_Date);
  {
   //?Execute internal function

   // PAR.Record Status = CND.Active
   PAR.Record_Status = 'A';

   // PAR.Job Time = JOB.*Job time
   PAR.Job_Time = JOB.*Job_time;

   // PAR.User Id = JOB.*USER
   PAR.User_Id = JOB.*USER;

   // PAR.Job Name = JOB.*PROGRAM
   PAR.Job_Name = JOB.*PROGRAM;

   // PAR.Job Date = JOB.*Job date
   PAR.Job_Date = JOB.*Job_date;

  }

  // DB1.PS Lock Status = CND.NOT LOCKED
  DB1.PS_Lock_Status = 'N';

  //?USER: Processing if Data record already exists

  // PGM.*Return code = CND.*Normal
  PGM.*Return_code = *BLANK;

 }

}


//?FP1054 6/09/09 copy comments from  "P" to "S"
EXECUTE FUNCTION(Rtv Del for rebuild   RT) TYPE(RTVOBJ) FILE(PDJDCPP)           AC1941326;
PARAMETER(360);
PARAMETER('S');
PARAMETER(PAR.Production_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(DLT Production Sched   DL) TYPE(DLTOBJ) FILE(PDJDCPP)          AC1265863;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Type);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Sequence_Number);
}


EXECUTE FUNCTION(Rtv Del for rebuild   RT) TYPE(RTVOBJ) FILE(PDJDCPP)           AC1941326;
PARAMETER(960);
PARAMETER('S');
PARAMETER(PAR.Production_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(DLT Production Sched   DL) TYPE(DLTOBJ) FILE(PDJDCPP)          AC1265863;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Type);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Sequence_Number);
}


EXECUTE FUNCTION(Rtv Del for rebuild   RT) TYPE(RTVOBJ) FILE(PDJDCPP)           AC1941326;
PARAMETER(440);
PARAMETER('S');
PARAMETER(PAR.Production_Date);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(DLT Production Sched   DL) TYPE(DLTOBJ) FILE(PDJDCPP)          AC1265863;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Production_Type);
 PARAMETER(DB1.Production_Date);
 PARAMETER(DB1.Item_Code);
 PARAMETER(DB1.Warehouse_Code);
 PARAMETER(DB1.Sequence_Number);
}


// Call program Cpy Comments to dt/tp EF.
CALL PROGRAM(Cpy Comments to dt/tp EF) ('PDYWXFR');
PARAMETER(360);
PARAMETER('P');
PARAMETER(PAR.Production_Date);
PARAMETER('S');
PARAMETER(PAR.Production_Date);

// Call program Cpy Comments to dt/tp EF.
CALL PROGRAM(Cpy Comments to dt/tp EF) ('PDYWXFR');
PARAMETER(960);
PARAMETER('P');
PARAMETER(PAR.Production_Date);
PARAMETER('S');
PARAMETER(PAR.Production_Date);

// Call program Cpy Comments to dt/tp EF.
CALL PROGRAM(Cpy Comments to dt/tp EF) ('PDYWXFR');
PARAMETER(440);
PARAMETER('P');
PARAMETER(PAR.Production_Date);
PARAMETER('S');
PARAMETER(PAR.Production_Date);

