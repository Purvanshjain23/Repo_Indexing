// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDJISRR
// ?Date: 14.08.2025 Time: 03:28:32
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

// LCL.First Time Flag = CND.Yes
LCL.First_Time_Flag = 'Y';

//?USER: Load subfile record from DBF record

// RCD.USR Item Type Description = Condition name of DB1.Production Date Control
RCD.USR_Item_Type_Description = RTVCND(DB1.Production_Date_Control);

//?If Company entered then select only those items equal to company
CASE;

// IF CTL.Accounting Company Number is not equal to zero
IF CTL.Company_Number <> *ZERO;

CASE;

// IF CTL.Accounting Company Number NE DB1.Accounting Company Number
IF CTL.Company_Number <> DB1.Company_Number;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

ENDIF;

CASE;

// IF LCL.First Time Flag is Yes
IF LCL.First_Time_Flag = 'Y';

// LCL.First Time Flag = CND.NO
LCL.First_Time_Flag = 'N';

// CTL.Item Type Code = CND.Finished Good
CTL.Item_Type_Code = 'FG';

ENDIF;

CASE;

// IF DB1.Item Type Code NE CTL.Item Type Code
IF DB1.Item_Type_Code <> CTL.Item_Type_Code;

// AND CTL.Item Type Code is Entered
AND CTL.Item_Type_Code <> *BLANK;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

