/*********************************************************************/
/*     THIS CL CREATES OR DELETES THE PD LOAD CONFIRMATION WORK FILE */
/*     IN QTEMP, BASED ON INCOMING FLAG                              */
/*      PARMS:                                                       */
/*         &PROCESS   FLAG TELLING WHAT TO DO OMPVDFR=WW LOADS       */
/*                                            PDNUDFR=WW ALL LOADS   */
/*********************************************************************/

PDDNUPC:  PGM PARM(&PROCESS)
             DCL        VAR(&PROCESS) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DATALIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&HISTLIB) TYPE(*CHAR) LEN(10)

             CALL PGM(CAQXXFR) PARM(' ' &DATALIB &HISTLIB)

             DLTF       FILE(QTEMP/PDLNCPL*)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/PDLNCPP)
             MONMSG     MSGID(CPF0000)

             CRTDUPOBJ  OBJ(PDLNCPP) FROMLIB(&DATALIB) +
                          OBJTYPE(*FILE) TOLIB(QTEMP)
             CRTDUPOBJ  OBJ(PDLNCPL0) FROMLIB(&DATALIB) +
                          OBJTYPE(*FILE) TOLIB(QTEMP)
             CRTDUPOBJ  OBJ(PDLNCPL1) FROMLIB(&DATALIB) +
                          OBJTYPE(*FILE) TOLIB(QTEMP)
             CRTDUPOBJ  OBJ(PDLNCPL3) FROMLIB(&DATALIB) +
                          OBJTYPE(*FILE) TOLIB(QTEMP)

             IF (&PROCESS *EQ 'OMPVDFR') THEN(DO)
                CALL OMPVDFR ''
             ENDDO
             IF (&PROCESS *EQ 'PDNUDFR') THEN(DO)
                CALL PDNUDFR ''
             ENDDO

             DLTF       FILE(QTEMP/PDLNCPL*)
             MONMSG     MSGID(CPF0000)
             DLTF       FILE(QTEMP/PDLNCPP)
             MONMSG     MSGID(CPF0000)

EXIT:  ENDPGM
