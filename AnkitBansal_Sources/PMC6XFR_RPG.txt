     H/TITLE PRC Fax One Cust Combo XF Execute external functio
     H            Y
     Z* CRTRPGPGM
     Z* CVTOPT(*DATETIME)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by AllFusion 2E release 8.1SP2 (1250)
     H* Function type : Execute external function
      *
     H* Company       : OMS Development Model
     H* System        : OMS Development Model
     H* User name     : ISLBUSE
     H* Date          : 04/19/10  Time  : 16:15:33
     H* Copyright     : OMS Development Model
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FPNF7REL1IF  E           K        DISK
      * RTV : Cust Distribution Entry   Retrieval index
      *
     FCABBREL1IF  E           K        DISK
      * RTV : Customer                  Retrieval index       NV
      *
      * Long constants
     E                    @CN#    1   1  6   @CN    25
     I@F7REFP
      * Cust Distribution Entry   Retrieval index
      * Renamed input format fields
     I              F7BKC7                          WABKC7
     I              F7MNAA                          WAMNAA
     I              F7RNNY                          WARNNY
     I              F7WLT1                          WAWLT1
     I              F7IRST                          WAIRST
     I              F7WMT1                          WAWMT1
     I              F7VSST                          WAVSST
     I              F7MJDT                          WAMJDT
     I              F7BETM                          WABETM
     I              F7CCVN                          WACCVN
     I              F7CDVN                          WACDVN
     I              F7MKDT                          WAMKDT
     I              F7BFTM                          WABFTM
     I              F7CEVN                          WACEVN
     I              F7CFVN                          WACFVN
      *
     I@BBREE9
      * Customer                  Retrieval index       NV
      * Renamed input format fields
     I              BBBKC7                          WBBKC7
     I              BBAYTX                          WBAYTX
     I              BBACNA                          WBACNA
     I              BBADNA                          WBADNA
     I              BBAENA                          WBAENA
     I              BBAJNA                          WBAJNA
     I              BBBGCD                          WBBGCD
     I              BBG5CD                          WBG5CD
     I              BBBTTX                          WBBTTX
     I              BBBVTX                          WBBVTX
     I              BBBWTX                          WBBWTX
     I              BBABTX                          WBABTX
     I              BBA2NA                          WBA2NA
     I              BBCBST                          WBCBST
     I              BBB0NA                          WBB0NA
     I              BBP3NB                          WBP3NB
     I              BBAXNA                          WBAXNA
     I              BBI6DT                          WBI6DT
     I              BBAYDT                          WBAYDT
     I              BBANC7                          WBANC7
     I              BBBTC7                          WBBTC7
     I              BBK6ST                          WBK6ST
     I              BBUZST                          WBUZST
     I              BBKXCD                          WBKXCD
     I              BBLTCD                          WBLTCD
     I              BBQNST                          WBQNST
     I              BBS2NB                          WBS2NB
     I              BBVHVA                          WBVHVA
     I              BBI7DT                          WBI7DT
     I              BBRJST                          WBRJST
     I              BBRKST                          WBRKST
     I              BBQWST                          WBQWST
     I              BBQXST                          WBQXST
     I              BBQYST                          WBQYST
     I              BBUNCS                          WBUNCS
     I              BBUVST                          WBUVST
     I              BBUWST                          WBUWST
     I              BBUXST                          WBUXST
     I              BBVSST                          WBVSST
     I              BBAATM                          WBAATM
     I              BBAYNA                          WBAYNA
     I              BBA0NA                          WBA0NA
     I              BBAXDT                          WBAXDT
      *
      /EJECT
      * Data structures:
     IPGMDS     ESDSY2PGDSP
      * Modified Program data structure
     IJBDTTM      DS
      * Job date/time
     I                                        1   70##JDT
     I                                        1   10##JCC
     I                                        2   30##JYY
     I                                        4   50##JMM
     I                                        6   70##JDD
     I                                        8  130##JTM
     I                                        8   90##JHH
     I                                       10  110##JNN
     I                                       12  130##JSS
      /EJECT
      * Parameter declarations
     IP1PARM      DS
      * FLD: Company Customer
      * I :  Company Number
     I                                    P   1   20P1AIC3
      * I :  Ship To Customer
     I                                    P   3   60P1BKC7
      * N :  Credit Contact Fax Number
     I                                        7  31 P1I1TX
     IP2PARM      DS
      * FLD: *Arrays
      * N :  Spool File Selection
     I                                        1  10 P2LHTX
      * N :  Display Fax Select Screen
     I                                       11  11 P2PHST
      * N :  User Id
     I                                       12  21 P2AYNA
      * N :  Send Date
     I                                    P  22  250P2KXDT
      * N :  Send Time
     I                                    P  26  290P2SDTM
      * N :  Send Priority
     I                                    P  30  310P2XTNB
      * N :  Cost Account Name
     I                                       32  38 P2LFTX
      * N :  Cover Sheet Name
     I                                       39  48 P2LGTX
      * N :  Forms Type Str.
     I                                       49  58 P2FDNA
      * N :  Fax Resolution
     I                                    P  59  590P2FAXR
      * N :  From Page
     I                                    P  60  610P2FRMP
      * N :  To Page
     I                                    P  62  630P2TOPG
      * N :  Page Length
     I                                    P  64  650P2PGLN
      * N :  Page Width
     I                                    P  66  670P2PGWD
      * N :  CPI
     I                                    P  68  690P2CPII
      * N :  LPI
     I                                    P  70  710P2LPII
      * N :  Save Copy of Fax
     I                                       72  74 P2LITX
      * N :  Print Copy of Fax
     I                                       75  75 P2PCOF
      * N :  Printer Name or Outq
     I                                       76  85 P2LJTX
      * N :  Outq Library
     I                                       86  95 P2LKTX
      * N :  Print On Form
     I                                       96  96 P2PROF
      * N :  Landscape
     I                                       97  97 P2PSST
      * B :  Fax Recipient
     I                                       98 122 P2LLTX
      * N :  Company Recipient Name
     I                                      123 152 P2LMTX
      * N :  Fax Area Code
     I                                      153 155 P2XDCD
      * N :  Fax Phone Number
     I                                      156 180 P2LNTX
      * N :  Routing Code
     I                                      181 183 P2PWST
      * N :  International Code
     I                                      184 186 P2P0ST
      * N :  Address Line 1
     I                                      187 216 P2ACNA
      * N :  Address Line 2
     I                                      217 246 P2ADNA
      * N :  City for Fax
     I                                      247 276 P2LOTX
      * N :  State Code
     I                                      277 278 P2BGCD
      * N :  Zip Code for Fax
     I                                      279 288 P2LPTX
      * N :  Country Description
     I                                      289 318 P2DATX
     IP3PARM      DS
      * FLD: Company Document Defaults
      * N :  CDD Type
     I                                        1   2 P3ESTX
      * N :  CDD Department Code
     I                                        3   8 P3FPAA
      * N :  CDD Name of Overlay
     I                                        9  16 P3RPNA
     I            DS
     I                                        1 132 ZAMSDA
      /EJECT
      *****************************************************************
      * Entry parameters
     C           *ENTRY    PLIST
     C                     PARM           P0RTN   7
     C           P1AIC3    PARM           WP0001  30       Company Number
     C           P1BKC7    PARM           WP0002  70       Ship To Custome
     C           P2LLTX    PARM P2LLTX    WP0003 25        Fax Recipient
      *****************************************************************
      * Initialize
     C                     EXSR ZZINIT
      *
      * PRC Fax One Cust Combo XF
      * ** Change Log and comments
     C                     EXSR UASUBR                     ** Change Log a
      * Send fax if customer is valid
      * CASE: PGM.*Return code is *Record does not exist
     C           W0RTN     IFEQ 'Y2U0005'                  *IF
     C                     MOVEL'Y2U0005' W0RTN            *Return code
     C                     ELSE
      * CASE: *OTHERWISE
     C                     MOVEL'Y'       P2PHST           Display Fax Sel
      *
     C                     MOVEL*BLANK    WN0001  6        Date (Char-6) U
     C                     MOVEL*BLANK    WN0002  7        Date (Alpha) US
     C                     MOVEL*BLANK    WN0003  2        Year  (Char) US
     C                     MOVEL*BLANK    WN0004  2        Month (Char) US
     C                     MOVEL*BLANK    WN0005  2        Day   (Char) US
      *
      * CNV cyymmdd to mmddyy
      * convert numeric date to character date.
     C                     MOVEL*BLANK    WN0002           Date (Alpha) US
     C                     MOVEL##JDT     WN0002           Date (Alpha) US
      * extract month, day, and year.
     C                     Z-ADD2         YRSW00
     C                     Z-ADD2         ZQ      50
     C           YRSW00    IFLT 1
     C           ZQ        ORLT 1
     C           YRSW00    ORGT 00007
     C           ZQ        ORGT 00007
     C                     MOVEL'Y2U0510' W0RTN
     C                     ELSE
     C           YRSW00    SUBSTWN0002:ZQ WN0003    P  90  Year  (Char) US
     C   90                MOVEL'Y2U0510' W0RTN
     C                     END
     C                     Z-ADD2         YRSW00
     C                     Z-ADD4         ZQ      50
     C           YRSW00    IFLT 1
     C           ZQ        ORLT 1
     C           YRSW00    ORGT 00007
     C           ZQ        ORGT 00007
     C                     MOVEL'Y2U0510' W0RTN
     C                     ELSE
     C           YRSW00    SUBSTWN0002:ZQ WN0004    P  90  Month (Char) US
     C   90                MOVEL'Y2U0510' W0RTN
     C                     END
     C                     Z-ADD2         YRSW00
     C                     Z-ADD6         ZQ      50
     C           YRSW00    IFLT 1
     C           ZQ        ORLT 1
     C           YRSW00    ORGT 00007
     C           ZQ        ORGT 00007
     C                     MOVEL'Y2U0510' W0RTN
     C                     ELSE
     C           YRSW00    SUBSTWN0002:ZQ WN0005    P  90  Day   (Char) US
     C   90                MOVEL'Y2U0510' W0RTN
     C                     END
      * reconstruct date in mmddyy format.
     C                     Z-ADD*ZERO     ZQ      50
     C           WN0004    CAT  WN0005:ZQ WN0001    P      Date (Char-6) U
     C                     Z-ADD*ZERO     ZQ      50
     C           WN0001    CAT  WN0003:ZQ WN0001    P      Date (Char-6) U
      * convert character date to numeric date.
     C                     MOVE WN0001    P2KXDT           Date Out (6,0)
     C                     MOVEL*BLANK    P2LHTX           Spool File Sele
     C                     MOVEL'PMCKPFR$'P2LHTX           Spool File Sele
      * RTV Snd CDE Fax/Email RT - Cust Distribution Entry  * 
     C                     EXSR SARVGN
      * EXC DLTSPLF command    UP - /UT User Programs  * 
     C                     CALL 'PNRAUPC'              90  EXC DLTSPLF com
     C                     PARM P2LHTX    WQ0017 10        File Name
     C                     PARM '*ALL'    WQ0018 10        Text USR
      *
      *
     C           *IN90     IFEQ '1'
      * Call to program ended in error
     C                     MOVEL'Y2U0032' W0RTN
     C                     MOVEL*BLANKS   W0CLPG 10
     C                     MOVEL'PNRAUPC' W0CLPG
      * Send message '*Error occured on CALL...'
     C                     MOVEL'Y2U0032' ZAMSID
     C                     MOVEL'Y2USRMSG'ZAMSGF
     C                     MOVELW0CLPG    ZAMSDA           Message data
     C                     EXSR ZASNMS
     C                     SETON                     99    *
     C                     END
     C                     END                             *FI
      *----------------------------------------------------------------
      * Exit program
     C           AAEXIT    TAG
     C                     MOVEL*BLANK    P0RTN
     C                     EXSR ZYEXPG
      *================================================================
      /EJECT
     CSR         SARVGN    BEGSR
      *================================================================
      * RTV Snd CDE Fax/Email RT - Cust Distribution Entry  * 
      *================================================================
      *
     C                     MOVEL*BLANK    WN0006  2        CDD Type
     C                     MOVEL*BLANK    WN0007  6        CDD Department
     C                     MOVEL*BLANK    WN0008  8        CDD Name of Ove
     C                     MOVEL*BLANK    WN0009 25        Fax Invoice Fax
      *
     C                     MOVEL*BLANK    W0RTN   7
      * Declare restrictor key work fields
     C           *LIKE     DEFN WABKC7    WQSA01           Ship To Custome
     C           *LIKE     DEFN WAMNAA    WQSA02           Distribution Co
      * Define keylist
     C           KRSSA     KLIST
     C                     KFLD           WQSA01           Ship To Custome
     C                     KFLD           WQSA02           Distribution Co
      * Setup key
     C                     Z-ADDP1BKC7    WQSA01           Ship To Custome
     C                     MOVEL@CN,01    WQSA02           Distribution Co
      * Establish starting position
     C           KRSSA     SETLL@F7REFP                    *
     C           KRSSA     READE@F7REFP                  90*
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR4289' W0RTN   7
      * USER: Processing if Data record not found
      * PAR = CON By name
     C                     MOVEL*BLANK    WN0006           CDD Type
     C                     MOVEL*BLANK    WN0007           CDD Department
     C                     MOVEL*BLANK    WN0008           CDD Name of Ove
     C                     MOVEL*BLANK    WN0009           Fax Invoice Fax
     C                     GOTO SAEXIT
     C                     ENDIF
      *
     C           *IN90     DOWEQ'0'
      * USER: Process Data record
      * CASE: DB1.Record Status is Active
     C           WAVSST    IFEQ 'A'                        *IF
      * ** Customer name
      * RTV Customer Name      RT - Customer  * 
     C                     EXSR SBRVGN
      * Fax Routine
      * CASE: DB1.CDE Destination Type is Fax
     C           WAIRST    IFEQ 'F'                        *IF
      * ** Cover sheet default values:
     C                     MOVEL'FX'      WN0006           CDD Type
     C                     MOVEL*BLANK    WN0007           CDD Department
     C                     MOVEL'ACCTG'   WN0007           CDD Department
     C                     MOVELWAWMT1    WN0009           Fax Invoice Fax
      * ** Fax invoice for Invoices or for Statements
      * CASE:
      *  - c1 OR c2
      *   |- c1    : PAR.Distribution Code is Invoice
      *   |- c2    : PAR.Distribution Code is Statements
      *   '-
     C           @CN,01    IFEQ @CN,01                     *IF
     C           @CN,01    OREQ 'AR-STMTS'                 *OR
      * PRC Call Telex Invoice UP - /UT User Programs  * 
     C                     CALL 'POD2UPC'              90  PRC Call Telex
     C                     PARM P2LHTX    WQ0001 10        Spool File Sele
     C                     PARM P2PHST    WQ0002  1        Display Fax Sel
     C                     PARM P2KXDT    WQ0003  60       Send Date
     C                     PARM P2LJTX    WQ0004 10        Printer Name or
     C                     PARM P2LKTX    WQ0005 10        Outq Library
     C                     PARM P2DATX    WQ0006 30        Country Descrip
     C                     PARM *BLANK    WQ0007 10        Spool File Sele
     C                     PARM P1AIC3    WQ0008  30       Company Number
     C                     PARM WN0006    WQ0009  2        CDD Type
     C                     PARM WN0007    WQ0010  6        CDD Department
     C                     PARM WAWLT1    WQ0011 30        CDE Name
     C                     PARM WAWMT1    WQ0012 50        CDE Destination
      *
      *
     C           *IN90     IFEQ '1'
      * Call to program ended in error
     C                     MOVEL'Y2U0032' W0RTN
     C                     MOVEL*BLANKS   W0CLPG 10
     C                     MOVEL'POD2UPC' W0CLPG
      * Send message '*Error occured on CALL...'
     C                     MOVEL'Y2U0032' ZAMSID
     C                     MOVEL'Y2USRMSG'ZAMSGF
     C                     MOVELW0CLPG    ZAMSDA           Message data
     C                     EXSR ZASNMS
     C                     SETON                     99    *
     C                     END
     C                     END                             *FI
     C                     END                             *FI
      * Email Routine
      * CASE: DB1.CDE Destination Type is Email
     C           WAIRST    IFEQ 'E'                        *IF
      * Exc ESNDMAIL w/Attchmt UP - /UT User Programs  * 
     C                     CALL 'PMB8UPC'              90  Exc ESNDMAIL w/
     C                     PARM P2LHTX    WQ0013 10        Printer File
     C                     PARM WAWLT1    WQ0014 50        Text Usr 50
     C                     PARM WAWMT1    WQ0015 50        Email Address
     C                     PARM '*PDF'    WQ0016  5        Email Format
      *
      *
     C           *IN90     IFEQ '1'
      * Call to program ended in error
     C                     MOVEL'Y2U0032' W0RTN
     C                     MOVEL*BLANKS   W0CLPG 10
     C                     MOVEL'PMB8UPC' W0CLPG
      * Send message '*Error occured on CALL...'
     C                     MOVEL'Y2U0032' ZAMSID
     C                     MOVEL'Y2USRMSG'ZAMSGF
     C                     MOVELW0CLPG    ZAMSDA           Message data
     C                     EXSR ZASNMS
     C                     SETON                     99    *
     C                     END
     C                     END                             *FI
     C                     END                             *FI
     C           KRSSA     READE@F7REFP                  90*
     C                     ENDDO
      *================================================================
     CSR         SAEXIT    ENDSR
      /EJECT
     CSR         SBRVGN    BEGSR
      *================================================================
      * RTV Customer Name      RT - Customer  * 
      *================================================================
     C                     MOVEL*BLANK    W0RTN   7
      * Define keylist
     C           KRSSB     KLIST
     C                     KFLD           WBBKC7           Ship To Custome
      * Setup key
     C                     Z-ADDWABKC7    WBBKC7           Ship To Custome
      * Establish starting position
     C           KRSSB     CHAIN@BBREE9              90    *
     C           *IN90     IFEQ '1'
      * Data record not found
     C                     MOVEL'USR0170' W0RTN   7
      * USER: Processing if Data record not found
      * PAR = CON By name
     C                     MOVEL*BLANK    WUAYTX           Customer Name
     C                     MOVEL'Y2U0005' W0RTN            *Return code
     C                     GOTO SBEXIT
     C                     ENDIF
      *
     C           *IN90     IFEQ '0'
      * USER: Process Data record
      * PAR = DB1 By name
     C                     MOVELWBAYTX    WUAYTX           Customer Name
     C                     ENDIF
      *================================================================
     CSR         SBEXIT    ENDSR
      /EJECT
     CSR         UASUBR    BEGSR
      *================================================================
      * ** Change Log and comments
      *================================================================
      * ** 04/01/2010 LJB P000198 (sub task: E000673)
      * ** Don't pass in the fax number, it will be retrieved. Invoice ca
      * ** be faxed or emailed to one or multiple customers.
      * ** Add DLTSPLF pgm to delete the spoolfile after it has been faxe
      * ** This was removed from the CL so multiple faxes can be sent.
      * **
      * ** 07/22/2006 RMC
      * ** pass in *blank for spool file selection 2, its only used for
      * ** HPB invoice faxing
      * **
      * ** 05/16/2006 LJB
      * ** Resulting string length for the fax number was changed to
      * ** 25 to accommodate international fax numbers.
      *================================================================
     CSR         UAEXIT    ENDSR
      /EJECT
     CSR         ZASNMS    BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C           ZAPGMQ    IFEQ *BLANK
     C                     MOVEL##PGM     ZAPGMQ
     C                     END
     C                     CALL 'Y2SNMGC'
     C                     PARM           ZAPGMQ 10        Program queue
     C                     PARM           ZAPGRL  5        Rel queue
     C                     PARM           ZAMSID  7        Message ID
     C                     PARM           ZAMSGF 10        Message file
     C                     PARM           ZAMSDA           Message data
     C                     PARM           ZAMSTP  7        Message type
      * Clear all fields for default mechanism next time
     C                     MOVEL*BLANK    ZAPGMQ
     C                     MOVEL*BLANK    ZAPGRL
     C                     MOVEL*BLANK    ZAMSID
     C                     MOVEL*BLANK    ZAMSGF
     C                     MOVEL*BLANK    ZAMSDA
     C                     MOVEL*BLANK    ZAMSTP
      *================================================================
     CSR         ZAEXIT    ENDSR
      /EJECT
     CSR         ZXEXPG    BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                     EXSR ZYEXPG
      *================================================================
     CSR         ZXEXIT    ENDSR
      /EJECT
     CSR         ZYEXPG    BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                     SETON                     LR
      *
      * Exit program
     C                     RETRN
      *
      *================================================================
     CSR         ZYEXIT    ENDSR
      /EJECT
     CSR         ZZINIT    BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C           W0ICL     IFEQ *BLANK
     C                     MOVEL'Y'       W0ICL   1        *Initial call
     C                     ELSE
     C                     MOVEL'N'       W0ICL
     C                     END
     C                     MOVE *BLANK    P0RTN
     C                     MOVE *BLANK    W0RTN   7
     C                     MOVEL*BLANK    W0RSL   1
     C                     MOVEL*BLANK    W0RSF   1
     C                     MOVEL*ZEROS    W0RTW   90
     C                     MOVEL'400'     W0ENV   3
      * Clear all neither parameters
     C                     MOVEL*BLANK    P1I1TX           Credit Contact
     C                     MOVEL*BLANK    P2LHTX           Spool File Sele
     C                     MOVEL*BLANK    P2PHST           Display Fax Sel
     C                     MOVEL*BLANK    P2AYNA           User Id
     C                     Z-ADD*ZERO     P2KXDT           Send Date
     C                     Z-ADD*ZERO     P2SDTM           Send Time
     C                     Z-ADD*ZERO     P2XTNB           Send Priority
     C                     MOVEL*BLANK    P2LFTX           Cost Account Na
     C                     MOVEL*BLANK    P2LGTX           Cover Sheet Nam
     C                     MOVEL*BLANK    P2FDNA           Forms Type Str.
     C                     Z-ADD*ZERO     P2FAXR           Fax Resolution
     C                     Z-ADD*ZERO     P2FRMP           From Page
     C                     Z-ADD*ZERO     P2TOPG           To Page
     C                     Z-ADD*ZERO     P2PGLN           Page Length
     C                     Z-ADD*ZERO     P2PGWD           Page Width
     C                     Z-ADD*ZERO     P2CPII           CPI
     C                     Z-ADD*ZERO     P2LPII           LPI
     C                     MOVEL*BLANK    P2LITX           Save Copy of Fa
     C                     MOVEL*BLANK    P2PCOF           Print Copy of F
     C                     MOVEL*BLANK    P2LJTX           Printer Name or
     C                     MOVEL*BLANK    P2LKTX           Outq Library
     C                     MOVEL*BLANK    P2PROF           Print On Form
     C                     MOVEL*BLANK    P2PSST           Landscape
     C                     MOVEL*BLANK    P2LMTX           Company Recipie
     C                     MOVEL*BLANK    P2XDCD           Fax Area Code
     C                     MOVEL*BLANK    P2LNTX           Fax Phone Numbe
     C                     MOVEL*BLANK    P2PWST           Routing Code
     C                     MOVEL*BLANK    P2P0ST           International C
     C                     MOVEL*BLANK    P2ACNA           Address Line 1
     C                     MOVEL*BLANK    P2ADNA           Address Line 2
     C                     MOVEL*BLANK    P2LOTX           City for Fax
     C                     MOVEL*BLANK    P2BGCD           State Code
     C                     MOVEL*BLANK    P2LPTX           Zip Code for Fa
     C                     MOVEL*BLANK    P2DATX           Country Descrip
     C                     MOVEL*BLANK    P3ESTX           CDD Type
     C                     MOVEL*BLANK    P3FPAA           CDD Department
     C                     MOVEL*BLANK    P3RPNA           CDD Name of Ove
      *
      * Retrieve job attributes
     C                     CALL 'Y2RTJCR'
     C                     PARM           PGMDS
      * Setup job date/time
     C                     Z-ADD##SD7     ##JDT
     C                     TIME           ##JTM
      * Update screen time
     C                     TIME           ##TME   60
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WABKC7           Ship To Custome
     C                     Z-ADD*ZERO     WARNNY           CDE Sequence Nu
     C                     Z-ADD*ZERO     WAMJDT           Create Date
     C                     Z-ADD*ZERO     WABETM           Create Time
     C                     Z-ADD*ZERO     WAMKDT           Change Date
     C                     Z-ADD*ZERO     WABFTM           Change Time
      * Define work field Customer Name
     C                     MOVEL*BLANK    WUAYTX 30
      * Initialize renamed input format fields
     C                     Z-ADD*ZERO     WBBKC7           Ship To Custome
     C                     Z-ADD*ZERO     WBP3NB           D & B Number
     C                     Z-ADD*ZERO     WBI6DT           Date of D & B R
     C                     Z-ADD*ZERO     WBAYDT           Credit Line Exp
     C                     Z-ADD*ZERO     WBANC7           A/R Customer Nu
     C                     Z-ADD*ZERO     WBBTC7           Parent Customer
     C                     Z-ADD*ZERO     WBS2NB           Parent Credit L
     C                     Z-ADD*ZERO     WBVHVA           A/R Credit Limi
     C                     Z-ADD*ZERO     WBI7DT           Order Entry Hol
     C                     Z-ADD*ZERO     WBAATM           Job Time
     C                     Z-ADD*ZERO     WBAXDT           Job Date
      * Define *Synon program work fields
     C                     Z-ADD*ZEROS    YRSW00  50       *Synon (5,0) wo
     C                     Z-ADD*ZEROS    YRSW01  50       *Synon (5,0) wo
      * Dummy move for compiler
     C                     MOVE '0'       @CN#,1
     C                     MOVEL'N'       W0PMT   1
      *================================================================
     CSR         ZZEXIT    ENDSR
** @CN
00001 AR-INVOICE
