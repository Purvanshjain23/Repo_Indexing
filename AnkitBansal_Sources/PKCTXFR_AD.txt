// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKCTXFR
// ?Date: 14.08.2025 Time: 02:51:32
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?***** Change Log and Comments
DO;

//?** 01/26/2009 LJB FP1009
//?** Remove QTEMP processing, write records to Purge Library
//?** then delete from production
//?** 08/16/2007 LJB FP1009
//?** All the records that are older than the Purge Date will be
//?** written to QTEMP then deleted from production.
//?** Remove user validation and company number. Remove date calculation
//?** this will be done in the calling program and the date will be
//?** passed in.
//?** H16853 ISE 11/09/2020 - Recompiled due to change in Buy Order Number
ENDDO;

EXECUTE FUNCTION(Prg Carcass Detail    RT) TYPE(RTVOBJ) FILE(PKB1CPP)           AB1184943;
PARAMETER(PAR.TH_Kill_Date);
{
 //?USER: Process Data record

 //?** Write purged records to the file in QTEMP.
 //?** Then delete the record from production.
 EXECUTE FUNCTION(Prg Carcass Detail    CR) TYPE(CRTOBJ) FILE(PKB1CPP)           AB1184941;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.CD_Scale_Sequence_Number);
 PARAMETER(DB1.CD_Carcass_Number);
 PARAMETER(DB1.CD_Carcass_Number_Insert);
 PARAMETER(DB1.CD_Record_Add_Del_Sts);
 PARAMETER(DB1.CD_Sort_Loss);
 PARAMETER(DB1.CD_STD_Yield);
 PARAMETER(DB1.CD_Carcass_Hot_Weight);
 PARAMETER(DB1.CD_Base_Carcass_CWT);
 PARAMETER(DB1.CD_Crc_Value_Per_CWT);
 PARAMETER(DB1.CD_Base_Carc_Value);
 PARAMETER(DB1.CD_Crc_Value_$_Per_Hd);
 PARAMETER(DB1.CD_Lean_Percent);
 PARAMETER(DB1.CD_Lean_Premium_CWT);
 PARAMETER(DB1.CD_Lean_Premium_$_Per_Hd);
 PARAMETER(DB1.CD_Gross_Value_Per_CWT);
 PARAMETER(DB1.CD_Gross_Value_$_Per_HD);
 PARAMETER(DB1.CD_Kill_Date);
 PARAMETER(DB1.CD_Kill_Time);
 PARAMETER(DB1.CD_Shift);
 PARAMETER(DB1.CD_Carcass_Activity_Sts);
 PARAMETER(DB1.CD_Backfat_Thickness_Inch);
 PARAMETER(DB1.CD_Loin_Eye_Depth_Inch);
 PARAMETER(DB1.CD_Light_Reflectance);
 PARAMETER(DB1.CD_Trim_Area);
 PARAMETER(DB1.CD_Carcass_Sex);
 PARAMETER(DB1.CD_FFLI);
 PARAMETER(DB1.CD_Record_Created_W_Avg);
 PARAMETER(DB1.CD_Record_Created_Status);
 PARAMETER(DB1.CD_LOT);
 PARAMETER(DB1.CD_User_Error_Override);
 PARAMETER(DB1.CD_Backfat_Thickness_MM);
 PARAMETER(DB1.CD_Loin_Eye_Depth_MM);
 PARAMETER(DB1.CD_Light_Reflectance_MM);
 PARAMETER(DB1.CD_Lean_Percent_MM);
 PARAMETER(DB1.CD_Source_Type);
 PARAMETER(DB1.CD_Payment_Type);
 PARAMETER(DB1.CD_CA_Sort_Loss);
 PARAMETER(DB1.CD_CA_Std_Yield);
 PARAMETER(DB1.CD_CA_Base_Carcass_CWT);
 PARAMETER(DB1.CD_CA_Crc_Value_Per_CWT);
 PARAMETER(DB1.CD_CA_Base_Carc_Value);
 PARAMETER(DB1.CD_CA_Crc_Value_$_Per_Hd);
 PARAMETER(DB1.CD_CA_Lean_Premium_CWT);
 PARAMETER(DB1.CD_CA_Lean_Premium_$_P_Hd);
 PARAMETER(DB1.CD_CA_Gross_Value_Per_CWT);
 PARAMETER(DB1.CD_CA_Gross_Value_$_P_Hd);
 PARAMETER(DB1.CD_Adjust_Add_Type);
 PARAMETER(DB1.CD_Producer_Loc_Farm);
 PARAMETER(DB1.CD_Loin_Eye_Inch_2_dec);
 PARAMETER(DB1.CD_Backfat_Inch_2_dec);
 PARAMETER(DB1.CD_Meat_Value_Factor);
 PARAMETER(DB1.CD_Lean_Prem_Disc_Factor);
 PARAMETER(DB1.CD_Fixed_Cost_Factor);
 PARAMETER(DB1.CD_MPR_Sort_Loss);
 PARAMETER(DB1.CD_Meat_Value_Factor_Amt);
 PARAMETER(DB1.CD_Fixed_Cost_Factor_Amt);
 PARAMETER(DB1.CD_Gross_Before_Sort_CWT);
 PARAMETER(DB1.CD_Gross_Before_Sort_HD);
 PARAMETER(DB1.CD_Broken_Back_Sts);
 PARAMETER(DB1.CD_Adjust_Add_Source);
 PARAMETER(DB1.CD_Unused_Sts_3);
 PARAMETER(DB1.CD_Unused_Sts_4);
 PARAMETER(DB1.CD_Unused_Sts_5);
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.SR_Source_Code);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Prg Carcass Detail    DL) TYPE(DLTOBJ) FILE(PKB1CPP)           AB1184942;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.CD_Scale_Sequence_Number);
 PARAMETER(DB1.CD_Carcass_Number);
 PARAMETER(DB1.CD_Carcass_Number_Insert);
}


