// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDOQXFR
// ?Date: 14.08.2025 Time: 03:32:36
// ?------------------------------------------------------------------------------------------------

//?Execute user function

MOVE *ALL (To: PAR From: CON);

EXECUTE FUNCTION(Clc Co Kill Plan      RT) TYPE(RTVOBJ) FILE(PDK2CPP)           AC1424862;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Kill_Date);
PARAMETER(PAR.Hog_Volume);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 // PAR.Hog Volume = PAR.Hog Volume + DB1.Hog Volume
 PAR.Hog_Volume = PAR.Hog_Volume + DB1.Hog_Volume;

}


CASE;

// IF PAR.USR Update Flag is Yes
IF PAR.USR_Update_Flag = 'Y';

CASE;

// IF PAR.Hog Volume is GT Zero
IF PAR.Hog_Volume > *ZERO;

EXECUTE FUNCTION(Clc Distributin %     RT) TYPE(RTVOBJ) FILE(PDK2CPP)           AC1649627;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Kill_Date);
PARAMETER(PAR.Hog_Volume);
{
 //?USER: Process Data record

 // Distribution Percent
 PAR.PSK_Distribution_Percent = ( DB1.Hog_Volume / PAR.Hog_Volume 'H' ) * 100 'H';

 EXECUTE FUNCTION(Chg Distribution %    CH) TYPE(CHGOBJ) FILE(PDK2CPP)           AC1649630;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Min_Carcass_Weight);
 PARAMETER(DB1.Max_Carcass_Weight);
 PARAMETER(DB1.Kill_Date);
 PARAMETER(PAR.PSK_Distribution_Percent);
}


ENDIF;

ENDIF;

