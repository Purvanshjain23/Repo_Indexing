// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for POJLXFR
// ?Date: 14.08.2025 Time: 03:37:36
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(CNV Ship Zones f/Dest RT) TYPE(RTVOBJ) FILE(OMHSTPP)           AC1618485;
{
 //?USER: Initialize routine

 // PAR.Ship To City = CON.,,,,,,,,,,,,,,,,,,,
 PAR.Ship_To_City = ',,,,,,,,,,,,,,,,,,,';

 // PAR.Ship To State Code = CON.,,
 PAR.Ship_To_State_Code = ',,';

 //?USER: Process Data record

 // Execute function CVT Str to Upper Alpha US.
 EXECUTE FUNCTION(CVT Str to Upper Alpha US) TYPE(EXCUSRSRC) ('PDWEUFR');
 PARAMETER(DB1.Ship_To_City);
 PARAMETER(PAR.Destination_City);
 {
  PDWEUFR:  PGM PARM(&STRIN &STROUT)

  CHGVAR VAR(&FLDOUT) VALUE('%XLATE(UPTEXT &STRIN)')
 }

 EXECUTE FUNCTION(RTV Zone for City-ST   RT) TYPE(RTVOBJ) FILE(PDLUREP)          AC1484676;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Ship_To_State_Code);
 PARAMETER(PAR.Destination_City);
 PARAMETER(LCL.Shipping_Zone_Code);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  // PGM.*Return code = CND.*Record does not exist
  PGM.*Return_code = 'Y2U0005';

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

 EXECUTE FUNCTION(CHG Shipping Zone Cd  CH) TYPE(CHGOBJ) FILE(OMHSTPP)           AC1618487;
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Order_Number);
 PARAMETER(DB1.Order_Sequence_Number);
 PARAMETER(DB1.Order_Secondary_Line_Seq);
 PARAMETER(LCL.Shipping_Zone_Code);
}


