// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDUKXFR
// ?Date: 14.08.2025 Time: 03:30:02
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and Comments
DO;

//?E6933 DN  08/12/16 - Create A/R Header Ext record.
//?- Modified CRT A/R Header         CO - A/R Header.
//?** E00351 LJB 04/22/2009
//?** Don't create the A/R Header and Detail records for IP customers
//?** for Daily's transactions between MSLA and SLC
ENDDO;

EXECUTE FUNCTION(Rtv Customer Type     RT) TYPE(RTVOBJ) FILE(CAEOREP)           AC1585599;
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(LCL.Type_Code);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

 QUIT;

}


//?** No A/R Header and Detail records for Inter-Plant orders
CASE;

// IF LCL.Type Code is Inter-Plant Transfer
IF LCL.Type_Code = 'IP';

//?** No A/R Header and Detail records for Inter-Plant orders
// IF *OTHERWISE
IF *OTHERWISE;

EXECUTE FUNCTION(CRT A/R Header         CR) TYPE(CRTOBJ) FILE(ARBDCPP)          AC1341687;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Invoice_Number);
PARAMETER(PAR.Invoice_Suffix);
PARAMETER(PAR.Adjustment_Type_Code);
PARAMETER(PAR.Transaction_Amount);
PARAMETER(PAR.Adjustment_Amount);
PARAMETER(PAR.Amount_Paid);
PARAMETER(PAR.Remaining_Balance_Due);
PARAMETER(PAR.A_R_Processing_Status);
PARAMETER(PAR.Purge_Status);
PARAMETER(PAR.Bank_Code);
PARAMETER(PAR.GL_Document_Number);
PARAMETER(PAR.Order_Number_Ref);
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Salesperson_Code);
PARAMETER(PAR.Sales_Route_Code);
PARAMETER(PAR.Transaction_Date_Code);
PARAMETER(PAR.Due_Date);
PARAMETER(PAR.Last_Payment_Date);
PARAMETER(PAR.Original_Inv_for_CB);
PARAMETER(PAR.Paid_in_Full_Date);
PARAMETER(PAR.Last_G_L_Post_Date);
PARAMETER(PAR.AR_Customer_Number);
PARAMETER(PAR.A_R_Check_Number);
PARAMETER(*ZERO);
PARAMETER(PAR.EDI_Status_1);
PARAMETER(PAR.EDI_Status_2);
PARAMETER(PAR.EDI_Status_3);
{
 //?USER: Processing before Data update

 // DB1.Job Time = JOB.*Job time
 DB1.Job_Time = JOB.*Job_time;

 // DB1.User Id = JOB.*USER
 DB1.User_Id = JOB.*USER;

 // DB1.Job Name = JOB.*JOB
 DB1.Job_Name = JOB.*JOB;

 // DB1.Job Date = JOB.*Job date
 DB1.Job_Date = JOB.*Job_date;

 //?USER: Processing after Data update

 //?E6933 DN  08/12/16 - Create A/R Header Ext record.
 // Call program Crt A/R Header Ext    XF.
 CALL PROGRAM(Crt A/R Header Ext    XF) ('PBX3XFR');
 PARAMETER(DB1.Company_Number);
 PARAMETER(DB1.Invoice_Number);
 PARAMETER(DB1.Invoice_Suffix);
 PARAMETER(DB1.Remaining_Balance_Due);
 PARAMETER(DB1.Order_Number_Ref);
 PARAMETER(DB1.Original_Inv_for_CB);

}


ENDIF;

