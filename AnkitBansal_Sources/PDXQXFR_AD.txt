// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDXQXFR
// ?Date: 14.08.2025 Time: 03:36:28
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(Tmp Upd Frz Label Dte RT) TYPE(RTVOBJ) FILE(CAADREP)           AC1572891;
PARAMETER('FZ');
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Tmp Upd Frz Label Dte RT) TYPE(RTVOBJ) FILE(CAB1REP)           AC1572877;
 PARAMETER(360);
 PARAMETER(DB1.Warehouse_Code);
 {
  //?USER: Initialize routine

  // WRK.Production Date = CON.0990317
  WRK.Production_Date = 0990317;

  //?USER: Process Data record

  CASE;

  // IF DB1.Production Date NE WRK.ZERO
  IF DB1.Production_Date <> WRK.ZERO;

  // AND DB1.Production Date LE WRK.Production Date
  AND DB1.Production_Date <= WRK.Production_Date;

  EXECUTE FUNCTION(Rtv Chill Time        RT) TYPE(RTVOBJ) FILE(CABZREP)           AC1304403;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Item_Code);
  PARAMETER(PAR.Fresh_Chilling_Time);
  {
   //?USER: Processing if Data record not found

   MOVE *ALL (To: PAR From: CON);

   //?USER: Process Data record

   MOVE *ALL (To: PAR From: DB1);

  }

  // PAR.Chill Date  USR = DB1.Production Date + PAR.Fresh Chilling Time *DAYS
  PAR.Chill_Date_USR = DATEINCR(DB1.Production_Date PAR.Fresh_Chilling_Time 'DY' 1111111
  'NONE' 'N' 1);

  EXECUTE FUNCTION(RTV Next/Eq Prod Date  RT) TYPE(RTVOBJ) FILE(CAAFREP)          AC1455575;
  PARAMETER(DB1.Company_Number);
  PARAMETER(PAR.Chill_Date_USR);
  PARAMETER(PAR.Label_Date);
  {
   //?USER: Processing if Data record not found

   MOVE *ALL (To: PAR From: CON);

   //?USER: Process Data record

   CASE;

   // IF DB1.Production Day Status is yes
   IF DB1.Production_Day_Status = 'Y';

   // PAR.Production Date = DB1.Post to G/L Date
   PAR.Production_Date = DB1.Post_to_G_L_Date;

   QUIT;

   ENDIF;

  }

  EXECUTE FUNCTION(CNV Add Label Date     rt) TYPE(RTVOBJ) FILE(CAB7CPP)          AC1480185;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Item_Code);
  PARAMETER(DB1.Warehouse_Code);
  PARAMETER(DB1.Production_Date);
  PARAMETER(PAR.Label_Date);
  {
   //?USER: Process Data record

   EXECUTE FUNCTION(CHG IC Trans. Detail   CH) TYPE(CHGOBJ) FILE(CAB7CPP)          AC1122299;
   PARAMETER(DB1.Company_Number);
   PARAMETER(DB1.Item_Code);
   PARAMETER(DB1.Warehouse_Code);
   PARAMETER(DB1.Inventory_Trans_ID);
   PARAMETER(DB1.Inventory_Trans_Type);
   PARAMETER(DB1.Transaction_Date_Code);
   PARAMETER(*MISSING);
   PARAMETER(DB1.Sequence_Number);
   PARAMETER(DB1.Production_Date);
   PARAMETER(DB1.UOM_Transaction);
   PARAMETER(DB1.Item_Transaction_Source);
   PARAMETER(DB1.Description);
   PARAMETER(DB1.Transaction_Quantity);
   PARAMETER(DB1.Transaction_Weight);
   PARAMETER(DB1.USR_Transaction_Unit_Cost);
   PARAMETER(DB1.UOM_Cost);
   PARAMETER(DB1.Extended_Amount);
   PARAMETER(DB1.Ticket_Number);
   PARAMETER(DB1.GL_Document_Number);
   PARAMETER(DB1.GL_Update_Status);
   PARAMETER(DB1.Reason_Code);
   PARAMETER(DB1.Reference_Number_Code);
   PARAMETER(DB1.Lot_ID);
   PARAMETER(DB1.Transfer_Batch_Number);
   PARAMETER(DB1.Transfer_Batch_Sequence);
   PARAMETER(DB1.Order_Number);
   PARAMETER(DB1.Item_Structure_Class_Code);
   PARAMETER(DB1.Item_Structure_Group_Code);
   PARAMETER(DB1.Item_Structure_Type_Code);
   PARAMETER(DB1.Employee_Badge_Number);
   PARAMETER(DB1.Production_Time);
   PARAMETER(DB1.Shift_Number);
   PARAMETER(PAR.Label_Date);
   PARAMETER(DB1.EDI_Status_1);
   PARAMETER(DB1.EDI_Status_2);
   PARAMETER(DB1.EDI_Status_3);
   PARAMETER(DB1.Record_Status);
   {
    //?USER: Processing before Data update

    //?01/29/02 PKD Do not change the Record Stamp per Tom Dye. This
    //?             causes inaccurate reporting on the Item Transaction
    //?             Journal.
   }

  }

  EXECUTE FUNCTION(CHG Label Date         CH) TYPE(CHGOBJ) FILE(CAB1REP)          AC1480186;
  PARAMETER(DB1.Company_Number);
  PARAMETER(DB1.Item_Code);
  PARAMETER(DB1.Warehouse_Code);
  PARAMETER(DB1.Production_Date);
  PARAMETER(PAR.Label_Date);
  {
   //?USER: Processing before Data update

   EXECUTE FUNCTION(Set Date/Time Stamp.PgmIF) TYPE(EXCINTFUN)                     AC1425284;
   PARAMETER(DB1.Job_Time);
   PARAMETER(DB1.User_Id);
   PARAMETER(DB1.Job_Name);
   PARAMETER(DB1.Job_Date);
   {
    //?Execute internal function

    // PAR.Job Time = JOB.*Job time
    PAR.Job_Time = JOB.*Job_time;

    // PAR.User Id = JOB.*USER
    PAR.User_Id = JOB.*USER;

    // PAR.Job Name = JOB.*PROGRAM
    PAR.Job_Name = JOB.*PROGRAM;

    // PAR.Job Date = JOB.*Job date
    PAR.Job_Date = JOB.*Job_date;

   }

  }

  ENDIF;

 }

}


