/********************************************************************/
/*                                                                  */
/*  SYNOPSIS - PRINT & REPOST ACCU-SORT ERRORS                      */
/*                                                                  */
/*  SYSTEM    - ORDER MANAGEMENT SYSTEM                             */
/*  PROGRAM   - PRINT ACCUSORT ERRORS                               */
/*  DATE      - 03/08/96                                            */
/*                                                                  */
/*      PARAMETERS RECEIVED:                                        */
/*                                                                  */
/*          &COMPNYN    - COMPANY NUMBER (PASSED)                   */
/*          &COPYN      - NUMBER OF COPIES                          */
/*          &NIGHTQ     - NIGHT OUTPUT QUEUE                        */
/********************************************************************/

 PDC2PCLP:   PGM        PARM(&COMPNYN &DATEN +
                          &OUTQ &HOLD &SAVE &COPYN &NQSTAT &NIGHTQ)

/* PARMS                                                                      */
        DCL    &COMPNYN    *DEC                  /* Company Number (Passed)   */
        DCL    &OUTQ       *CHAR   (10)          /* Output Queue              */
        DCL    &HOLD       *CHAR   (4)           /* Hold Status               */
        DCL    &SAVE       *CHAR   (4)           /* Save Status               */
        DCL    &COPYN      *DEC                  /* No. of Copies  (Passed)   */
        DCL    &DATEN      *DEC
        DCL    &DATE       *DEC    (7 0)         /* DATE                      */
        DCL    &NQSTAT     *CHAR   (1)           /* If MUST run in night q.   */
        DCL    &NIGHTQ     *CHAR   (10)          /* Night Job Queue           */
        DCL    &COMMAND    *CHAR   (512)

/* INTERNAL FIELDS                                                            */
        DCL    &COMPANY    *DEC    (3 0)         /* Company Number            */
        DCL    &DATE       *DEC    (7 0)         /* Load Number               */
        DCL    &COPY       *DEC    (2 0)         /* Number of copies          */

/********************************************************************/
/* CHANGE VARIABLES FOR USE IN PROGRAM                              */
/********************************************************************/

             CHGVAR     VAR(&COMPANY) VALUE(&COMPNYN)
             CHGVAR     VAR(&DATE) VALUE(&DATEN)
             CHGVAR     VAR(&COPY) VALUE(&COPYN)

/********************************************************************/
/*                                                                  */
/* PROCESS INVENTORY ADJUSTMENT FILE                                */
/*                                                                  */
/********************************************************************/

/* OVERRIDE PRINTER FILE WITH USER SPECIFIED SELECTION VALUES       */

/*   NOT USING SBDPRTOVR FOR B.O.L. --  PREPRINTED FORM             */

             SBDPRTOVR  CMDVAR(&COMMAND) FILE(PDI2PFR$) OUTQ(&OUTQ) +
                          COPIES(&COPY) HOLD(&HOLD) SAVE(&SAVE)

             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)

             OVRDBF     FILE(PDJTCPL0) TOFILE(ASJTCPL0)
             OPNQRYF    FILE((ASJTCPL0)) OPTION(*ALL) QRYSLT('JTZCST +
                          = "E"') KEYFLD(*FILE)
             OVRDBF     FILE(PDJTCPL1) TOFILE(ASJTCPL1) SHARE(*YES)
             OPNQRYF    FILE((ASJTCPL1)) OPTION(*ALL) QRYSLT('JTZCST +
                          = "E"') KEYFLD(*FILE)

             OVRDBF     FILE(PDJTCPL2) TOFILE(ASJTCPL2) SHARE(*YES)
             OPNQRYF    FILE((ASJTCPL2)) OPTION(*ALL) QRYSLT('JTZCST +
                          = "E"') KEYFLD(*FILE)

/*   CALL PRINT PROGRAM - INVENTORY ADJUSTMENT                     */

             CALL       PGM(PDQQXFR) PARM(' ')
             CALL       PGM(PDI2PFR) PARM(' ' &COMPANY &DATE)

/********************************************************************/
/*                                                                  */
/* PROCESS INVENTORY RESTORATION FILE                               */
/*                                                                  */
/********************************************************************/

/* OVERRIDE PRINTER FILE WITH USER SPECIFIED SELECTION VALUES       */

/*   NOT USING SBDPRTOVR FOR B.O.L. --  PREPRINTED FORM             */

             SBDPRTOVR  CMDVAR(&COMMAND) FILE(PDJUPFR$) OUTQ(&OUTQ) +
                          COPIES(&COPY) HOLD(&HOLD) SAVE(&SAVE)

             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)

             OVRDBF     FILE(PDKACPL0) TOFILE(ASKACPL0)
             OPNQRYF    FILE((ASKACPL0)) OPTION(*ALL) QRYSLT('KATVCD +
                          = "E"') KEYFLD(*FILE)
             OVRDBF     FILE(PDKACPL1) TOFILE(ASKACPL1) SHARE(*YES)
             OPNQRYF    FILE((ASKACPL1)) OPTION(*ALL) QRYSLT('KATVCD +
                          = "E"') KEYFLD(*FILE)

/*   CALL PRINT PROGRAM - INVENTORY RESTORATION                    */

             CALL       PGM(PDJUPFR) PARM(' ' &COMPANY &DATE)


/********************************************************************/
/*                                                                  */
/* PROCESS ORDER SHIP DETAIL                                        */
/*                                                                  */
/********************************************************************/

/* OVERRIDE PRINTER FILE WITH USER SPECIFIED SELECTION VALUES       */

/*   NOT USING SBDPRTOVR FOR B.O.L. --  PREPRINTED FORM             */

             SBDPRTOVR  CMDVAR(&COMMAND) FILE(PDJVPFR$) OUTQ(&OUTQ) +
                          COPIES(&COPY) HOLD(&HOLD) SAVE(&SAVE)

             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)

             OVRDBF     FILE(PDJUCPL0) TOFILE(ASJUCPL0)
             OPNQRYF    FILE((ASJUCPL0)) OPTION(*ALL) QRYSLT('JUZCST +
                          = "E"') KEYFLD(*FILE)
             OVRDBF     FILE(PDJUCPL1) TOFILE(ASJUCPL1) SHARE(*YES)
             OPNQRYF    FILE((ASJUCPL1)) OPTION(*ALL) QRYSLT('JUZCST +
                          = "E"') KEYFLD(*FILE)
             OVRDBF     FILE(PDJUCPL2) TOFILE(ASJUCPL2) SHARE(*YES)
             OPNQRYF    FILE((ASJUCPL2)) OPTION(*ALL) QRYSLT('JUZCST +
                          = "E"') KEYFLD(*FILE)

/*   CALL PRINT PROGRAM - SHIP ORDER DETAIL                        */

             CALL       PGM(PDRXXFR) PARM(' ')
             CALL       PGM(PDJVPFR) PARM(' ' &COMPANY &DATE)


/********************************************************************/
/*                                                                  */
/* PROCESS PRODUCTION FILE                                          */
/*                                                                  */
/********************************************************************/

/* OVERRIDE PRINTER FILE WITH USER SPECIFIED SELECTION VALUES       */

/*   NOT USING SBDPRTOVR FOR B.O.L. --  PREPRINTED FORM             */

             SBDPRTOVR  CMDVAR(&COMMAND) FILE(PDJWPFR$) OUTQ(&OUTQ) +
                          COPIES(&COPY) HOLD(&HOLD) SAVE(&SAVE)

             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)

             OVRDBF     FILE(PDJVCPL0) TOFILE(ASJVCPL0)
             OPNQRYF    FILE((ASJVCPL0)) OPTION(*ALL) QRYSLT('JVZCST +
                          = "E"') KEYFLD(*FILE)
             OVRDBF     FILE(PDJVCPL1) TOFILE(ASJVCPL1) SHARE(*YES)
             OPNQRYF    FILE((ASJVCPL1)) OPTION(*ALL) QRYSLT('JVZCST +
                          = "E"') KEYFLD(*FILE)
             OVRDBF     FILE(PDJVCPL2) TOFILE(ASJVCPL2) SHARE(*YES)
             OPNQRYF    FILE((ASJVCPL2)) OPTION(*ALL) QRYSLT('JVZCST +
                          = "E"') KEYFLD(*FILE)

/*   CALL PRINT PROGRAM - PRODUCTION                               */

             CALL       PGM(PDQLXFR) PARM(' ')
             CALL       PGM(PDJWPFR) PARM(' ' &COMPANY &DATE)


/********************************************************************/
/*                                                                  */
/* PROCESS SHIP ORDER HEADER (LOAD HEADER)                          */
/*                                                                  */
/********************************************************************/

/* OVERRIDE PRINTER FILE WITH USER SPECIFIED SELECTION VALUES       */

/*   NOT USING SBDPRTOVR FOR B.O.L. --  PREPRINTED FORM             */

             SBDPRTOVR  CMDVAR(&COMMAND) FILE(PDJXPFR$) OUTQ(&OUTQ) +
                          COPIES(&COPY) HOLD(&HOLD) SAVE(&SAVE)

             CALL       PGM(QCMDEXC) PARM(&COMMAND 512)

             OVRDBF     FILE(PDJ9CPL0) TOFILE(ASJ9CPL0)
             OPNQRYF    FILE((ASJ9CPL0)) OPTION(*ALL) QRYSLT('J9TVCD +
                          = "E"') KEYFLD(*FILE)
             OVRDBF     FILE(PDJ9CPL1) TOFILE(ASJ9CPL1) SHARE(*YES)
             OPNQRYF    FILE((ASJ9CPL1)) OPTION(*ALL) QRYSLT('J9TVCD +
                          = "E"') KEYFLD(*FILE)

/*   CALL PRINT PROGRAM - SHIP ORDER HEADER (LOAD HEADER)          */

             CALL       PGM(PDJXPFR) PARM(' ' &COMPANY &DATE)

 END:        ENDPGM
