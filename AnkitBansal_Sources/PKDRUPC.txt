/***************************************************************** */
/*                                                                 */
/*  PROGRAM NUMBER:  PKDRUPC                                       */
/*  PROGRAM NAME:    SBM THE CLPS TO PURGE THE DATA FILES          */
/*  PROGRAMMER:      ROSE CENTONZE                                 */
/*  CREATE DATE:     10/17/96                                      */
/*                                                                 */
/*  FUNCTION:        THIS CL IS CALLED FROM THE JOB SCHEDULE       */
/*                   TO PURGE A FILE.        NOW, THIS RUNS        */
/*                   ON SUNDAY AND THE PURGE DATA WILL BE SAVED    */
/*                   TO TAPE ON MONDAY.                            */
/*                                                                 */
/* **** NOTE ****                                                  */
/*  WHEN ADDING A FILE TO THIS ROUTINE, PRIOR TO EXECUTING         */
/*    THE &FILEPRG MUST BE CREATED IN THE FILE'S LIBRARY WITH      */
/*      MAXMBRS = *NOMAX.                                          */
/*  EG. CRTDUPOBJ  PKDLCPP NEWOBJ(PKDLCPPPRG)   DATA(*NO)          */
/*      CHGPF  PKDLCPPPRG  MAXMBRS(*NOMAX)                         */
/*                                                                 */
/*******************************************************************/
/* INPUT PARMS TO PKC9UPC :                                        */
/*    &LIB =  LIBRARY OF PURGED &FILE                              */
/*    &FILE = FILE NAME TO BE PURGED                               */
/*    &FILEUPD = THE "UPDATE INDEX PURGE" ACCESS PATH OF &FILE     */
/*    &FILEPRG = TEMP VERSION OF PURGED FILE                       */
/*    &PRGPGM = THE PURGE PROGRAM FOR THE &FILE - AN EXCEXTFUN     */
/*                                                                 */
/*******************************************************************/
/*  Modification History                                           */
/*  RMC 2/21/00   COMMENT COMMOD MKT PRICE PURGE. ITS IN PRGPRKM   */
/*  RMC 8/15/02   USE SNDPGRMSG A LIEU SNDDST                      */
/*                                                                 */
/*******************************************************************/
             PGM        PARM(&LIB)

/*-----------------------------------------------------------------*/
/*                      PARAMETER                                  */
/*-----------------------------------------------------------------*/
/* Print Options                                                   */

/* Function Specific                                               */

/* LIBRARY FOR PURGE FILE  */
             DCL        VAR(&LIB) TYPE(*CHAR) LEN(10)

/* FILE BEING PURGED */
             DCL        VAR(&FILE) TYPE(*CHAR) LEN(10)

/* FILE BEING PURGED -- 'UPDATE INDEX PURGE' ACCESS PATH          */
             DCL        VAR(&FILEUPD) TYPE(*CHAR) LEN(10)

/* TEMP VERSION OF FILE BEING PURGED */
             DCL        VAR(&FILEPRG) TYPE(*CHAR) LEN(10)

/* PURGE PROGRAM         */
             DCL        VAR(&PRGPGM) TYPE(*CHAR) LEN(10)

/*-----------------------------------------------------------------*/
/*                    PROGRAM VARIABLES                            */
/*-----------------------------------------------------------------*/

/*-----------------------------------------------------------------*/
/*                     INITIALIZATION                              */
/*-----------------------------------------------------------------*/

/*-----------------------------------------------------------------*/
/*                           MAIN                                  */
/*-----------------------------------------------------------------*/
/*  SBM CL TO PURGE THE FILES ONE AT A TIME                        */
/*-----------------------------------------------------------------*/

/*  PRIMAL SCALE DETAIL                                            */

PRIMSC:      CHGVAR &FILE VALUE('PKDLCPP')
             CHGVAR &FILEUPD VALUE('PKDLCPL4')
             CHGVAR &FILEPRG VALUE('PKDLCPPPRG')
             CHGVAR &PRGPGM  VALUE('PKA0XFR')
             SBMJOB     CMD(CALL PGM(PKC9UPC) PARM('' &LIB &FILE +
                          &FILEUPD &FILEPRG &PRGPGM))
             MONMSG     MSGID(CPF0000) EXEC(DO)
/*           SNDDST     TYPE(*MSG) TOUSRID((PRKPURGE BIGBYTE)) +
                          DSTD('Primal Scale Detail SBM Purge') +
                          MSG('Call to program PKC9UPC Error')   */
             SNDPGRMSG  TOPGR(PRKPURGE) MSG('Call to program PKC9UPC +
                          Error') CONFMSG(*NO)
             ENDDO

/*-----------------------------------------------------------------*/

/*  COMMODITY MARKET PRICE                                         */

/* COMMOD:      CHGVAR &FILE VALUE('OMF0CPP')                      */
/*           CHGVAR &FILEUPD VALUE('OMF0CPL7')                     */
/*           CHGVAR &FILEPRG VALUE('OMF0CPPPRG')                   */
/*           CHGVAR &PRGPGM  VALUE('POCOXFR')                      */
/*           SBMJOB     CMD(CALL PGM(PKC9UPC) PARM('' &LIB &FILE + */
/*                        &FILEUPD &FILEPRG &PRGPGM))              */
/*           MONMSG     MSGID(CPF0000) EXEC(DO)                    */
/*           SNDDST     TYPE(*MSG) TOUSRID((COMPURGE BIGBYTE)) +   */
/*                        DSTD('Commodity Market Price Purge') +   */
/*                        MSG('Call to program PKC9UPC Error')     */
/*           ENDDO                                                 */

/*-----------------------------------------------------------------*/
/*  CARCASS DETAIL                                            */

/*CARDDT:      CHGVAR &FILE VALUE('PKB1CPP') */
/*             CHGVAR &FILEUPD VALUE('PKB1CPLD') */
/*             CHGVAR &FILEPRG VALUE('PKB1CPPPRG') */
/*             CHGVAR &PRGPGM  VALUE('PKCTXFR') */
/*             SBMJOB     CMD(CALL PGM(PKC9UPC) PARM('' &LIB &FILE + */
/*                          &FILEUPD &FILEPRG &PRGPGM)) */
/*             MONMSG     MSGID(CPF0000) EXEC(DO) */
/*             SNDDST     TYPE(*MSG) TOUSRID((PRKPURGE BIGBYTE)) + */
/*                          DSTD('Carcass Detail SBM Purge') + */
/*                          MSG('Call to program PKC9UPC Error') */
/*             ENDDO */

/*-----------------------------------------------------------------*/

/*  EVAL TRANS                                                */
/*  COMMENTED THIS PURGE ON 09/16/99 -PURVA                   */
/*     BECAUSE WE ARE USING DATA FROM THIS FILE TO PRINT      */
/*     ON THE CARCASS DETAIL.                                 */

/*EVALTR:      CHGVAR &FILE VALUE('PKBVCPP') */
/*           CHGVAR &FILEUPD VALUE('PKBVCPLD') */
/*           CHGVAR &FILEPRG VALUE('PKBVCPPPRG') */
/*           CHGVAR &PRGPGM  VALUE('PKDAXFR') */
/*           SBMJOB     CMD(CALL PGM(PKC9UPC) PARM('' &LIB &FILE + */
/*                        &FILEUPD &FILEPRG &PRGPGM)) */
/*           MONMSG     MSGID(CPF0000) EXEC(DO) */
/*           SNDDST     TYPE(*MSG) TOUSRID((PRKPURGE BIGBYTE)) + */
/*                        DSTD('Eval Trans SBM Purge') MSG('Call to +*/
/*                        program PKC9UPC Error') */
/*           ENDDO */

/* ----------------------------------------------------------------*/

/*  EVAL TRANS INVALID UPL                                    */

EVALINV:     CHGVAR &FILE VALUE('PKCQCPP')
             CHGVAR &FILEUPD VALUE('PKCQCPL4')
             CHGVAR &FILEPRG VALUE('PKCQCPPPRG')
             CHGVAR &PRGPGM  VALUE('PKDHXFR')
             SBMJOB     CMD(CALL PGM(PKC9UPC) PARM('' &LIB &FILE +
                          &FILEUPD &FILEPRG &PRGPGM))
             MONMSG     MSGID(CPF0000) EXEC(DO)
 /*          SNDDST     TYPE(*MSG) TOUSRID((PRKPURGE BIGBYTE)) +
                          DSTD('Eval Trans Invalid UPL SBM Purge') +
                          MSG('Call to program PKC9UPC Error')  */
             SNDPGRMSG  TOPGR(PRKPURGE) MSG('Call to program PKC9UPC +
                          Error') CONFMSG(*NO)
             ENDDO

/*-----------------------------------------------------------------*/

/*  EVAL TRANS UPL                                            */

EVALUPL:     CHGVAR &FILE VALUE('PKCPCPP')
             CHGVAR &FILEUPD VALUE('PKCPCPL5')
             CHGVAR &FILEPRG VALUE('PKCPCPPPRG')
             CHGVAR &PRGPGM  VALUE('PKDIXFR')
             SBMJOB     CMD(CALL PGM(PKC9UPC) PARM('' &LIB &FILE +
                          &FILEUPD &FILEPRG &PRGPGM))
             MONMSG     MSGID(CPF0000) EXEC(DO)
/*           SNDDST     TYPE(*MSG) TOUSRID((PRKPURGE BIGBYTE)) +
                          DSTD('Eval Trans UPL SBM Purge') +
                          MSG('Call to program PKC9UPC Error')  */
             SNDPGRMSG  TOPGR(PRKPURGE) MSG('Call to program PKC9UPC +
                          Error') CONFMSG(*NO)
             ENDDO

/*-----------------------------------------------------------------*/
/*                      PROGRAM END                                */
/*-----------------------------------------------------------------*/
 ENDPGM:
             ENDPGM
