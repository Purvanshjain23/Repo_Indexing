/*  SYNOPSIS:   CL PROGRAM THAT PROCESSES THE EXC AUTO INV REST CMP */
/*              XF.  THIS PROGRAM RUNS EACH DAY AND SENDS A MESSAGE */
/*              FOR EACH PFS WAREHOUSE THAT IS DESIGNATED FOR       */
/*              AUTO INVENTORY RESTORATION THAT IS NOT PROCESSED.   */
/*              THIS CLP CREATED SO THAT JOB CAN BE ON IJS.         */

/*  SYSTEM:     ORDER MANAGEMENT SYSTEM                             */
/*                                                                  */
/*  DATE:       08/04/2014                                          */
/*                                                                  */
/*  PARAMETERS: NONE                                                */
/********************************************************************/
/* E3191 JJH 08/04/14 AUTOMATED INVENTORY RESTORATION               */
/* WI517 DN  04/26/23 - Added call to PUYLXFR to get WIM REL 1      */
/*                      Release Status.                             */
/*                      Added call to PUZVXFR if & when WIM REL 1   */
/*                      Release Status is 'Parallel' or 'Live'.     */
/********************************************************************/
             PGM

             DCL        VAR(&RLSSTS) TYPE(*CHAR) LEN(1)


 /* WI517 - GET WIM MODULE RELEASE STATUS */
             CALL       PGM(PUYLXFR) PARM('' 'WIM' X'001F' &RLSSTS)

 /* WI517 - IF 'LIVE' OR 'PARALLEL' THEN CALL PUZVXFR */
             IF         COND(&RLSSTS *EQ 'Y' *OR &RLSSTS *EQ 'P') +
                          THEN(DO)

             CALL       PGM(PUZVXFR) PARM('' &RLSSTS)
             MONMSG     MSGID(CPF0000)

             ENDDO

             ELSE       CMD(DO)

 /* VERIFY THAT THE AUTOMATED INVENTORY RESTORATION COMPLETED        */
             CALL       PGM(PBOHXFR) PARM('')
             MONMSG     MSGID(CPF0000)

             ENDDO


             ENDPGM
