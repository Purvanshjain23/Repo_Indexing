PGM
   /*-------------------------------------------------------------*/
   /* PULL THE PREVIOUS PERIOD HOT WEIGHT AND THE CURRENT PERIOD  */
   /* HOT WEIGHT AND THEN FORMMAT THIS INTO THE IHUB DATA BASE    */
   /*-------------------------------------------------------------*/
   /* CALCULATE BEGINNING DATE AND CALCULATE ENDDING DATE         */
   /*-------------------------------------------------------------*/
   /* BASED ON THE CURRENT DATE AND GET THE PREVIOUS PERIOD       */
   /* BEGINNING DATE, AND THEN USE THE CURRENT DATA AND GET       */
   /* THE CURRENT PERIOD ENDING DATE                              */
   /*-------------------------------------------------------------*/
   /* CLRPFM THE SP ACTUAL BEFORE GETTING STARTED.                */
   /*-------------------------------------------------------------*/
   /* PERFORM THE SEQUEL THAT WILL THEN SELET THE DATA BASED      */
   /* ON PREVIOUS BEGINNING THRU THE CURRENT PERIOD ENDDING       */
   /* DATE.                                                       */
   /* COUNT THE RECORDS AND SUMMARIZE THE DATA                    */
   /* THEN READ THIS DATA AND WRITE THE DATA INTO THE IHUB        */
   /* DATA - WHICH IS THE SP ACTUAL                               */
   /*-------------------------------------------------------------*/

   /*-------------------*/
   /* Declare Variables */
   /*-------------------*/
             DCL  VAR(&RETURN)  TYPE(*CHAR) LEN(7)
             DCL  VAR(&SPPROD)  TYPE(*CHAR) LEN(30)
             DCL  VAR(&SPLOCA)  TYPE(*CHAR) LEN(20)
             DCL  VAR(&SPKILD)  TYPE(*DEC) LEN(8 0)
             DCL  VAR(&SPHEADA) TYPE(*CHAR) LEN(14)
             DCL  VAR(&SPHEAD)  TYPE(*DEC) LEN(14 4)

             /* Parameter Fields */

             DCLF       FILE(*LIBL/HOTWGTHS)

 LOOP:       RCVF
             MONMSG     MSGID(CPF0889) EXEC(GOTO CMDLBL(ENDPGM))
             MONMSG     MSGID(CPF0000) EXEC(GOTO ENDPGM)

             CHGVAR     VAR(&SPPROD) VALUE(&BUZDTX)
             CHGVAR     VAR(&SPLOCA) VALUE(&BUZCTX)
             CHGVAR     VAR(&SPKILD) VALUE(&KLDTE)
             CHGVAR     VAR(&SPHEADA) VALUE(&CNTSTAR)
             CHGVAR     VAR(&SPHEAD) VALUE(&SPHEADA)

             CALL       PGM(PLU9XFR) PARM(' ' &SPPROD &SPLOCA &SPKILD +
                          &SPHEAD)

             GOTO LOOP

ENDPGM:

             ENDPGM

