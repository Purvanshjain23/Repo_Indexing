/***************************************************************** */
/*                                                                 */
/*  PROGRAM NUMBER:  PPOGUPR                                       */
/*  PROGRAM NAME:    SUBMIT EDI PROGRAM                            */
/*  PROGRAMMER:      Purva Patel                                   */
/*  CREATE DATE:     05/05/2005                                    */
/*                                                                 */
/*  FUNCTION:        THIS CL IS CALLED FROM WORK WITH NISTEVO      */
/*                   ORDERS.                                      */
/*                                                                 */
/*                                                                 */
/*******************************************************************/
/*  Modification History                                           */
/*  CENTONZE 8/15/05   DELAY THE SBMRMTCMD 10 MINUTES TO GIVE      */
/*                     MIMIX ENOUGH TIME TO GET THE DATA TO MARINE */
/*  CENTONZE 9/22/05   DONT SEND THE ORDERS IF SBDPGMR GROUP PRF   */
/*                                                                 */
/*******************************************************************/
             PGM
/*-----------------------------------------------------------------*/
/*                    PROGRAM VARIABLES                            */
/*-----------------------------------------------------------------*/

             DCL        VAR(&MARINE) TYPE(*CHAR) LEN(1)
             DCL        VAR(&GRP   ) TYPE(*CHAR) LEN(10)

/*-----------------------------------------------------------------*/
/*                     INITIALIZATION                              */
/*-----------------------------------------------------------------*/
             RTVDTAARA  DTAARA(MARINE (1 1)) RTNVAR(&MARINE)

/*-----------------------------------------------------------------*/
/*                           MAIN                                  */
/*-----------------------------------------------------------------*/
             RTVUSRPRF  GRPPRF(&GRP)
             IF         COND(&GRP = 'SBDPGMR   ') THEN(GOTO +
                          CMDLBL(ENDPGM))

             IF         COND(&MARINE = 'Y') +
             THEN(DO)
             SBMJOB     CMD(CALL PGM(OB940)) JOBD(EXTSYS/EXTRNJOBD) +
                          INLLIBL(*JOBD)
             ENDDO
             ELSE (DO)
             DLYJOB     DLY(600) /* delay 10 minutes */
                 SBMRMTCMD  CMD('SBMJOB CMD(CALL PGM(OB940)) +
                          JOBD(EXTSYS/EXTRNJOBD) INLLIBL(*JOBD)') +
                          DDMFILE(SBDSYS/SBDDDMMAR)
             ENDDO

/*-----------------------------------------------------------------*/
/*                      PROGRAM END                                */
/*-----------------------------------------------------------------*/
 ENDPGM:
             ENDPGM
