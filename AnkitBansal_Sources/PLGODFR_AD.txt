// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLGODFR
// ?Date: 14.08.2025 Time: 02:54:14
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

//?Modifications and Comments
DO;

//?E3814 JJH 10/07/15 - Display PS Premises ID.
ENDDO;

// Execute function Mov ApplN to Company  US.
EXECUTE FUNCTION(Mov ApplN to Company  US) TYPE(EXCUSRSRC) ('PKMFUFR');
PARAMETER(PAR.Oms_System_Value_Alpha);
{
 C***   MOVE USER SOURCE                      ***
 C                     MOVEL#IEVTX    ##CMP
}


//?USER: Initialize subfile control

EXECUTE FUNCTION(Producer Name         DRV) TYPE(DRVFLD)                        AB1100361;
PARAMETER(CTL.Producer_Name_DRV);
PARAMETER(CTL.PD_Producer_Code);
{
 //?Calculate derived field

 EXECUTE FUNCTION(Rtv Producer Name     RT) TYPE(RTVOBJ) FILE(PKACREP)           AB1101542;
 PARAMETER(PAR.PD_Producer_Code);
 PARAMETER(PAR.Producer_Name_DRV);
 {
  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


//?USER: Process subfile record (Pre-confirm)

CASE;

// IF RCD.*SFLSEL is *Display request
IF RCD.*SFLSEL = '8'/'8';

// Call program Dsp Prod Site Mileage DF.
CALL PROGRAM(Dsp Prod Site Mileage DF) ('PLFSDFR');
PARAMETER(RCD.PD_Producer_Code);
PARAMETER(RCD.PS_Site_ID);
PARAMETER(PAR.Oms_System_Value_Alpha);

// RCD.*SFLSEL = CND.*Reset to blanks
RCD.*SFLSEL = *BLANK;

ENDIF;

