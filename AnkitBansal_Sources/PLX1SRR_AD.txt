// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLX1SRR
// ?Date: 14.08.2025 Time: 02:55:44
// ?------------------------------------------------------------------------------------------------

//?USER: Load subfile record from DBF record

//?Group Blank Then Select All By Division Else Select Same Div/Grp.
CASE;

// IF PAR.M3 Supplier Group is Not Entered
IF PAR.M3_Supplier_Group = *BLANK;

CASE;

// IF PAR.M3 Supplier Division EQ DB1.M3 Supplier Division
IF PAR.M3_Supplier_Division = DB1.M3_Supplier_Division;

// IF *OTHERWISE
IF *OTHERWISE;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

//?Group Blank Then Select All By Division Else Select Same Div/Grp.
// IF *OTHERWISE
IF *OTHERWISE;

//?Select by Same Division/Group.
CASE;

// IF PAR.M3 Supplier Division EQ RCD.M3 Supplier Division
IF PAR.M3_Supplier_Division = RCD.M3_Supplier_Division;

// AND PAR.M3 Supplier Group EQ RCD.M3 Supplier Group
AND PAR.M3_Supplier_Group = RCD.M3_Supplier_Group;

//?Select by Same Division/Group.
// IF *OTHERWISE
IF *OTHERWISE;

// PGM.*Record selected = CND.*NO
PGM.*Record_selected = 'N';

ENDIF;

ENDIF;

//?USER: Process command keys

CASE;

// IF CTL.*CMD key is CF03
IF CTL.*CMD_key = '03';

// PAR.M3 Supplier ID = CON.*BLANK
PAR.M3_Supplier_ID = *BLANK;

ENDIF;

