     H/TITLE Exc Prc From F0014    XF  Execute external functio
     H DATFMT(*YMD) DATEDIT(*YMD) DEBUG(*YES)
     Z* CRTBNDRPG
     Z* DFTACTGRP(*NO) BNDDIR(YBNDDIR) DBGVIEW(*SOURCE)
     Z* CVTOPT(*DATETIME) ACTGRP(*CALLER) OPTIMIZE(*BASIC)
      *
     H* SYNOPSIS :
     H*  Perform user function
     H*  As defined by action diagram
      *
     H* Generated by CA 2E release 8.6 (1547)
     H* Function type : Execute external function
     H* Object type   : *PGM
      *
     H* Company       : E1IDEVMDL
     H* System        : E1IDEVMDL
     H* User name     : ISJBADE
     H* Date          : 08/14/20  Time  : 16:58:23
     H* Copyright     : E1IDEVMDL
      *
      *================================================================
     M* Maintenance   :
      *================================================================
     FEZ0014L2  IF   E           K DISK
      * RSQ : Payment Terms      F0014Z Sel Unprocessed
      *
     FE10014L1  IF   E           K DISK
      * RTV : Payment Terms      F0014  Retrieval index
      *
     FE10014L0  UF A E           K DISK
      * UPD : Payment Terms      F0014  Update index
      *
     FEZ0014L0  UF   E           K DISK
      * UPD : Payment Terms      F0014Z Update index
      *
      * Long constants
     D @CN#            S              6    DIM(01)CTDATA PERRCD(1)
     D @CN             S             25    DIM(01) ALT(@CN#)
      /EJECT
      * Data structures:
     D PGMDS         ESDS                  EXTNAME(Y2PGDSP)
      * Modified Program data structure
     D JBDTTM          DS
      * Job date/time
     D  ##JDT                  1      7  0
     D  ##JCC                  1      1  0
     D  ##JYY                  2      3  0
     D  ##JMM                  4      5  0
     D  ##JDD                  6      7  0
     D  ##JTM                  8     13  0
     D  ##JHH                  8      9  0
     D  ##JNN                 10     11  0
     D  ##JSS                 12     13  0
     D QE1001        E DS                  EXTNAME(E10014L0)
      * UPD : Payment Terms      F0014  Update index
      * Renamed input format fields
     D  WCPTC        E                     EXTFLD(ENPTC)
     D  WCPTD        E                     EXTFLD(ENPTD)
     D  WCDCP        E                     EXTFLD(ENDCP)
     D  WCDCD        E                     EXTFLD(ENDCD)
     D  WCNDTP       E                     EXTFLD(ENNDTP)
     D  WCDDJ        E                     EXTFLD(ENDDJ)
     D  WCNSP        E                     EXTFLD(ENNSP)
     D  WCDTPA       E                     EXTFLD(ENDTPA)
     D  WCEIR        E                     EXTFLD(ENEIR)
     D  WCUSER       E                     EXTFLD(ENUSER)
     D  WCPID        E                     EXTFLD(ENPID)
     D  WCUPMJ       E                     EXTFLD(ENUPMJ)
     D  WCJOBN       E                     EXTFLD(ENJOBN)
     D  WCUPMT       E                     EXTFLD(ENUPMT)
     D  WCPXDM       E                     EXTFLD(ENPXDM)
     D  WCPXDD       E                     EXTFLD(ENPXDD)
      *
     D YARDCS          DS           101
      * Message data for message Y2U0009.
     D MD0009          DS
     D  MDPGM                  1     10
     D  MDACP                 11     20
     D  MDFMT                 21     30
     D  MDACT                 31     34
     D  MDLBL                 35     40
     D QEZ001        E DS                  EXTNAME(EZ0014L0)
      * UPD : Payment Terms      F0014Z Update index
      * Renamed input format fields
     D  WDPTC        E                     EXTFLD(BCPTC)
     D  WDACTS       E                     EXTFLD(BCACTS)
     D  WDPTD        E                     EXTFLD(BCPTD)
     D  WDDCP        E                     EXTFLD(BCDCP)
     D  WDDCD        E                     EXTFLD(BCDCD)
     D  WDNDTP       E                     EXTFLD(BCNDTP)
     D  WDDDJ        E                     EXTFLD(BCDDJ)
     D  WDNSP        E                     EXTFLD(BCNSP)
     D  WDDTPA       E                     EXTFLD(BCDTPA)
     D  WDEIR        E                     EXTFLD(BCEIR)
     D  WDUSER       E                     EXTFLD(BCUSER)
     D  WDPID        E                     EXTFLD(BCPID)
     D  WDUPMJ       E                     EXTFLD(BCUPMJ)
     D  WDJOBN       E                     EXTFLD(BCJOBN)
     D  WDUPMT       E                     EXTFLD(BCUPMT)
     D  WDPXDM       E                     EXTFLD(BCPXDM)
     D  WDPXDD       E                     EXTFLD(BCPXDD)
     D  WDIEST       E                     EXTFLD(BCIEST)
     D  WDADDT       E                     EXTFLD(BCADDT)
     D  WDADTM       E                     EXTFLD(BCADTM)
      *
     D YBRDCS          DS           136
      *
      * Declared stand-alone variables
     D  P0RTN          S              7
     D  W0ICL          S              1
     D  W0RTN          S              7
     D  W0RSL          S              1
     D  W0RSF          S              1
     D  W0RTW          S              9  0
     D  W0ENV          S              3
     D  ##TME          S              6  0
     D  XDTSDL         S             26
     D  ZADFMF         S             10
     D  YARDC          S              1
     D  YBRDC          S              1
     D  ZAPGMQ         S             10
     D  ZAPGRL         S              5
     D  ZAMSID         S              7
     D  ZAMSGF         S             10
     D  ZAMSTP         S              7
     D  YILE           S              1
     D  W0PMT          S              1
     D                 DS
     D  ZAMSDA                 1    132
     I@0014FD
      * Payment Terms      F0014Z Sel Unprocessed
      * Renamed input format fields
     I              BCPTC                       WAPTC
     I              BCACTS                      WAACTS
     I              BCPTD                       WAPTD
     I              BCDCP                       WADCP
     I              BCDCD                       WADCD
     I              BCNDTP                      WANDTP
     I              BCDDJ                       WADDJ
     I              BCNSP                       WANSP
     I              BCDTPA                      WADTPA
     I              BCEIR                       WAEIR
     I              BCUSER                      WAUSER
     I              BCPID                       WAPID
     I              BCUPMJ                      WAUPMJ
     I              BCJOBN                      WAJOBN
     I              BCUPMT                      WAUPMT
     I              BCPXDM                      WAPXDM
     I              BCPXDD                      WAPXDD
     I              BCIEST                      WAIEST
     I              BCADDT                      WAADDT
     I              BCADTM                      WAADTM
      *
     II0014L1
      * Payment Terms      F0014  Retrieval index
      * Renamed input format fields
     I              ENPTC                       WBPTC
     I              ENPTD                       WBPTD
     I              ENDCP                       WBDCP
     I              ENDCD                       WBDCD
     I              ENNDTP                      WBNDTP
     I              ENDDJ                       WBDDJ
     I              ENNSP                       WBNSP
     I              ENDTPA                      WBDTPA
     I              ENEIR                       WBEIR
     I              ENUSER                      WBUSER
     I              ENPID                       WBPID
     I              ENUPMJ                      WBUPMJ
     I              ENJOBN                      WBJOBN
     I              ENUPMT                      WBUPMT
     I              ENPXDM                      WBPXDM
     I              ENPXDD                      WBPXDD
      *
     II0014L0
      * Payment Terms      F0014  Update index
      * Renamed input format fields
     I              ENPTC                       WCPTC
     I              ENPTD                       WCPTD
     I              ENDCP                       WCDCP
     I              ENDCD                       WCDCD
     I              ENNDTP                      WCNDTP
     I              ENDDJ                       WCDDJ
     I              ENNSP                       WCNSP
     I              ENDTPA                      WCDTPA
     I              ENEIR                       WCEIR
     I              ENUSER                      WCUSER
     I              ENPID                       WCPID
     I              ENUPMJ                      WCUPMJ
     I              ENJOBN                      WCJOBN
     I              ENUPMT                      WCUPMT
     I              ENPXDM                      WCPXDM
     I              ENPXDD                      WCPXDD
      *
     I@BCCPEZ
      * Payment Terms      F0014Z Update index
      * Renamed input format fields
     I              BCPTC                       WDPTC
     I              BCACTS                      WDACTS
     I              BCPTD                       WDPTD
     I              BCDCP                       WDDCP
     I              BCDCD                       WDDCD
     I              BCNDTP                      WDNDTP
     I              BCDDJ                       WDDDJ
     I              BCNSP                       WDNSP
     I              BCDTPA                      WDDTPA
     I              BCEIR                       WDEIR
     I              BCUSER                      WDUSER
     I              BCPID                       WDPID
     I              BCUPMJ                      WDUPMJ
     I              BCJOBN                      WDJOBN
     I              BCUPMT                      WDUPMT
     I              BCPXDM                      WDPXDM
     I              BCPXDD                      WDPXDD
     I              BCIEST                      WDIEST
     I              BCADDT                      WDADDT
     I              BCADTM                      WDADTM
      *
      /EJECT
      *****************************************************************
      * Entry parameters
     C     *ENTRY        PLIST
     C                   PARM                    P0RTN
      *****************************************************************
      * Initialize
     C                   EXSR      ZZINIT
      *
      * Exc Prc From F0014    XF
      * SDN 465 JDE to E1 RMC 4/24/2020
      *   Read staged table from E1 for the address book and update E1IDE
      *    table E101151 - process ADDS and CHANGES
      * Rtv Prc from F0014    RT - Payment Terms      F0014Z  * 
     C                   EXSR      SARVGN
      *----------------------------------------------------------------
      * Exit program
     C     AAEXIT        TAG
     C                   EVAL      P0RTN = ' '
     C                   EXSR      ZYEXPG
      *================================================================
      /EJECT
     CSR   SARVGN        BEGSR
      *================================================================
      * Rtv Prc from F0014    RT - Payment Terms      F0014Z  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Define keylist
     C     KPSSA         KLIST
     C                   KFLD                    WAPTC                          Payment Terms C
     C                   KFLD                    WAACTS                         Date Time Stamp
      * Initialize key list
     C                   MOVEL     *LOVAL        WAPTC                          Payment Terms C
     C                   MOVEL     XDTSDL        WAACTS                         Date Time Stamp
      * Setup key
      * Establish starting position
     C     KPSSA         SETLL     @0014FD                                      *
     C                   READ      @0014FD                                90    *
      * Data record not found
     C   90              MOVEL     'E1I0153'     W0RTN
      * USER: Process Data record
      * Rtv CrtChg from Stage RT - Payment Terms      F0014  * 
     C                   DOW       NOT *IN90
     C                   EXSR      SBRVGN
      * Chg F0014Z to Prcd    CH - Payment Terms      F0014Z  * 
     C                   EXSR      SECHRC
     C                   READ      @0014FD                                90    *
     C                   ENDDO
      *================================================================
     CSR   SAEXIT        ENDSR
      /EJECT
     CSR   SBRVGN        BEGSR
      *================================================================
      * Rtv CrtChg from Stage RT - Payment Terms      F0014  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Define keylist
     C     KRSSB         KLIST
     C                   KFLD                    WBPTC                          Payment Terms C
      * Setup key
     C                   MOVEL     WAPTC         WBPTC                          Payment Terms C
      * Establish starting position
     C     KRSSB         CHAIN     I0014L1                            90        *
      * Data record not found
     C                   IF        *IN90
     C                   MOVEL     'E1I0094'     W0RTN
      * USER: Processing if Data record not found
      * Crt E10014 from Stage CR - Payment Terms      F0014  * 
     C                   EXSR      SCCRRC
     C                   GOTO      SBEXIT
     C                   ENDIF
      *
      * USER: Process Data record
      * Chg E10014 from Stage CH - Payment Terms      F0014  * 
     C                   IF        NOT *IN90
     C                   EXSR      SDCHRC
     C                   ENDIF
      *================================================================
     CSR   SBEXIT        ENDSR
      /EJECT
     CSR   SCCRRC        BEGSR
      *================================================================
      * Crt E10014 from Stage CR - Payment Terms      F0014  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Move all fields to I0014L0
     C                   MOVEL     WAPTC         WCPTC                          Payment Terms C
     C                   MOVEL     WAPTD         WCPTD                          Description-Pay
     C                   Z-ADD     WADCP         WCDCP                          Discount% - Pay
     C                   Z-ADD     WADCD         WCDCD                          Discount Days
     C                   Z-ADD     WANDTP        WCNDTP                         Net Days to Pay
     C                   Z-ADD     WADDJ         WCDDJ                          Date - Net Due
     C                   Z-ADD     WANSP         WCNSP                          Number of Split
     C                   Z-ADD     WADTPA        WCDTPA                         Days to Pay Agi
     C                   Z-ADD     WAEIR         WCEIR                          Percent-Eff Int
     C                   MOVEL     WAUSER        WCUSER                         User ID
     C                   MOVEL     WAPID         WCPID                          Program ID
     C                   Z-ADD     WAUPMJ        WCUPMJ                         Date - Updated
     C                   MOVEL     WAJOBN        WCJOBN                         Work Station ID
     C                   Z-ADD     WAUPMT        WCUPMT                         Time - Last Upd
     C                   Z-ADD     WAPXDM        WCPXDM                         Date - Due Date
     C                   Z-ADD     WAPXDD        WCPXDD                         Date - Due Date
      *
     C     KLCRSC        KLIST
     C                   KFLD                    WCPTC                          Payment Terms C
      * Check for duplicate primary key
     C     KLCRSC        SETLL     I0014L0                                90    *
     C                   IF        *IN90
     C                   MOVEL     'E1I0095'     W0RTN
      * Send message 'Payment Terms      F00 EX'
     C                   MOVEL     'E1I0095'     ZAMSID
     C                   EXSR      ZASNMS
     C                   GOTO      SCEXIT
     C                   ENDIF
      *
     C                   WRITE     I0014L0                              91      *
      *
      * Write error detected
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
     C                   ELSE
     C                   ENDIF
      *================================================================
     CSR   SCEXIT        ENDSR
      /EJECT
     CSR   SDCHRC        BEGSR
      *================================================================
      * Chg E10014 from Stage CH - Payment Terms      F0014  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Set PGM.*Record Data Changed flag
     C                   EVALR     YARDC = ' '
      *
      * Move key fields to I0014L0
     C                   MOVEL(P)  WBPTC         WCPTC                          Payment Terms C
      *
     C     KLCHSD        KLIST
     C                   KFLD                    WCPTC                          Payment Terms C
     C     KLCHSD        CHAIN     I0014L0                            9091      *
      *
      * Record not found
     C                   IF        *IN90
     C                   MOVEL     'Y2U0009'     W0RTN
     C                   MOVEL     ##PGM         MDPGM
     C                   MOVEL     'E10014L0'    MDACP
     C                   MOVEL     'I0014L0'     MDFMT
     C                   MOVEL     '*CHG'        MDACT
      * Record not found label: LBL001.
     C                   MOVEL     'LBL001'      MDLBL
      * Send message '*Record no longer on file'
     C                   MOVEL     'Y2U0009'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     MD0009        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   EVAL      MD0009 = ' '
     C                   GOTO      SDEXIT
     C                   ENDIF
      *
      * Record locked
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
      * Send message '*Database operation error'
     C                   MOVEL     'Y2U0004'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   EXSR      ZASNMS
     C                   GOTO      SDEXIT
     C                   ENDIF
      *
      * Store record data for null update check
     C                   MOVE      QE1001        YARDCS
      * Move non-key fields to I0014L0
     C                   MOVEL(P)  WAPTD         WCPTD                          Description-Pay
     C                   Z-ADD     WADCP         WCDCP                          Discount% - Pay
     C                   Z-ADD     WADCD         WCDCD                          Discount Days
     C                   Z-ADD     WANDTP        WCNDTP                         Net Days to Pay
     C                   Z-ADD     WADDJ         WCDDJ                          Date - Net Due
     C                   Z-ADD     WANSP         WCNSP                          Number of Split
     C                   Z-ADD     WADTPA        WCDTPA                         Days to Pay Agi
     C                   Z-ADD     WAEIR         WCEIR                          Percent-Eff Int
     C                   MOVEL(P)  WAUSER        WCUSER                         User ID
     C                   MOVEL(P)  WAPID         WCPID                          Program ID
     C                   Z-ADD     WAUPMJ        WCUPMJ                         Date - Updated
     C                   MOVEL(P)  WAJOBN        WCJOBN                         Work Station ID
     C                   Z-ADD     WAUPMT        WCUPMT                         Time - Last Upd
     C                   Z-ADD     WAPXDM        WCPXDM                         Date - Due Date
     C                   Z-ADD     WAPXDD        WCPXDD                         Date - Due Date
      *
      * Set PGM.*Record Data Changed flag
     C                   IF        QE1001 <> YARDCS AND
     C                             YARDC <> 'N'
     C                   MOVE      'Y'           YARDC
     C                   ENDIF
      * If changed update record otherwise release record
     C                   IF        YARDC = 'Y'
     C                   UPDATE    I0014L0                              91      *
     C                   ELSE
      * Release record lock
     C                   UNLOCK    E10014L0                             91      *
     C                   ENDIF
      * Change error detected
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
     C                   ELSE
      *
      * DBF change successful
     C                   ENDIF
      *================================================================
     CSR   SDEXIT        ENDSR
      /EJECT
     CSR   SECHRC        BEGSR
      *================================================================
      * Chg F0014Z to Prcd    CH - Payment Terms      F0014Z  * 
      *================================================================
     C                   EVAL      W0RTN = ' '
      * Set PGM.*Record Data Changed flag
     C                   EVALR     YBRDC = ' '
      *
      * Move key fields to @BCCPEZ
     C                   MOVEL(P)  WAPTC         WDPTC                          Payment Terms C
     C                   MOVEL(P)  WAACTS        WDACTS                         Date Time Stamp
      *
     C     KLCHSE        KLIST
     C                   KFLD                    WDPTC                          Payment Terms C
     C                   KFLD                    WDACTS                         Date Time Stamp
     C     KLCHSE        CHAIN     @BCCPEZ                            9091      *
      *
      * Record not found
     C                   IF        *IN90
     C                   MOVEL     'Y2U0009'     W0RTN
     C                   MOVEL     ##PGM         MDPGM
     C                   MOVEL     'EZ0014L0'    MDACP
     C                   MOVEL     '@BCCPEZ'     MDFMT
     C                   MOVEL     '*CHG'        MDACT
      * Record not found label: LBL002.
     C                   MOVEL     'LBL002'      MDLBL
      * Send message '*Record no longer on file'
     C                   MOVEL     'Y2U0009'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   MOVEL     MD0009        ZAMSDA                         Message data
     C                   EXSR      ZASNMS
     C                   EVAL      MD0009 = ' '
     C                   GOTO      SEEXIT
     C                   ENDIF
      *
      * Record locked
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
      * Send message '*Database operation error'
     C                   MOVEL     'Y2U0004'     ZAMSID
     C                   MOVEL     'Y2USRMSG'    ZAMSGF
     C                   EXSR      ZASNMS
     C                   GOTO      SEEXIT
     C                   ENDIF
      *
      * Store record data for null update check
     C                   MOVE      QEZ001        YBRDCS
      * Move non-key fields to @BCCPEZ
     C                   MOVEL(P)  WAPTD         WDPTD                          Description-Pay
     C                   Z-ADD     WADCP         WDDCP                          Discount% - Pay
     C                   Z-ADD     WADCD         WDDCD                          Discount Days
     C                   Z-ADD     WANDTP        WDNDTP                         Net Days to Pay
     C                   Z-ADD     WADDJ         WDDDJ                          Date - Net Due
     C                   Z-ADD     WANSP         WDNSP                          Number of Split
     C                   Z-ADD     WADTPA        WDDTPA                         Days to Pay Agi
     C                   Z-ADD     WAEIR         WDEIR                          Percent-Eff Int
     C                   MOVEL(P)  WAUSER        WDUSER                         User ID
     C                   MOVEL(P)  WAPID         WDPID                          Program ID
     C                   Z-ADD     WAUPMJ        WDUPMJ                         Date - Updated
     C                   MOVEL(P)  WAJOBN        WDJOBN                         Work Station ID
     C                   Z-ADD     WAUPMT        WDUPMT                         Time - Last Upd
     C                   Z-ADD     WAPXDM        WDPXDM                         Date - Due Date
     C                   Z-ADD     WAPXDD        WDPXDD                         Date - Due Date
     C                   MOVEL(P)  '1'           WDIEST                         OMS ERP Process
     C                   Z-ADD     ##JDT         WDADDT                         OMS ERP Process
     C                   Z-ADD     ##JTM         WDADTM                         OMS ERP Process
      *
      * Set PGM.*Record Data Changed flag
     C                   IF        QEZ001 <> YBRDCS AND
     C                             YBRDC <> 'N'
     C                   MOVE      'Y'           YBRDC
     C                   ENDIF
      * If changed update record otherwise release record
     C                   IF        YBRDC = 'Y'
     C                   UPDATE    @BCCPEZ                              91      *
     C                   ELSE
      * Release record lock
     C                   UNLOCK    EZ0014L0                             91      *
     C                   ENDIF
      * Change error detected
     C                   IF        *IN91
     C                   MOVEL     'Y2U0004'     W0RTN
     C                   ELSE
      *
      * DBF change successful
     C                   ENDIF
      *================================================================
     CSR   SEEXIT        ENDSR
      /EJECT
     CSR   ZASNMS        BEGSR
      *================================================================
      * Send message to program's message queue
      *================================================================
     C                   IF        ZAPGMQ = ' '
     C                   MOVEL     ##PGM         ZAPGMQ
     C                   END
      * If no message file specified, use default
     C                   IF        ZAMSGF = ' '
     C                   MOVEL     ZADFMF        ZAMSGF
     C                   END
     C                   CALL      'Y2SNMGC'
     C                   PARM                    ZAPGMQ                         Program queue
     C                   PARM                    ZAPGRL                         Rel queue
     C                   PARM                    ZAMSID                         Message ID
     C                   PARM                    ZAMSGF                         Message file
     C                   PARM                    ZAMSDA                         Message data
     C                   PARM                    ZAMSTP                         Message type
     C                   PARM      'Y'           YILE
      * Clear all fields for default mechanism next time
     C                   EVAL      ZAPGMQ = ' '
     C                   EVAL      ZAPGRL = ' '
     C                   EVAL      ZAMSID = ' '
     C                   EVAL      ZAMSGF = ' '
     C                   EVAL      ZAMSDA = ' '
     C                   EVAL      ZAMSTP = ' '
      *================================================================
     CSR   ZAEXIT        ENDSR
      /EJECT
     CSR   ZXEXPG        BEGSR
      *================================================================
      * Exit program: Normal
      *================================================================
     C                   EXSR      ZYEXPG
      *================================================================
     CSR   ZXEXIT        ENDSR
      /EJECT
     CSR   ZYEXPG        BEGSR
      *================================================================
      * Exit program: Direct
      *================================================================
      * Terminate program
     C                   SETON                                        LR
      *
      * Exit program
     C                   RETURN
      *
      *================================================================
     CSR   ZYEXIT        ENDSR
      /EJECT
     CSR   ZZINIT        BEGSR
      *================================================================
      * Initialisation
      *================================================================
     C                   IF        W0ICL = ' '
     C                   MOVEL     'Y'           W0ICL                          *Initial call
     C                   ELSE
     C                   MOVEL     'N'           W0ICL
     C                   END
     C                   EVALR     P0RTN = ' '
     C                   EVALR     W0RTN = ' '
     C                   EVAL      W0RSL = ' '
     C                   EVAL      W0RSF = ' '
     C                   MOVEL     *ZEROS        W0RTW
     C                   MOVEL     '400'         W0ENV
      * Retrieve job attributes
     C                   CALL      'Y2RTJCR'
     C                   PARM                    PGMDS
      * Setup job date/time
     C                   Z-ADD     ##SD7         ##JDT
     C                   TIME                    ##JTM
      * Update screen time
     C                   TIME                    ##TME
      * Initialize renamed input format fields
     C                   MOVE(P)   '0'           XDTSDL
     C                   MOVEL     @CN(001)      XDTSDL
     C                   MOVEL     XDTSDL        WAACTS                         Date Time Stamp
     C                   Z-ADD     *ZERO         WADCP                          Discount% - Pay
     C                   Z-ADD     *ZERO         WADCD                          Discount Days
     C                   Z-ADD     *ZERO         WANDTP                         Net Days to Pay
     C                   Z-ADD     *ZERO         WADDJ                          Date - Net Due
     C                   Z-ADD     *ZERO         WANSP                          Number of Split
     C                   Z-ADD     *ZERO         WADTPA                         Days to Pay Agi
     C                   Z-ADD     *ZERO         WAEIR                          Percent-Eff Int
     C                   Z-ADD     *ZERO         WAUPMJ                         Date - Updated
     C                   Z-ADD     *ZERO         WAUPMT                         Time - Last Upd
     C                   Z-ADD     *ZERO         WAPXDM                         Date - Due Date
     C                   Z-ADD     *ZERO         WAPXDD                         Date - Due Date
     C                   Z-ADD     *ZERO         WAADDT                         OMS ERP Process
     C                   Z-ADD     *ZERO         WAADTM                         OMS ERP Process
      * Initialize renamed input format fields
     C                   Z-ADD     *ZERO         WBDCP                          Discount% - Pay
     C                   Z-ADD     *ZERO         WBDCD                          Discount Days
     C                   Z-ADD     *ZERO         WBNDTP                         Net Days to Pay
     C                   Z-ADD     *ZERO         WBDDJ                          Date - Net Due
     C                   Z-ADD     *ZERO         WBNSP                          Number of Split
     C                   Z-ADD     *ZERO         WBDTPA                         Days to Pay Agi
     C                   Z-ADD     *ZERO         WBEIR                          Percent-Eff Int
     C                   Z-ADD     *ZERO         WBUPMJ                         Date - Updated
     C                   Z-ADD     *ZERO         WBUPMT                         Time - Last Upd
     C                   Z-ADD     *ZERO         WBPXDM                         Date - Due Date
     C                   Z-ADD     *ZERO         WBPXDD                         Date - Due Date
      * Obtain default message file
     C     *DTAARA       DEFINE    E1MGFLA       ZADFMF
     C                   IN        ZADFMF
      * Dummy move for compiler
     C                   MOVE      '0'           @CN#(1)
     C                   MOVEL     'N'           W0PMT
      *================================================================
     CSR   ZZEXIT        ENDSR
** @CN
00001 0001-01-01-00.00.00.00000
