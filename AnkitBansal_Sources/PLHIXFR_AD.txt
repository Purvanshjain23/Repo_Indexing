// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLHIXFR
// ?Date: 14.08.2025 Time: 02:54:19
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications
//?11/05/2020 ISE H16853 - Recompiled due to change in Buy Order Number
EXECUTE FUNCTION(Clc Wait time minutes RT) TYPE(RTVOBJ) FILE(PKEMCPP)           AB1272110;
{
 //?USER: Process Data record

 //?Convert wait time HH:MM:SS to minutes
 // WRK.Time  Alpha Usr = CVTVAR(DB1.W Wait Time Difference)
 WRK.Time_Alpha_Usr = CVTVAR(DB1.W_Wait_Time_Difference);

 // WRK.Text 2 USR = SUBSTRING(WRK.Time  Alpha Usr,CON.1,CON.2)
 WRK.Text_2_USR = SUBSTRING(WRK.Time_Alpha_Usr:1:2);

 // WRK.Month Alpha USR = SUBSTRING(WRK.Time  Alpha Usr,CON.3,CON.2)
 WRK.Month_Alpha_USR = SUBSTRING(WRK.Time_Alpha_Usr:3:2);

 // WRK.Time HH USR = CVTVAR(WRK.Text 2 USR)
 WRK.Time_HH_USR = CVTVAR(WRK.Text_2_USR);

 // WRK.Time MM USR = CVTVAR(WRK.Month Alpha USR)
 WRK.Time_MM_USR = CVTVAR(WRK.Month_Alpha_USR);

 // wait in minutes
 WRK.Minutes_USR = ( WRK.Time_HH_USR * 60 ) + WRK.Time_MM_USR;

 EXECUTE FUNCTION(Change W001 PSE Report Wo) TYPE(CHGOBJ) FILE(PKEMCPP)          AB1218759;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.TH_Tattoo_Number);
 PARAMETER(DB1.TH_Kill_Date);
 PARAMETER(DB1.TD_Sequence_Number);
 PARAMETER(DB1.W_Sequence_Number);
 PARAMETER(DB1.Pen_Company_Number);
 PARAMETER(DB1.Pen_Number);
 PARAMETER(DB1.TD_Pen_Head);
 PARAMETER(DB1.TD_Drive_Time);
 PARAMETER(DB1.TD_Drive_Date);
 PARAMETER(DB1.TST_Wgt_Date);
 PARAMETER(DB1.TST_Wgt_Time);
 PARAMETER(DB1.TH_Source_Type);
 PARAMETER(DB1.TH_Schedule_Kill_Shift);
 PARAMETER(DB1.Tattoo_Status);
 PARAMETER(DB1.W_Stress_Market_Type);
 PARAMETER(DB1.W_Held_Over_Status);
 PARAMETER(DB1.W_Shift_Held_Over_Head);
 PARAMETER(DB1.W_Held_Over_Head);
 PARAMETER(DB1.W_Yard_Dead);
 PARAMETER(DB1.TH_Avg_Live_Wgt);
 PARAMETER(DB1.TH_Dead_On_Arrival);
 PARAMETER(DB1.TH_HPS_Movement_Ref_#);
 PARAMETER(DB1.W_Group_Reference);
 PARAMETER(WRK.Minutes_USR);
 PARAMETER(DB1.W_Wait_Time_Difference);
 PARAMETER(DB1.W_Load_Time_Difference);
 PARAMETER(DB1.W_Travel_Time_Difference);
 PARAMETER(DB1.HPE_Load_Type);
}


