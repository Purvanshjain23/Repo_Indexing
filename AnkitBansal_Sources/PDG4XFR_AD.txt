// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDG4XFR
// ?Date: 14.08.2025 Time: 03:28:21
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(VAL Kill Dte/Rtv Next  RT) TYPE(RTVOBJ) FILE(CAAFREP)          AC1277981;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Post_to_G_L_Date);
PARAMETER(PAR.Kill_Date);
PARAMETER(PAR.Invalid_Y_N);
{
 //?USER: Initialize routine

 // PAR.Invalid (Y/N) = CND.yes
 PAR.Invalid_Y_N = 'Y';

 // PAR.Kill Date = CON.*ZERO
 PAR.Kill_Date = *ZERO;

 //?USER: Process Data record

 CASE;

 // IF DB1.Kill Day Status is yes
 IF DB1.Kill_Day_Status = 'Y';

 CASE;

 // IF DB1.Plant Date of Last Order EQ PAR.Plant Date of Last Order
 IF DB1.Post_to_G_L_Date = PAR.Post_to_G_L_Date;

 // PAR.Invalid (Y/N) = CND.no
 PAR.Invalid_Y_N = 'N';

 // IF *OTHERWISE
 IF *OTHERWISE;

 // PAR.Kill Date = DB1.Plant Date of Last Order
 PAR.Kill_Date = DB1.Post_to_G_L_Date;

 QUIT;

 ENDIF;

 ENDIF;

}


