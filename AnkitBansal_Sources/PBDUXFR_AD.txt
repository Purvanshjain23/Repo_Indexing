// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBDUXFR
// ?Date: 14.08.2025 Time: 03:47:31
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?default record status to active if it is blanks
CASE;

// IF PAR.Record Status is *blank
IF PAR.Record_Status = *BLANK;

// LCL.Record Status = CND.Active
LCL.Record_Status = 'A';

//?default record status to active if it is blanks
// IF *OTHERWISE
IF *OTHERWISE;

// LCL.Record Status = PAR.Record Status
LCL.Record_Status = PAR.Record_Status;

ENDIF;

EXECUTE FUNCTION(RTV CDE by entry type RT) TYPE(RTVOBJ) FILE(PNF7REP)           AC2044549;
PARAMETER(PAR.Ship_To_Customer);
PARAMETER(PAR.Distribution_Code);
PARAMETER(PAR.CDE_Sequence_Number);
PARAMETER(PAR.CDE_Name);
PARAMETER(PAR.CDE_Destination_Type);
PARAMETER(PAR.CDE_Destination);
PARAMETER(PAR.Record_Status);
{
 //?USER: Initialize routine

 MOVE *ALL (To: PAR From: CON);

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Record does not exist
 PGM.*Return_code = 'Y2U0005';

 //?USER: Process Data record

 CASE;

 // IF DB1.CDE Destination Type EQ PAR.CDE Destination Type
 IF DB1.CDE_Destination_Type = PAR.CDE_Destination_Type;

 // AND DB1.Record Status EQ PAR.Record Status
 AND DB1.Record_Status = PAR.Record_Status;

 MOVE *ALL (To: PAR From: DB1);

 // PGM.*Return code = CND.*Record already exists
 PGM.*Return_code = 'Y2U0003';

 QUIT;

 ENDIF;

}


