             PGM   PARM(&FLIB &TLIB)
             DCL        VAR(&FLIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&TLIB) TYPE(*CHAR) LEN(10)
             DCL        VAR(&USER) TYPE(*CHAR) LEN(10)
             DCL        VAR(&ERROR) TYPE(*CHAR) LEN(1)

             CHKOBJ     OBJ(&FLIB/PKVLLSP) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(END))
             CHKOBJ     OBJ(&TLIB/PKVLLSP) OBJTYPE(*FILE)
             MONMSG     MSGID(CPF0000) EXEC(GOTO CMDLBL(END))

             CPYF       FROMFILE(&FLIB/PKVLLSP) +
                          TOFILE(&TLIB/PKVLLSP) MBROPT(*REPLACE)
             MONMSG     MSGID(CPF0000) EXEC(+
             DO)

                RTVJOBA    USER(&USER)
                ALCOBJ     OBJ((&TLIB/PKVLLSP *FILE *SHRNUP *FIRST))
                MONMSG     MSGID(CPF0000) EXEC(+
                DO)
                   SNDMSG     MSG('Not able to allocate PKVLLSP with +
                               *SHRNUPD.') TOUSR(&USER)
                   GOTO       CMDLBL(END)
                ENDDO

                OVRDBF     FILE(PKVLLSP) TOFILE(&TLIB/PKVLLSP)

                CALL       PGM(DLTPKVR) PARM(&ERROR)
                DLTOVR     FILE(PKVLLSP)

                IF COND(&ERROR *EQ 'Y') THEN(+
                DO)
                   SNDMSG     MSG('Error was found when deleting +
                                 PKVLLSP.') TOUSR(&USER)
                   GOTO       CMDLBL(END)
                ENDDO

                OVRDBF     FILE(PKVLLSP) TOFILE(&FLIB/PKVLLSP) +
                          POSITION(*RRN 1)
                OVRDBF     FILE(YYVLLSP) TOFILE(&TLIB/PKVLLSP)
                CALL       PGM(ADDPKVR)

    /*          RGZPFM     FILE(&TLIB/PKVLLSP)      */
    /*          MONMSG     MSGID(CPF0000)           */

             ENDDO


END:
             DLCOBJ     OBJ((&TLIB/PKVLLSP *FILE *SHRNUP))
             DLTOVR     FILE(*ALL)
             ENDPGM
