/*                                                                 */
/*  PROGRAM NUMBER:  PWFIUPC                                       */
/*  PROGRAM NAME:    UPD DELV SCHD DTL UPL CL                      */
/*  PROGRAMMER:      Julius High                                   */
/*  CREATE DATE:     12/07/17                                      */
/*                                                                 */
/*  FUNCTION:        THis CL updates the Delivery Sched Detail UPL */
/*                   (PLBJCPP) wtih the records in the Delivery    */
/*                   Schedule Detail INT (PWAKCPP).                */
/*                                                                 */
/*                   This function runs 3 times to populate for    */
/*                   Company 360, 440, and 960.                    */
/*******************************************************************/
/*  Modification History                                           */
/*  E10812 JJH 12/13/17 - Per Susan Blakey, comment out update to  */
/*                   360 and 960 until future notice.              */
/*  E10812 JJH 12/21/17 - Call Prc Dsd Upl to HPE IS XF (PLSFXFR)  */
/*  E10812 JJH 01/08/17 - Addlible &HPELIBxxx *AFTER &OMSLIB       */
/*                                                                 */
/*                                                                 */
/**********************************************************************/
             PGM
/*--------------------------------------------------------------------*/
/*                                                                    */
/* FUNCTION SPECIFIC PARMS                                            */
             DCL        VAR(&OMSLIB)    TYPE(*CHAR) LEN(10)
             DCL        VAR(&HPELIB360) TYPE(*CHAR) LEN(10)
             DCL        VAR(&HPELIB440) TYPE(*CHAR) LEN(10)
             DCL        VAR(&HPELIB960) TYPE(*CHAR) LEN(10)

/*--------------------------------------------------------------------*/
/* RETRIEVE LIBRARIES FROM COMPANY VALUES                             */

             CALL       PGM(PDGKXFR) PARM('' X'999F' 'OMSLIB' &OMSLIB)

             CALL       PGM(PDGKXFR) PARM('' X'360F' 'HPELIB' +
                          &HPELIB360)
             CALL       PGM(PDGKXFR) PARM('' X'440F' 'HPELIB' +
                          &HPELIB440)
             CALL       PGM(PDGKXFR) PARM('' X'960F' 'HPELIB' +
                          &HPELIB960)

/*--------------------------------------------------------------------*/
/* ADD OMS LIBRARY                                                    */
             ADDLIBLE   LIB(&OMSLIB) POSITION(*LAST)
             MONMSG     MSGID(CPF2103) /* LIB ALREADY EXIST */

/*--------------------------------------------------------------------*/
/* REMOVE ALL HPE LIBRARY                                             */
             RMVLIBLE   LIB(&HPELIB360)
             MONMSG     MSGID(CPF2104) /* LIB NOT REMOVED             */
             RMVLIBLE   LIB(&HPELIB440)
             MONMSG     MSGID(CPF2104) /* LIB NOT REMOVED             */
             RMVLIBLE   LIB(&HPELIB960)
             MONMSG     MSGID(CPF2104) /* LIB NOT REMOVED             */
/*--------------------------------------------------------------------*/
/* UPDATE DELIVERY SCHED DETAIL UPL FOR 360                           */
/*                                                                    */
/*           ADDLIBLE   LIB(&HPELIB360) POSITION(*AFTER &OMSLIB)      */
/*                                                                    */
/*           CALL       PGM(PWFJXFR) PARM('' X'360F')                 */
/*                                                                    */
/*           CALL       PGM(PLSFXFR) PARM('' '' '' X'360F' 'B')       */
/*                                                                    */
/*           RMVLIBLE   LIB(&HPELIB360)                               */
/*--------------------------------------------------------------------*/
/* UPDATE DELIVERY SCHED DETAIL UPL FOR 440                           */

             ADDLIBLE   LIB(&HPELIB440) POSITION(*AFTER &OMSLIB)

             CALL       PGM(PWFJXFR) PARM('' X'440F')

             CALL       PGM(PLSFXFR) PARM('' '' '' X'440F' 'B')

             RMVLIBLE   LIB(&HPELIB440)
/*--------------------------------------------------------------------*/
/* UPDATE DELIVERY SCHED DETAIL UPL FOR 960                           */
/*                                                                    */
/*           ADDLIBLE   LIB(&HPELIB960) POSITION(*AFTER &OMSLIB)      */
/*                                                                    */
/*           CALL       PGM(PWFJXFR) PARM('' X'960F')                 */
/*                                                                    */
/*           CALL       PGM(PLSFXFR) PARM('' '' '' X'960F' 'B')       */
/*                                                                    */
/*           RMVLIBLE   LIB(&HPELIB960)                               */
/*--------------------------------------------------------------------*/

             ENDPGM
