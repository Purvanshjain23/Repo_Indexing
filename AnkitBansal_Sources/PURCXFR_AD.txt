// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PURCXFR
// ?Date: 14.08.2025 Time: 03:51:10
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?**************************************************************************
//?** PR1 Parms Represent Old Record Fields (Will be blank for Insert).
//?** PR2 Parms Represent New Record Fields (Will be blank for Delete).
//?**************************************************************************
//?Trigger Processing for Insert Event.
CASE;

// IF PR3.TRG Database Event is Insert
IF PR3.TRG_Database_Event = '1';

EXECUTE FUNCTION(Crt Load Detail TRG   CR) TYPE(CRTOBJ) FILE(PUB3CPP)           AC2185060;
PARAMETER(PR2.Load_ID);
PARAMETER(PR2.Stop_Drop_Sequence_Number);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.LDT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

//?Trigger Processing for Update Event.
CASE;

// IF PR3.TRG Database Event is Update
IF PR3.TRG_Database_Event = '3';

//?Update If Any Non-Key Fields Have Changed.
CASE;

// IF PR1.Stop/Drop NE PR2.Stop/Drop
IF PR1.Stop_Drop <> PR2.Stop_Drop;

// OR PR1.Comments for Pickup NE PR2.Comments for Pickup
OR PR1.Comments_for_Pickup <> PR2.Comments_for_Pickup;

// OR PR1.Miles to next stop NE PR2.Miles to next stop
OR PR1.Miles_to_next_stop <> PR2.Miles_to_next_stop;

// OR PR1.Freight Charge NE PR2.Freight Charge
OR PR1.Freight_Charge <> PR2.Freight_Charge;

// OR PR1.Ld Hdr/Ld Dtl Unused NE PR2.Ld Hdr/Ld Dtl Unused
OR PR1.Ld_Hdr_Ld_Dtl_Unused <> PR2.Ld_Hdr_Ld_Dtl_Unused;

// OR PR1.Freight Misc. Charge NE PR2.Freight Misc. Charge
OR PR1.Freight_Misc_Charge <> PR2.Freight_Misc_Charge;

// OR PR1.Freight Stop Charge NE PR2.Freight Stop Charge
OR PR1.Freight_Stop_Charge <> PR2.Freight_Stop_Charge;

// OR PR1.Rated Freight NE PR2.Rated Freight
OR PR1.Rated_Freight <> PR2.Rated_Freight;

// OR PR1.Company Number NE PR2.Company Number
OR PR1.Company_Number <> PR2.Company_Number;

// OR PR1.Order Number NE PR2.Order Number
OR PR1.Order_Number <> PR2.Order_Number;

// OR PR1.Ship Status NE PR2.Ship Status
OR PR1.Ship_Status <> PR2.Ship_Status;

// OR PR1.Estimated Arrival Date NE PR2.Estimated Arrival Date
OR PR1.Estimated_Arrival_Date <> PR2.Estimated_Arrival_Date;

// OR PR1.Estimated Arrival Time NE PR2.Estimated Arrival Time
OR PR1.Estimated_Arrival_Time <> PR2.Estimated_Arrival_Time;

// OR PR1.Appointment Confirm Date NE PR2.Appointment Confirm Date
OR PR1.Appointment_Confirm_Date <> PR2.Appointment_Confirm_Date;

// OR PR1.Appointment Confirm Time NE PR2.Appointment Confirm Time
OR PR1.Appointment_Confirm_Time <> PR2.Appointment_Confirm_Time;

// OR PR1.Confirmation Made With NE PR2.Confirmation Made With
OR PR1.Confirmation_Made_With <> PR2.Confirmation_Made_With;

// OR PR1.Confirmation Number NE PR2.Confirmation Number
OR PR1.Confirmation_Number <> PR2.Confirmation_Number;

// OR PR1.Actual Delivery Date NE PR2.Actual Delivery Date
OR PR1.Actual_Delivery_Date <> PR2.Actual_Delivery_Date;

// OR PR1.Actual Delivery time NE PR2.Actual Delivery time
OR PR1.Actual_Delivery_time <> PR2.Actual_Delivery_time;

// OR PR1.Scheduled Delivery Date NE PR2.Scheduled Delivery Date
OR PR1.Scheduled_Delivery_Date <> PR2.Scheduled_Delivery_Date;

// OR PR1.Scheduled Delivery Time NE PR2.Scheduled Delivery Time
OR PR1.Scheduled_Delivery_Time <> PR2.Scheduled_Delivery_Time;

// OR PR1.Deadline Depart DT    HDR NE PR2.Deadline Depart DT    HDR
OR PR1.Deadline_Depart_DT_HDR <> PR2.Deadline_Depart_DT_HDR;

// OR PR1.Deadline Depart Time  HDR NE PR2.Deadline Depart Time  HDR
OR PR1.Deadline_Depart_Time_HDR <> PR2.Deadline_Depart_Time_HDR;

// OR PR1.On Yard Date NE PR2.On Yard Date
OR PR1.On_Yard_Date <> PR2.On_Yard_Date;

// OR PR1.On Yard Time NE PR2.On Yard Time
OR PR1.On_Yard_Time <> PR2.On_Yard_Time;

// OR PR1.MPC Number NE PR2.MPC Number
OR PR1.MPC_Number <> PR2.MPC_Number;

// OR PR1.Load Dtl On Time Flag NE PR2.Load Dtl On Time Flag
OR PR1.Load_Dtl_On_Time_Flag <> PR2.Load_Dtl_On_Time_Flag;

// OR PR1.On Time Add'l Rsn Unused NE PR2.On Time Add'l Rsn Unused
OR PR1.On_Time_Addl_Rsn_Unused <> PR2.On_Time_Addl_Rsn_Unused;

// OR PR1.Seal Nbr 1 NE PR2.Seal Nbr 1
OR PR1.Seal_Nbr_1 <> PR2.Seal_Nbr_1;

// OR PR1.Seal Nbr 2 NE PR2.Seal Nbr 2
OR PR1.Seal_Nbr_2 <> PR2.Seal_Nbr_2;

// OR PR1.Seal Nbr 3 NE PR2.Seal Nbr 3
OR PR1.Seal_Nbr_3 <> PR2.Seal_Nbr_3;

// OR PR1.Seal Nbr 4 NE PR2.Seal Nbr 4
OR PR1.Seal_Nbr_4 <> PR2.Seal_Nbr_4;

// OR PR1.Seal Nbr 5 NE PR2.Seal Nbr 5
OR PR1.Seal_Nbr_5 <> PR2.Seal_Nbr_5;

// OR PR1.LD Carrier Appt Date NE PR2.LD Carrier Appt Date
OR PR1.LD_Carrier_Appt_Date <> PR2.LD_Carrier_Appt_Date;

// OR PR1.LD Unused Date 2 NE PR2.LD Unused Date 2
OR PR1.LD_Unused_Date_2 <> PR2.LD_Unused_Date_2;

// OR PR1.LD Unused Date 3 NE PR2.LD Unused Date 3
OR PR1.LD_Unused_Date_3 <> PR2.LD_Unused_Date_3;

// OR PR1.LD Carrier Appt Time NE PR2.LD Carrier Appt Time
OR PR1.LD_Carrier_Appt_Time <> PR2.LD_Carrier_Appt_Time;

// OR PR1.LD Unused Time 2 NE PR2.LD Unused Time 2
OR PR1.LD_Unused_Time_2 <> PR2.LD_Unused_Time_2;

// OR PR1.LD Unused Time 3 NE PR2.LD Unused Time 3
OR PR1.LD_Unused_Time_3 <> PR2.LD_Unused_Time_3;

// OR PR1.Miles Error Sts NE PR2.Miles Error Sts
OR PR1.Miles_Error_Sts <> PR2.Miles_Error_Sts;

// OR PR1.LD Unused Sts 2 NE PR2.LD Unused Sts 2
OR PR1.LD_Unused_Sts_2 <> PR2.LD_Unused_Sts_2;

// OR PR1.HPB Transload Station NE PR2.HPB Transload Station
OR PR1.HPB_Transload_Station <> PR2.HPB_Transload_Station;

// OR PR1.LD Cst Svc Tracer Cmmnt NE PR2.LD Cst Svc Tracer Cmmnt
OR PR1.LD_Cst_Svc_Tracer_Cmmnt <> PR2.LD_Cst_Svc_Tracer_Cmmnt;

// OR PR1.LD Unused Txt 2 NE PR2.LD Unused Txt 2
OR PR1.Carrier_Ref_PRO_Inv <> PR2.Carrier_Ref_PRO_Inv;

// OR PR1.LD Unused Txt 3 NE PR2.LD Unused Txt 3
OR PR1.Cust_Assigned_Appt_# <> PR2.Cust_Assigned_Appt_#;

// OR PR1.EDI Status 1 NE PR2.EDI Status 1
OR PR1.EDI_Status_1 <> PR2.EDI_Status_1;

// OR PR1.EDI Status 2 NE PR2.EDI Status 2
OR PR1.EDI_Status_2 <> PR2.EDI_Status_2;

// OR PR1.EDI Status 3 NE PR2.EDI Status 3
OR PR1.EDI_Status_3 <> PR2.EDI_Status_3;

EXECUTE FUNCTION(Crt Load Detail TRG   CR) TYPE(CRTOBJ) FILE(PUB3CPP)           AC2185060;
PARAMETER(PR2.Load_ID);
PARAMETER(PR2.Stop_Drop_Sequence_Number);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.LDT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

ENDIF;

//?Trigger Processing for Delete Event.
CASE;

// IF PR3.TRG Database Event is Delete
IF PR3.TRG_Database_Event = '2';

EXECUTE FUNCTION(Crt Load Detail TRG   CR) TYPE(CRTOBJ) FILE(PUB3CPP)           AC2185060;
PARAMETER(PR1.Load_ID);
PARAMETER(PR1.Stop_Drop_Sequence_Number);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.LDT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

