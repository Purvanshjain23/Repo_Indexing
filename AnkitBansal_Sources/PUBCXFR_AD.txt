// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUBCXFR
// ?Date: 14.08.2025 Time: 03:49:53
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?E13472 JBB  7/23/2018 - Calculate Total Peices per Unit
CASE;

// IF PAR.Pieces Per Bag is EQ Zero
IF PAR.Pieces_Per_Bag = *ZERO;

// AND PAR.Bags Per Unit is EQ Zero
AND PAR.Bags_Per_Unit = *ZERO;

// LCL.DP Total Pieces per unit = CON.1
LCL.DP_Total_Pieces_per_unit = 1;

//?E13472 JBB  7/23/2018 - Calculate Total Peices per Unit
// IF *OTHERWISE
IF *OTHERWISE;

// LCL.DP Total Pieces per unit = PAR.Pieces Per Bag * PAR.Bags Per Unit *
LCL.DP_Total_Pieces_per_unit = PAR.Pieces_Per_Bag * PAR.Bags_Per_Unit;

ENDIF;

EXECUTE FUNCTION(Chg DP Prod fm Itm Dft RT) TYPE(RTVOBJ) FILE(PBBNREP)          AC2134487;
PARAMETER(PAR.DP_Product);
PARAMETER(PAR.DP_Product_Description);
PARAMETER(LCL.DP_Total_Pieces_per_unit);
PARAMETER(PAR.DP_Record_Status);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Chg DP Prod fm Itm Dft CH) TYPE(CHGOBJ) FILE(PBBNREP)          AC2134406;
 PARAMETER(DB1.DP_Profile);
 PARAMETER(DB1.DP_Scenario);
 PARAMETER(DB1.DP_Product);
 PARAMETER(PAR.DP_Product_Description);
 PARAMETER(DB1.DP_Sell_Price);
 PARAMETER(DB1.DP_Standard_Cost);
 PARAMETER(DB1.DP_Product_Type);
 PARAMETER(DB1.DP_Base_Unit_of_Measure);
 PARAMETER(DB1.DP_Product_Group);
 PARAMETER(DB1.DP_Product_Class);
 PARAMETER(DB1.DP_Product_Form);
 PARAMETER(DB1.DP_Product_Brand);
 PARAMETER(DB1.DP_Sub_Class);
 PARAMETER(PAR.DP_Total_Pieces_per_unit);
 PARAMETER(DB1.DP_Unit_Weight_Average);
 PARAMETER(PAR.DP_Record_Status);
 PARAMETER(DB1.DP_System_of_Record);
 PARAMETER(DB1.DP_Date_Time_Stamp);
 {
  //?USER: Processing if Data record not found

  //?* It is not an error if the product code is not found E009708
  // PGM.*Return code = CND.*Normal
  PGM.*Return_code = *BLANK;

  //?USER: Processing before Data update

  // Call program RTV Sys Dt yyyymmddtm UP.
  CALL PROGRAM(RTV Sys Dt yyyymmddtm UP) ('PBN2UPC');

 }

}


