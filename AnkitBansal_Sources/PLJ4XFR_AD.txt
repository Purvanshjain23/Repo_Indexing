// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLJ4XFR
// ?Date: 14.08.2025 Time: 02:54:30
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modification history
DO;

//?03/11/2019 JJH E14630 - Complete testing and promotion
//?- Julius High is completing the testing and promotion of purging
//?  started by Brad Baden.
//?10/25/2018 JBB E13926 - Add new files to purge
//?  Added the purge of the Buy Order Load Comment file.  This is
//?  a child file of Buy Order Load.
//?11/05/2020 ISE H16853 - Recompiled due to change in Buy Order Number
ENDDO;

EXECUTE FUNCTION(Prg Buy Order Load    RT) TYPE(RTVOBJ) FILE(PKAXCPP)           AB1233862;
PARAMETER(PAR.Purge_Date_USR);
{
 //?USER: Initialize routine

 //?***** Change log and comments
 DO;

 //?** 01/23/2009 LJB FP1009
 //?** Removed QTEMP, write to Purge file in Purge Library
 //?** 08/16/2007 LJB FP1009
 //?** Changed RSQ lgl to put Kill Date first, removed company number
 //?** from input parms, Add CRT to write the records to QTEMP file
 //?** before deleting from production
 //?- 10/25/2018 JBB E13926 - New files to purge
 //?  Added the Buy Order Load Comment file for purging when the
 //?  parent file Buy Order Load is purged.
 ENDDO;

 //?USER: Process Data record

 //?10/27/2018 JBB E13926 - New file to Purge
 EXECUTE FUNCTION(Prg Buy Order Load Com RT) TYPE(RTVOBJ) FILE(PLB1CPP)          AB1347035;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(Prg Buy Order Load Com CR) TYPE(CRTOBJ) FILE(PLB1CPP)          AB1347037;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
  PARAMETER(DB1.BOL_Comment_Line_Number);
  PARAMETER(DB1.BOL_Comment_Line_Type);
  PARAMETER(DB1.BOL_Comment);
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  EXECUTE FUNCTION(Del Buy Order Load Com DL) TYPE(DLTOBJ) FILE(PLB1CPP)          AB1321668;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
  PARAMETER(DB1.BOL_Comment_Line_Number);
 }

 EXECUTE FUNCTION(Prg Buy Order Ld Wgt  RT) TYPE(RTVOBJ) FILE(PKEJCPP)           AB1233863;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 {
  //?USER: Initialize routine

  //?***** Change Log and Comments
  DO;

  //?** 08/16/2007 LJB FP1009
  //?** Add: create records in QTEMP file before deleting them
  //?** from production. This file will be copied to the "Z" member
  //?** of the Purge Tape Physical file.
  ENDDO;

  //?USER: Process Data record

  EXECUTE FUNCTION(CRT Buy Order Ld Wt Purge) TYPE(CRTOBJ) FILE(PKEJCPP)          AB1280117;
  PARAMETER(DB1.CC_Company_Number);
  PARAMETER(DB1.PD_Producer_Code);
  PARAMETER(DB1.PL_Location_Code);
  PARAMETER(DB1.BOLW_Movement_Number);
  PARAMETER(DB1.BOLW_Weight_Type);
  PARAMETER(DB1.BOLW_Scale_Weight);
  PARAMETER(DB1.BOLW_Scale_Weight_Date);
  PARAMETER(DB1.BOLW_Scale_Weight_Time);
  PARAMETER(DB1.BOLW_Spread_Status);
  PARAMETER(DB1.BOLW_Unused_Sts_1);
  PARAMETER(DB1.BOLW_Unused_Sts_2);
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  EXECUTE FUNCTION(Dlt Buy Order Load Wt DO) TYPE(DLTOBJ) FILE(PKEJCPP)           AB1213884;
  PARAMETER(DB1.CC_Company_Number);
  PARAMETER(DB1.PD_Producer_Code);
  PARAMETER(DB1.PL_Location_Code);
  PARAMETER(DB1.BOLW_Movement_Number);
  PARAMETER(DB1.BOLW_Weight_Type);
 }

 EXECUTE FUNCTION(Prg Buy Order Ld Ref  RT) TYPE(RTVOBJ) FILE(PWACCPP)           AB1351924;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(CRT Buy Order Ld Rf Purge) TYPE(CRTOBJ) FILE(PWACCPP)          AB1351925;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
  PARAMETER(DB1.BOL_Ref_1);
  PARAMETER(DB1.BOL_Ref_2);
  PARAMETER(DB1.BOL_Ref_Status);
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  EXECUTE FUNCTION(Dlt Buy Order Load Ref DO) TYPE(DLTOBJ) FILE(PWACCPP)          AB1331980;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
 }

 EXECUTE FUNCTION(Prg Buy Order Ld Sec  RT) TYPE(RTVOBJ) FILE(PLA5CPP)           AB1351927;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 {
  //?USER: Process Data record

  EXECUTE FUNCTION(CRT Buy Order Ld Sc Purge) TYPE(CRTOBJ) FILE(PLA5CPP)          AB1351928;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
  PARAMETER(DB1.BOLS_Entry_Date);
  PARAMETER(DB1.BOLS_Entry_Time);
  PARAMETER(DB1.BOLS_Entry_Guard);
  PARAMETER(DB1.BOLS_Entry_Comment);
  PARAMETER(DB1.BOLS_Depart_Date);
  PARAMETER(DB1.BOLS_Depart_Time);
  PARAMETER(DB1.BOLS_Depart_Guard);
  PARAMETER(DB1.BOLS_Depart_Comment);
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  EXECUTE FUNCTION(Del BOL Security      DL) TYPE(DLTOBJ) FILE(PLA5CPP)           AB1288528;
  PARAMETER(DB1.BOH_Company_Number);
  PARAMETER(DB1.BOH_Buy_Order_Number);
  PARAMETER(DB1.BOL_Load_Number);
 }

 //?10/27/2018 JBB E13926 - Renamed CRTOBJ to follow existing purge
 //?naming standards.
 EXECUTE FUNCTION(Prg Buy Order Load   CR) TYPE(CRTOBJ) FILE(PKAXCPP)            AB1280112;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
 PARAMETER(DB1.BOL_Kill_Date);
 PARAMETER(DB1.BOL_Pln_Delv_Start_Time);
 PARAMETER(DB1.BOL_Pln_Delv_End_Time);
 PARAMETER(DB1.BOL_Pln_Head_Delv);
 PARAMETER(DB1.BOL_Shipped_Wgt);
 PARAMETER(DB1.BOL_Pln_Delv_Date);
 PARAMETER(DB1.BOL_Freight_UOM);
 PARAMETER(DB1.BOL_Freight_Unit_Amt);
 PARAMETER(DB1.BOL_Freight_Amt);
 PARAMETER(DB1.BOL_Freight_Allocation);
 PARAMETER(DB1.BOL_Head_Received);
 PARAMETER(DB1.BOL_Live_Wgt_Received);
 PARAMETER(DB1.BOL_Trucker_Payment_Sts);
 PARAMETER(DB1.BOL_Trucker_Check_Number);
 PARAMETER(DB1.BOL_Trucker_Check_Date);
 PARAMETER(DB1.BOL_AP_Voucher);
 PARAMETER(DB1.BOL_Trailer);
 PARAMETER(DB1.BOL_Freight_Exp_Paid_By);
 PARAMETER(DB1.BOL_Scheduled_Kill_Shift);
 PARAMETER(DB1.BOL_Truck_Scale_Weigh_Sts);
 PARAMETER(DB1.BOL_Shipped_Head);
 PARAMETER(DB1.Reported_to_USDA);
 PARAMETER(DB1.BOL_MPR_Prior_Day_Prch);
 PARAMETER(DB1.BOL_Violated_Auth_Tme_Sts);
 PARAMETER(DB1.BOL_Status_5);
 PARAMETER(DB1.BOL_Status_6);
 PARAMETER(DB1.BOL_Status_7);
 PARAMETER(DB1.BOL_HPS_Movement_Number);
 PARAMETER(DB1.BOL_Head_LFT);
 PARAMETER(DB1.BOL_Head_EUT_KOA);
 PARAMETER(DB1.BOL_Auth_Gate_Entry_Time);
 PARAMETER(DB1.BOL_Head_Received_Market);
 PARAMETER(DB1.BOL_Unused_Wgt_1);
 PARAMETER(DB1.BOL_Unused_Wgt_2);
 PARAMETER(DB1.BOL_Unused_Wgt_3);
 PARAMETER(DB1.BOL_Unused_Wgt_4);
 PARAMETER(DB1.BOL_Unused_Wgt_5);
 PARAMETER(DB1.BOL_Auth_Gate_Entry_Date);
 PARAMETER(DB1.BOL_Unused_Date_2);
 PARAMETER(DB1.BOL_Unused_Date_3);
 PARAMETER(DB1.BOL_Unused_Date_4);
 PARAMETER(DB1.BOL_Unused_Date_5);
 PARAMETER(DB1.TRK_Trucker_Code);
 PARAMETER(DB1.PD_Producer_Code);
 PARAMETER(DB1.PL_Location_Code);
 PARAMETER(DB1.RS_User_Changed);
 PARAMETER(DB1.RS_Date_Changed);
 PARAMETER(DB1.RS_Time_Changed);
 PARAMETER(DB1.RS_Record_Status);
 PARAMETER(DB1.RS_Job);
 PARAMETER(DB1.RS_Program);
 PARAMETER(DB1.RS_User_Added);
 PARAMETER(DB1.RS_Date_Added);
 PARAMETER(DB1.RS_Time_Added);
 EXECUTE FUNCTION(Dlt Buy Order Detail  DL) TYPE(DLTOBJ) FILE(PKAXCPP)           AB1100532;
 PARAMETER(DB1.BOH_Company_Number);
 PARAMETER(DB1.BOH_Buy_Order_Number);
 PARAMETER(DB1.BOL_Load_Number);
}


