// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for POHBE1R
// ?Date: 14.08.2025 Time: 03:37:15
// ?------------------------------------------------------------------------------------------------

//?USER: Validate detail screen fields

CASE;

// IF DTL.*CMD key is *Prompt
IF DTL.*CMD_key = '04';

CASE;

// IF PGM.*Cursor field <IS> DTL.Packaging Item Code
IF PGM.*Cursor_field = DTL.Packaging_Item_Code;

// Call program Sel Packaging Item    SR.
CALL PROGRAM(Sel Packaging Item    SR) ('POFRSRR');
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Packaging_Item_Code);

ENDIF;

ENDIF;

//?USER: Change DBF record

EXECUTE FUNCTION(Chg Packaging Dly Usg CH) TYPE(CHGOBJ) FILE(POA0CPP)           AC1606908;
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Packaging_Item_Code);
PARAMETER(DTL.Production_Date);
PARAMETER(DTL.Shift_Number);
PARAMETER(DTL.PDU_Quantity_Used);
PARAMETER(DTL.PDU_Cost);
PARAMETER(DTL.PDU_Quantity_Received);
PARAMETER(DTL.PDU_Ending_Inventory);
PARAMETER(DTL.Record_Status);
PARAMETER(DTL.Create_Date);
PARAMETER(DTL.Create_Time);
PARAMETER(DTL.Create_User);
PARAMETER(DTL.Create_Program);
PARAMETER(DTL.Change_Date);
PARAMETER(DTL.Change_Time);
PARAMETER(DTL.Change_User);
PARAMETER(DTL.Change_Program);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Chg Date/Time      IF) TYPE(EXCINTFUN)                     AC1523476;
 PARAMETER(DB1.Change_Date);
 PARAMETER(DB1.Change_Time);
 PARAMETER(DB1.Change_User);
 PARAMETER(DB1.Change_Program);
 {
  //?Execute internal function

  // PAR.Change Date = JOB.*Job date
  PAR.Change_Date = JOB.*Job_date;

  // PAR.Change Time = JOB.*Job time
  PAR.Change_Time = JOB.*Job_time;

  // PAR.Change User = JOB.*USER
  PAR.Change_User = JOB.*USER;

  // PAR.Change Program = JOB.*PROGRAM
  PAR.Change_Program = JOB.*PROGRAM;

 }

}


