// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PPODXFR
// ?Date: 14.08.2025 Time: 03:41:22
// ?------------------------------------------------------------------------------------------------

//?Execute user function

EXECUTE FUNCTION(CLC Claim Total        RT) TYPE(RTVOBJ) FILE(PDMOCPP)          AC1534785;
PARAMETER(PAR.Claim_Number);
PARAMETER(PAR.Claim_Amount);
{
 //?USER: Initialize routine

 // PAR.Claim Amount = CON.*ZERO
 PAR.Claim_Amount = *ZERO;

 //?USER: Process Data record

 // PAR.Claim Amount = PAR.Claim Amount + DB1.Claim Item Amount
 PAR.Claim_Amount = PAR.Claim_Amount + DB1.Claim_Item_Amount;

}


EXECUTE FUNCTION(CLC Claim Resale Total RT) TYPE(RTVOBJ) FILE(PDMPCPP)          AC1569584;
PARAMETER(PAR.Claim_Number);
PARAMETER(PAR.Resale_Item_Amount);
{
 //?USER: Initialize routine

 // PAR.Resale Item Amount = CON.*ZERO
 PAR.Resale_Item_Amount = *ZERO;

 //?USER: Process Data record

 // PAR.Resale Item Amount = PAR.Resale Item Amount + DB1.Resale Item Amount
 PAR.Resale_Item_Amount = PAR.Resale_Item_Amount + DB1.Resale_Item_Amount;

}


// PAR.Claim Net Loss = PAR.Claim Amount + PAR.Resale Item Amount
PAR.Claim_Net_Loss = PAR.Claim_Amount + PAR.Resale_Item_Amount;

EXECUTE FUNCTION(CHG Claim Total        CH) TYPE(CHGOBJ) FILE(PDMKCPP)          AC1534762;
PARAMETER(PAR.Claim_Number);
PARAMETER(PAR.Claim_Type);
PARAMETER(PAR.Claim_Amount);
PARAMETER(PAR.Claim_Net_Loss);
{
 //?USER: Processing before Data update

 CASE;

 // IF PAR.Claim Amount is less than zero
 IF PAR.Claim_Amount < *ZERO;

 // DB1.Claim Type = CND.Credit Memo
 DB1.Claim_Type = 'CM';

 // IF *OTHERWISE
 IF *OTHERWISE;

 // DB1.Claim Type = CND.Debit Memo
 DB1.Claim_Type = 'DM';

 ENDIF;

 // PAR.Claim Type = DB1.Claim Type
 PAR.Claim_Type = DB1.Claim_Type;

 EXECUTE FUNCTION(Set Chg Date/Time      IF) TYPE(EXCINTFUN)                     AC1523476;
 PARAMETER(DB1.Change_Date);
 PARAMETER(DB1.Change_Time);
 PARAMETER(DB1.Change_User);
 PARAMETER(DB1.Change_Program);
 {
  //?Execute internal function

  // PAR.Change Date = JOB.*Job date
  PAR.Change_Date = JOB.*Job_date;

  // PAR.Change Time = JOB.*Job time
  PAR.Change_Time = JOB.*Job_time;

  // PAR.Change User = JOB.*USER
  PAR.Change_User = JOB.*USER;

  // PAR.Change Program = JOB.*PROGRAM
  PAR.Change_Program = JOB.*PROGRAM;

 }

}


