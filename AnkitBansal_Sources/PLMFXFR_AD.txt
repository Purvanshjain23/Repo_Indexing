// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLMFXFR
// ?Date: 14.08.2025 Time: 02:54:41
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications
//?11/05/2020 ISE H16853 - Recompiled due to change in Buy Order Number
EXECUTE FUNCTION(Chk Crcs Mrt/Prd Sc    Rt) TYPE(RTVOBJ) FILE(PKAQCPP)          AB1124595;
PARAMETER(PAR.CMP_Program_Code);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 //?USER: Process Data record

 // PGM.*Return code = CND.Record Found
 PGM.*Return_code = 999;

 // Send error message - 'A Producer Sub-Contract is using record.  Delete is invalid.'
 ERROR(PRK0264);

 QUIT;

}


CASE;

// IF PGM.*Return code is *Normal
IF PGM.*Return_code = *BLANK;

EXECUTE FUNCTION(Chk CMP in BOH        RT) TYPE(RTVOBJ) FILE(PKAWCPP)           AB1161705;
PARAMETER(PAR.CMP_Program_Code);
{
 //?USER: Processing if Data record not found

 // PGM.*Return code = CND.*Normal
 PGM.*Return_code = *BLANK;

 //?USER: Process Data record

 // PGM.*Return code = CND.Record Found
 PGM.*Return_code = 999;

 // Send error message - 'A Buy Order is using this record.  Delete is not allowed.'
 ERROR(PRK0263);

 QUIT;

}


ENDIF;

CASE;

// IF PGM.*Return code is *Normal
IF PGM.*Return_code = *BLANK;

EXECUTE FUNCTION(DLT Carc Mrt Pgm Com  RT) TYPE(RTVOBJ) FILE(PKB0REP)           AB1117655;
PARAMETER(PAR.CMP_Program_Code);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(DLT Carc Mrt Prg Com  DO) TYPE(DLTOBJ) FILE(PKB0REP)           AB1103760;
 PARAMETER(DB1.CMP_Program_Code);
 PARAMETER(DB1.CMPC_Comment_Line);
}


EXECUTE FUNCTION(DLT CMM COL DelCMP    RT) TYPE(RTVOBJ) FILE(PKBZREP)           AB1287927;
PARAMETER(PAR.CMP_Program_Code);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Dlt CMM COl           DO) TYPE(DLTOBJ) FILE(PKBZREP)           AB1103406;
 PARAMETER(DB1.CMP_Program_Code);
 PARAMETER(DB1.CMMR_Row_Number);
 PARAMETER(DB1.CMMC_Column_Number);
}


EXECUTE FUNCTION(Dlt CMM Row DelCMP    RT) TYPE(RTVOBJ) FILE(PKBYREP)           AB1287928;
PARAMETER(PAR.CMP_Program_Code);
{
 //?USER: Process Data record

 EXECUTE FUNCTION(Dlt Carc Mrt Matr ROW DO) TYPE(DLTOBJ) FILE(PKBYREP)           AB1103387;
 PARAMETER(DB1.CMP_Program_Code);
 PARAMETER(DB1.CMMR_Row_Number);
 {
  //?USER: Processing before Data update

  // *MO.VE             1183529*Bu = ilt. in functions
  PGM.*Return_code = *BLANK;

  EXECUTE FUNCTION(Chk Col               RT) TYPE(RTVOBJ) FILE(PKBZREP)           AB1118393;
  PARAMETER(PAR.CMP_Program_Code);
  PARAMETER(PAR.CMMR_Row_Number);
  {
   //?USER: Processing if Data record not found

   // *MO.VE             1183529*Bu = ilt. in functions
   PGM.*Return_code = *BLANK;

   QUIT;

   //?USER: Process Data record

   // *MO.VE             1183529*Bu = ilt. in functions
   PGM.*Return_code = 999;

   QUIT;

  }

  CASE;

  // IF PGM.*Return code is Record Found
  IF PGM.*Return_code = '999';

  // Send error message - 'Delete other files first'
  ERROR(PRK0226);

  QUIT;

  ENDIF;

 }

}


EXECUTE FUNCTION(Dlt Carc Merit Pgm    DO) TYPE(DLTOBJ) FILE(PKARREP)           AB1101851;
PARAMETER(PAR.CMP_Program_Code);

// PAR.*Return code = CND.*Normal
PAR.*Return_code = *BLANK;

// IF *OTHERWISE
IF *OTHERWISE;

// PAR.*Return code = PGM.*Return code
PAR.*Return_code = PGM.*Return_code;

ENDIF;

