// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PDI4PVR
// ?Date: 14.08.2025 Time: 03:28:29
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

// WRK.Event Called From = CND.Price Only
WRK.Event_Called_From = 99;

//?USER: Load screen

// DTL.Accounting Company Number = CON.310
DTL.Company_Number = 310;

// DTL.Commodity Market Code = CON.USD
DTL.Commodity_Market_Code = 'USD';

// DTL.Order Number = CON.9999999
DTL.Order_Number = 9999999;

// DTL.Order Sequence Number = CON.001
DTL.Order_Sequence_Number = 001;

// DTL.Order Secondary Line Seq = CON.001
DTL.Order_Secondary_Line_Seq = 001;

// DTL.Event Called From = WRK.Event Called From
DTL.Event_Called_From = WRK.Event_Called_From;

//?USER: Validate relations

// DTL.Unit Price = CON.*ZERO
DTL.Unit_Price = *ZERO;

// DTL.Unit Price Ordered U/M = CON.*ZERO
DTL.Unit_Price_Ordered_U_M = *ZERO;

// DTL.Pricing Date Used = CON.*ZERO
DTL.Pricing_Date_Used = *ZERO;

// Call program CLC Price Item         XF.
CALL PROGRAM(CLC Price Item         XF) ('PDG9XFR');
PARAMETER(DTL.Company_Number);
PARAMETER(DTL.Price_Method_Code);
PARAMETER(DTL.AR_Customer_Number);
PARAMETER(DTL.Requested_Ship_Date);
PARAMETER(DTL.Event_Called_From);
PARAMETER(*MISSING);
PARAMETER(*MISSING);
PARAMETER(*MISSING);
PARAMETER(DTL.Order_Number);
PARAMETER(*MISSING);
PARAMETER(DTL.Order_Sequence_Number);
PARAMETER(DTL.Order_Secondary_Line_Seq);
PARAMETER(WRK.Error_Return);
PARAMETER('S');

// PGM.*Defer confirm = CND.Defer confirm
PGM.*Defer_confirm = 'Y';

// WRK.Event Called From = DTL.Event Called From
WRK.Event_Called_From = DTL.Event_Called_From;

