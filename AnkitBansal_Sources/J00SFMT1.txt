/*                                                                   */
/*  Program  . . . . .   J00SFMT1                                    */
/*                                                                   */
/*  Description  . . .   Retrieve System Values - Date Separator,    */
/*                       Decimal Format                              */
/*                                                                   */
/*  Program Revision Log                                             */
/*  --------------------                                             */
/*                                                                   */
/*       Date        Programmer        Description                   */
/*     --------      ----------     -------------------------------- */
/*     12/11/92      KREUTZ         SAR # 491065                     */
/*     02/03/95      KREUTZ         SAR # 867923                     */
/*                                                                   */
/*********************************************************************/
J00SFMT1:    PGM        (&SYSDS   &SYSDF)
/*                                                                   */
/* --------- Define program file(s) and variable(s). --------------- */
/*                                                                   */
             DCL        VAR(&SYSDS      ) TYPE(*CHAR) LEN(   1)
             DCL        VAR(&SYSDF      ) TYPE(*CHAR) LEN(   1)
             DCL        VAR(&LANGMSGF)    TYPE(*CHAR)  LEN(10)
/*                                                                   */
/* --------- Global CPF error intercept ---------------------------- */
/*                                                                   */
             MONMSG     MSGID(CPF0000 CPC0000 CPD0000) EXEC(GOTO +
                          CMDLBL(ABEND))
/*                                                                   */
/* --------- Retrieve values --------------------------------------- */
/*                                                                   */
             RTVDTAARA  DTAARA(QTEMP/X0028 (4 1)) RTNVAR(&SYSDS)
             MONMSG     MSGID(CPF0000 CPC0000 CPD0000) EXEC(         +
                 RTVSYSVAL  SYSVAL(QDATSEP) RTNVAR(&SYSDS))

             RTVDTAARA  DTAARA(QTEMP/X0028 (12 1)) RTNVAR(&SYSDF)
             MONMSG     MSGID(CPF0000 CPC0000 CPD0000) EXEC(         +
                 RTVSYSVAL  SYSVAL(QDECFMT) RTNVAR(&SYSDF))
/*                                                                   */
/* --------- Branch to normal EOJ ---------------------------------- */
/*                                                                   */
GOTO  EOJ
/*                                                                   */
/* --------- Abnormal end of job processing ------------------------ */
/*                                                                   */
ABEND:
/*                                                                   */
/* --------- Override JDE Message File for Language Preference ----- */
/*                                                                   */
             CALL PGM(J98850) PARM(&LANGMSGF)
                  MONMSG MSGID(CPF0000 CPD0000 CPC0000)
             OVRMSGF MSGF(QJDEMSG)  TOMSGF(&LANGMSGF)
                  MONMSG MSGID(CPF0000 CPD0000 CPC0000)

SNDPGMMSG MSGID(JDE9999) MSGF(QJDEMSG) MSGDTA('J00SFMT1  ') +
             TOPGMQ(*EXT)
             MONMSG     MSGID(CPF0000 CPC0000 CPD0000)
             CHGJOB     LOG(4 00 *SECLVL) SWS(1XXXXXXX)
             MONMSG     MSGID(CPF0000 CPC0000 CPD0000)
/*                                                                   */
/* --------- End of Job -------------------------------------------- */
/*                                                                   */
EOJ:
             ENDPGM
