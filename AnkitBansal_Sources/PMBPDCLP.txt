/***************************************************************** */
/*                                                                 */
/*  PROGRAM NUMBER:  PMBPDCLP                                      */
/*                                                                 */
/*  PROGRAM NAME:    Display Load Schdlng Position by User         */
/*                   Using Load Schdlng Poistion in Qtemp          */
/*                                                                 */
/*  PROGRAMMER:      Susan L. Mason                                */
/*  CREATE DATE:     01/10/09                                      */
/*                                                                 */
/*******************************************************************/
/*  Modification History                                           */
/*                                                                 */
/*******************************************************************/
             PGM
/*******************************************************************/
/*                                                                 */
/* Create Duplicate verion of file to QTEMP.                       */
/*                                                                 */
/*  Pull the data from the physical only.                          */
/*                                                                 */
/*******************************************************************/

             DCL        VAR(&DATA) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DATAH) TYPE(*CHAR) LEN(10)
             DCL        VAR(&DATAS) TYPE(*CHAR) LEN(10)
             DCL        VAR(&REPROCS) TYPE(*CHAR) LEN(1) VALUE(' ')
             DCL        VAR(&USER) TYPE(*CHAR) LEN(10)

/*           GET THE DATA LIBRARY                                  */
             CALL       PGM(CAQXXFR) PARM(' ' &DATA &DATAH)
/*           GET THE USER WORK LIBRARY                             */
             CALL       PGM(PMD9XFR) PARM(' ' &DATAS)

             RTVJOBA    USER(&USER)

             DLTF       FILE(QTEMP/PDMHCP*)
             MONMSG     MSGID(CPF0000) EXEC(DO)
             GOTO       CMDLBL(START)
             ENDDO

START:
REPEAT:
             CHGVAR     VAR(&REPROCS) VALUE(' ')

             CRTDUPOBJ OBJ(PDMHCPP) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*YES)

             CRTDUPOBJ OBJ(PDMHCPL0) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ OBJ(PDMHCPL1) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ OBJ(PDMHCPL2) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPL3) FROMLIB(&DATA) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPL4) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPL5) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPL6) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPL7) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPL8) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPL9) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPLA) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPLB) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPLC) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
             CRTDUPOBJ  OBJ(PDMHCPLD) FROMLIB(&DATAS) OBJTYPE(*FILE) +
                          TOLIB(QTEMP) DATA(*NO)
/*                                                                 */

             CALL       PGM(PMBPDFR) PARM(' ' &REPROCS)

DLQTEMP:
             DLTF       FILE(QTEMP/PDMHCP*)

             IF         COND(&REPROCS *EQ 'Y') THEN(GOTO REPEAT)

 ENDJOB:     ENDPGM
