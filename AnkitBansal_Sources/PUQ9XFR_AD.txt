// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PUQ9XFR
// ?Date: 14.08.2025 Time: 03:51:09
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?**************************************************************************
//?** PR1 Parms Represent Old Record Fields (Will be blank for Insert).
//?** PR2 Parms Represent New Record Fields (Will be blank for Delete).
//?**************************************************************************
//?Trigger Processing for Insert Event.
CASE;

// IF PR3.TRG Database Event is Insert
IF PR3.TRG_Database_Event = '1';

EXECUTE FUNCTION(Crt Load Header TRG   CR) TYPE(CRTOBJ) FILE(PUB2CPP)           AC2185049;
PARAMETER(PR2.Load_ID);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.LHT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

//?Trigger Processing for Update Event.
CASE;

// IF PR3.TRG Database Event is Update
IF PR3.TRG_Database_Event = '3';

// LCL.Update Record USR = CND.No
LCL.Update_Record_USR = 'N';

//?Update If Any Non-Key Fields Have Changed.
CASE;

// IF PR1.Company Number NE PR2.Company Number
IF PR1.Company_Number <> PR2.Company_Number;

// OR PR1.Scheduled Ship Date NE PR2.Scheduled Ship Date
OR PR1.Scheduled_Ship_Date <> PR2.Scheduled_Ship_Date;

// OR PR1.LTL Flag NE PR2.LTL Flag
OR PR1.LTL_Flag <> PR2.LTL_Flag;

// OR PR1.Load Status NE PR2.Load Status
OR PR1.Load_Status <> PR2.Load_Status;

// OR PR1.Reefer Temperature NE PR2.Reefer Temperature
OR PR1.Reefer_Temperature <> PR2.Reefer_Temperature;

// OR PR1.Seal 1 NE PR2.Seal 1
OR PR1.Seal_1 <> PR2.Seal_1;

// OR PR1.Seal 2 NE PR2.Seal 2
OR PR1.Seal_2 <> PR2.Seal_2;

// OR PR1.Seal 3 NE PR2.Seal 3
OR PR1.Seal_3 <> PR2.Seal_3;

// OR PR1.Seal 4 NE PR2.Seal 4
OR PR1.Seal_4 <> PR2.Seal_4;

// OR PR1.Seal 2 Unused NE PR2.Seal 2 Unused
OR PR1.Seal_2_Unused <> PR2.Seal_2_Unused;

// OR PR1.Total Load Order Weight NE PR2.Total Load Order Weight
OR PR1.Total_Load_Order_Weight <> PR2.Total_Load_Order_Weight;

// OR PR1.Flat Amount NE PR2.Flat Amount
OR PR1.Flat_Amount <> PR2.Flat_Amount;

// OR PR1.Allocate Pounds/Miles NE PR2.Allocate Pounds/Miles
OR PR1.Allocate_Pounds_Miles <> PR2.Allocate_Pounds_Miles;

// OR PR1.Total Stops NE PR2.Total Stops
OR PR1.Total_Stops <> PR2.Total_Stops;

// OR PR1.Trailer Id NE PR2.Trailer Id
OR PR1.Trailer_Id <> PR2.Trailer_Id;

// OR PR1.Transloader Carrier Code NE PR2.Transloader Carrier Code
OR PR1.Transloader_Carrier_Code <> PR2.Transloader_Carrier_Code;

// OR PR1.BOL Time NE PR2.BOL Time
OR PR1.BOL_Time <> PR2.BOL_Time;

// OR PR1.Carrier Code NE PR2.Carrier Code
OR PR1.Carrier_Code <> PR2.Carrier_Code;

// OR PR1.Truck Size NE PR2.Truck Size
OR PR1.Truck_Size <> PR2.Truck_Size;

// OR PR1.Ld Hdr/Ld Dtl Unused NE PR2.Ld Hdr/Ld Dtl Unused
OR PR1.Ld_Hdr_Ld_Dtl_Unused <> PR2.Ld_Hdr_Ld_Dtl_Unused;

// OR PR1.Rated Freight NE PR2.Rated Freight
OR PR1.Rated_Freight <> PR2.Rated_Freight;

// OR PR1.Ship Status NE PR2.Ship Status
OR PR1.Ship_Status <> PR2.Ship_Status;

// OR PR1.Load Type NE PR2.Load Type
OR PR1.Load_Type <> PR2.Load_Type;

// OR PR1.Number Pallets Received NE PR2.Number Pallets Received
OR PR1.Number_Pallets_Received <> PR2.Number_Pallets_Received;

// OR PR1.Number Pallets Loaded NE PR2.Number Pallets Loaded
OR PR1.Number_Pallets_Loaded <> PR2.Number_Pallets_Loaded;

// OR PR1.Load Carrier Pay Amt NE PR2.Load Carrier Pay Amt
OR PR1.Load_Carrier_Pay_Amt <> PR2.Load_Carrier_Pay_Amt;

// OR PR1.Estimated Arrival Time NE PR2.Estimated Arrival Time
OR PR1.Estimated_Arrival_Time <> PR2.Estimated_Arrival_Time;

// OR PR1.Actual Arrival Date NE PR2.Actual Arrival Date
OR PR1.Actual_Arrival_Date <> PR2.Actual_Arrival_Date;

// OR PR1.Actual Arrival Time NE PR2.Actual Arrival Time
OR PR1.Actual_Arrival_Time <> PR2.Actual_Arrival_Time;

// OR PR1.Trailer IN Weight NE PR2.Trailer IN Weight
OR PR1.Trailer_IN_Weight <> PR2.Trailer_IN_Weight;

// OR PR1.Trailer OUT Weight NE PR2.Trailer OUT Weight
OR PR1.Trailer_OUT_Weight <> PR2.Trailer_OUT_Weight;

// OR PR1.Actual Departure Date NE PR2.Actual Departure Date
OR PR1.Actual_Departure_Date <> PR2.Actual_Departure_Date;

// OR PR1.Departure Time NE PR2.Departure Time
OR PR1.Departure_Time <> PR2.Departure_Time;

// OR PR1.Schedule Sequence Number NE PR2.Schedule Sequence Number
OR PR1.Schedule_Sequence_Number <> PR2.Schedule_Sequence_Number;

// OR PR1.Product Temperature NE PR2.Product Temperature
OR PR1.Product_Temperature <> PR2.Product_Temperature;

// OR PR1.Number Spacers Loaded NE PR2.Number Spacers Loaded
OR PR1.Number_Spacers_Loaded <> PR2.Number_Spacers_Loaded;

// OR PR1.Car/Veh. Initials NE PR2.Car/Veh. Initials
OR PR1.Car_Veh_Initials <> PR2.Car_Veh_Initials;

// OR PR1.Total Load Miles NE PR2.Total Load Miles
OR PR1.Total_Load_Miles <> PR2.Total_Load_Miles;

// OR PR1.Recorder ID NE PR2.Recorder ID
OR PR1.Recorder_ID <> PR2.Recorder_ID;

// OR PR1.Shipping Method NE PR2.Shipping Method
OR PR1.Shipping_Method <> PR2.Shipping_Method;

// OR PR1.Ship From Warehouse NE PR2.Ship From Warehouse
OR PR1.Ship_From_Warehouse <> PR2.Ship_From_Warehouse;

// OR PR1.Ship To State Code NE PR2.Ship To State Code
OR PR1.Ship_To_State_Code <> PR2.Ship_To_State_Code;

// OR PR1.Gross Weight NE PR2.Gross Weight
OR PR1.Gross_Weight <> PR2.Gross_Weight;

// OR PR1.Carrier Broker NE PR2.Carrier Broker
OR PR1.Carrier_Broker <> PR2.Carrier_Broker;

// OR PR1.Export Status NE PR2.Export Status
OR PR1.Export_Status <> PR2.Export_Status;

// LCL.Update Record USR = CND.Yes
LCL.Update_Record_USR = 'Y';

ENDIF;

//?Update If Any Non-Key Fields Have Changed.
CASE;

// IF PR1.Actual Ship Date NE PR2.Actual Ship Date
IF PR1.Actual_Ship_Date <> PR2.Actual_Ship_Date;

// OR PR1.On Time - (Y/N) NE PR2.On Time - (Y/N)
OR PR1.On_Time_Y_N <> PR2.On_Time_Y_N;

// OR PR1.Truck Ready Date NE PR2.Truck Ready Date
OR PR1.Truck_Ready_Date <> PR2.Truck_Ready_Date;

// OR PR1.Truck Ready Time NE PR2.Truck Ready Time
OR PR1.Truck_Ready_Time <> PR2.Truck_Ready_Time;

// OR PR1.Spotted Date NE PR2.Spotted Date
OR PR1.Spotted_Date <> PR2.Spotted_Date;

// OR PR1.Spotted Time NE PR2.Spotted Time
OR PR1.Spotted_Time <> PR2.Spotted_Time;

// OR PR1.Load Finished Date NE PR2.Load Finished Date
OR PR1.Load_Finished_Date <> PR2.Load_Finished_Date;

// OR PR1.Load Finished Time NE PR2.Load Finished Time
OR PR1.Load_Finished_Time <> PR2.Load_Finished_Time;

// OR PR1.BOL Complete Date NE PR2.BOL Complete Date
OR PR1.BOL_Complete_Date <> PR2.BOL_Complete_Date;

// OR PR1.BOL Complete Time NE PR2.BOL Complete Time
OR PR1.BOL_Complete_Time <> PR2.BOL_Complete_Time;

// OR PR1.BOL Received Date NE PR2.BOL Received Date
OR PR1.BOL_Received_Date <> PR2.BOL_Received_Date;

// OR PR1.BOL Received Time NE PR2.BOL Received Time
OR PR1.BOL_Received_Time <> PR2.BOL_Received_Time;

// OR PR1.Truck Departure Date NE PR2.Truck Departure Date
OR PR1.Truck_Departure_Date <> PR2.Truck_Departure_Date;

// OR PR1.Truck Departure Time NE PR2.Truck Departure Time
OR PR1.Truck_Departure_Time <> PR2.Truck_Departure_Time;

// OR PR1.Adjusted Departure Date NE PR2.Adjusted Departure Date
OR PR1.Adjusted_Departure_Date <> PR2.Adjusted_Departure_Date;

// OR PR1.Adjusted Departure Time NE PR2.Adjusted Departure Time
OR PR1.Adjusted_Departure_Time <> PR2.Adjusted_Departure_Time;

// OR PR1.Shipping Line NE PR2.Shipping Line
OR PR1.Shipping_Line <> PR2.Shipping_Line;

// OR PR1.Port Delv Terminal NE PR2.Port Delv Terminal
OR PR1.Port_Delv_Terminal <> PR2.Port_Delv_Terminal;

// OR PR1.Vessel Name NE PR2.Vessel Name
OR PR1.Vessel_Name <> PR2.Vessel_Name;

// OR PR1.Voyage NE PR2.Voyage
OR PR1.Voyage <> PR2.Voyage;

// OR PR1.Sail Date NE PR2.Sail Date
OR PR1.Sail_Date <> PR2.Sail_Date;

// OR PR1.Booking Number NE PR2.Booking Number
OR PR1.Booking_Number <> PR2.Booking_Number;

// OR PR1.Discharge Port NE PR2.Discharge Port
OR PR1.Discharge_Port <> PR2.Discharge_Port;

// OR PR1.Arrival Date NE PR2.Arrival Date
OR PR1.Arrival_Date <> PR2.Arrival_Date;

// OR PR1.Container Number NE PR2.Container Number
OR PR1.Container_Number <> PR2.Container_Number;

// OR PR1.Date In NE PR2.Date In
OR PR1.Date_In <> PR2.Date_In;

// OR PR1.Time In NE PR2.Time In
OR PR1.Time_In <> PR2.Time_In;

// OR PR1.Date Out NE PR2.Date Out
OR PR1.Date_Out <> PR2.Date_Out;

// OR PR1.Time Out NE PR2.Time Out
OR PR1.Time_Out <> PR2.Time_Out;

// OR PR1.Load Total Freight NE PR2.Load Total Freight
OR PR1.Load_Total_Freight <> PR2.Load_Total_Freight;

// OR PR1.Scheduled Delivery Date NE PR2.Scheduled Delivery Date
OR PR1.Scheduled_Delivery_Date <> PR2.Scheduled_Delivery_Date;

// OR PR1.Scheduled Delivery Time NE PR2.Scheduled Delivery Time
OR PR1.Scheduled_Delivery_Time <> PR2.Scheduled_Delivery_Time;

// OR PR1.LH Unused Sts NE PR2.LH Unused Sts
OR PR1.LH_Unused_Sts <> PR2.LH_Unused_Sts;

// OR PR1.LH Carrier Payment Sts NE PR2.LH Carrier Payment Sts
OR PR1.LH_Carrier_Payment_Sts <> PR2.LH_Carrier_Payment_Sts;

// OR PR1.Bring Back Miles NE PR2.Bring Back Miles
OR PR1.Bring_Back_Miles <> PR2.Bring_Back_Miles;

// OR PR1.Requested Delivery Date NE PR2.Requested Delivery Date
OR PR1.Requested_Delivery_Date <> PR2.Requested_Delivery_Date;

// OR PR1.Load Acceptance Flag NE PR2.Load Acceptance Flag
OR PR1.Load_Acceptance_Flag <> PR2.Load_Acceptance_Flag;

// OR PR1.Warehouse Code NE PR2.Warehouse Code
OR PR1.Warehouse_Code <> PR2.Warehouse_Code;

// OR PR1.On Yard Date NE PR2.On Yard Date
OR PR1.On_Yard_Date <> PR2.On_Yard_Date;

// OR PR1.On Yard Time NE PR2.On Yard Time
OR PR1.On_Yard_Time <> PR2.On_Yard_Time;

// OR PR1.Deadline Departure Date NE PR2.Deadline Departure Date
OR PR1.Deadline_Departure_Date <> PR2.Deadline_Departure_Date;

// OR PR1.Deadline Departure Time NE PR2.Deadline Departure Time
OR PR1.Deadline_Departure_Time <> PR2.Deadline_Departure_Time;

// OR PR1.Load Held Over NE PR2.Load Held Over
OR PR1.Load_Held_Over <> PR2.Load_Held_Over;

// OR PR1.Load Held Over Reason NE PR2.Load Held Over Reason
OR PR1.Load_Held_Over_Reason <> PR2.Load_Held_Over_Reason;

// OR PR1.Load Held Over Rsn Cmt NE PR2.Load Held Over Rsn Cmt
OR PR1.Load_Held_Over_Rsn_Cmt <> PR2.Load_Held_Over_Rsn_Cmt;

// LCL.Update Record USR = CND.Yes
LCL.Update_Record_USR = 'Y';

ENDIF;

//?Update If Any Non-Key Fields Have Changed.
CASE;

// IF PR1.LH Unused Time 5 NE PR2.LH Unused Time 5
IF PR1.LH_Unused_Time_5 <> PR2.LH_Unused_Time_5;

// OR PR1.LH Unused Date 6 NE PR2.LH Unused Date 6
OR PR1.LH_Unused_Date_6 <> PR2.LH_Unused_Date_6;

// OR PR1.LH Unused Time 6 NE PR2.LH Unused Time 6
OR PR1.LH_Unused_Time_6 <> PR2.LH_Unused_Time_6;

// OR PR1.EDI Status 1 NE PR2.EDI Status 1
OR PR1.EDI_Status_1 <> PR2.EDI_Status_1;

// OR PR1.EDI Status 2 NE PR2.EDI Status 2
OR PR1.EDI_Status_2 <> PR2.EDI_Status_2;

// OR PR1.EDI Status 3 NE PR2.EDI Status 3
OR PR1.EDI_Status_3 <> PR2.EDI_Status_3;

// LCL.Update Record USR = CND.Yes
LCL.Update_Record_USR = 'Y';

ENDIF;

//?Update Record?
CASE;

// IF LCL.Update Record USR is Yes
IF LCL.Update_Record_USR = 'Y';

EXECUTE FUNCTION(Crt Load Header TRG   CR) TYPE(CRTOBJ) FILE(PUB2CPP)           AC2185049;
PARAMETER(PR2.Load_ID);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.LHT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

ENDIF;

//?Trigger Processing for Delete Event.
CASE;

// IF PR3.TRG Database Event is Delete
IF PR3.TRG_Database_Event = '2';

EXECUTE FUNCTION(Crt Load Header TRG   CR) TYPE(CRTOBJ) FILE(PUB2CPP)           AC2185049;
PARAMETER(PR1.Load_ID);
PARAMETER(PR3.TRG_Database_Event);
PARAMETER(0);
PARAMETER(*ZERO);
{
 //?USER: Processing before Data update

 EXECUTE FUNCTION(Set Timestamp TS#     IF) TYPE(EXCINTFUN)                      AC2131367;
 PARAMETER(DB1.LHT_Timestamp);
 {
  //?Execute internal function

  // PAR.@Timestamp TS# = JOB.*System timestamp
  PAR.@Timestamp_TS# = JOB.*System_timestamp;

 }

}


ENDIF;

