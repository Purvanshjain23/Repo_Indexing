      *****************  RPG PROGRAM HEADING  ************************
      * SYSTEM:      EBI
      * PROGRAM:     ETMIN
      * TITLE:       Call CL to Process Incoming Text Messages 864
      * PROGRAMMER:  Sharon Zurn
      * CREATED:     02/17/15
      ****************************************************************
      * Modified by:                      /  /
      ****************************************************************
     Dpgmtocall        c                   const('PRKPLIB/ETMINCL')
     D nbr_1_ch        S              1
     D nbr_2_ch        S              2
     D nbr_3_ch        S              3
     D nbr_4_ch        S              4
     D nbr_5_ch        S              5
     D nbr_6_ch        S              6
     D nbr_7_ch        S              7
     D nbr_8_ch        S              8A
     D nbr_9_ch        S              9A
     D length          S              2  0
      *
      *  Right justify setnbr so that it will convert from alpha to
      *  numeric correctly in the print program.
      *
     C                   EVAL      length = %CHECKR(' ':setnbr)
     C                   EVAL      nbr_9_ch = *BLANKS
    ‚C                   SELECT
    ‚C                   WHEN      length = 0 or length = 9
     C                   EVAL      nbr_9_ch = setnbr
    ‚C                   WHEN      length = 1
     C                   EVAL      nbr_1_ch = %SUBST(setnbr:1:1)
     C                   MOVE      nbr_1_ch      nbr_9_ch
    ‚C                   WHEN      length = 2
     C                   EVAL      nbr_2_ch = %SUBST(setnbr:1:2)
     C                   MOVE      nbr_2_ch      nbr_9_ch
    ‚C                   WHEN      length = 3
     C                   EVAL      nbr_3_ch = %SUBST(setnbr:1:3)
     C                   MOVE      nbr_3_ch      nbr_9_ch
    ‚C                   WHEN      length = 4
     C                   EVAL      nbr_4_ch = %SUBST(setnbr:1:4)
     C                   MOVE      nbr_4_ch      nbr_9_ch
    ‚C                   WHEN      length = 5
     C                   EVAL      nbr_5_ch = %SUBST(setnbr:1:5)
     C                   MOVE      nbr_5_ch      nbr_9_ch
    ‚C                   WHEN      length = 6
     C                   EVAL      nbr_6_ch = %SUBST(setnbr:1:6)
     C                   MOVE      nbr_6_ch      nbr_9_ch
    ‚C                   WHEN      length = 7
     C                   EVAL      nbr_7_ch = %SUBST(setnbr:1:7)
     C                   MOVE      nbr_7_ch      nbr_9_ch
    ‚C                   WHEN      length = 8
     C                   EVAL      nbr_8_ch = %SUBST(setnbr:1:8)
     C                   MOVE      nbr_8_ch      nbr_9_ch
    ‚C                   ENDSL
     C                   MOVE      nbr_9_ch      setnbr
      *
     C                   call      pgmtocall
     C                   parm                    funcst
     C                   parm                    procst
     C                   parm                    trdprt
     C                   parm                    setnbr
     C                   parm                    div
     C                   parm                    env
      *
     C                   seton                                        lr
      /EJECT
      *---------------------------------------------------------------
      * Initializtion Subroutine
      *---------------------------------------------------------------
      *
     C     *inzsr        begsr
      *
      * Note: The first 2 parms below will always be blank. There was no
      *       EBI equivalent to these EEI parms. But, our Synon programs
      *       had these as parms...so, we included them.
      *
     C     *entry        plist
     C                   parm                    funcst            1            Function status
     C                   parm                    procst            1            Process status
     C                   parm                    trdprt            6            Trade partner
     C                   parm                    setnbr            9            Set number
     C                   parm                    div               1            Division
     C                   parm                    env               1            Environment
      *
     C                   endsr
