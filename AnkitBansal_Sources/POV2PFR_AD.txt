// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for POV2PFR
// ?Date: 14.08.2025 Time: 12:06:25
// ?------------------------------------------------------------------------------------------------

//?USER: Print required level headings

// SUPPRESSED PRINT Company Number header format

// SUPPRESSED PRINT Department Code header format

// SUPPRESSED PRINT Production Line Code header format

// SUPPRESSED PRINT Production Date header format

CASE;

IF NEW Production_Shift;
EXECUTE FUNCTION(Company Name DRV) TYPE(DRVFLD)                                 AC1532476;
PARAMETER(CUR.Company_Name_DRV);
PARAMETER(CUR.Company_Number);
{
 //?Calculate derived field

 EXECUTE FUNCTION(RTV Company Name       RT) TYPE(RTVOBJ) FILE(CAABREP)          AC1255767;
 PARAMETER(PAR.Company_Number);
 PARAMETER(PAR.Company_Name_DRV);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


EXECUTE FUNCTION(Rtv Production Line   RT) TYPE(RTVOBJ) FILE(POCMREP)           AC1665277;
PARAMETER(PAR.Company_Number);
PARAMETER(PAR.Department_Code);
PARAMETER(PAR.Production_Line_Code);
PARAMETER(CUR.Production_Line_Desc);
PARAMETER(LCL.Production_Standard_Yld);
PARAMETER(CUR.Line_Supervisor);
PARAMETER(LCL.Record_Found_USR);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 // PAR.Record Found USR = CND.Record Not Found
 PAR.Record_Found_USR = 'N';

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

 // PAR.Record Found USR = CND.Record Found
 PAR.Record_Found_USR = 'Y';

}


// Print Production Shift header format
PRINT Production Shift header format;

ENDIF;

//?USER: On print of detail format

EXECUTE FUNCTION(Item Desc DRV) TYPE(DRVFLD)                                    AC1505592;
PARAMETER(CUR.Item_Desc_DRV);
PARAMETER(CUR.Item_Code);
{
 //?Calculate derived field

 EXECUTE FUNCTION(Rtv Item Descriptions  RT) TYPE(RTVOBJ) FILE(OMBYREP)          AC1341279;
 PARAMETER(PAR.Item_Code);
 PARAMETER(PAR.Item_Desc_DRV);
 PARAMETER(WRK.Description_Line_Two);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


//?USER: Print required level totals

CASE;

IF NEW Production_Shift;
// Print Production Shift totals format
PRINT Production Shift totals format;

ENDIF;

// SUPPRESSED PRINT Production Date totals format

// SUPPRESSED PRINT Production Line Code totals format

// SUPPRESSED PRINT Department Code totals format

// SUPPRESSED PRINT Company Number totals format

