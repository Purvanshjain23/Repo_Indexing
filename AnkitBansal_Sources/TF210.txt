      *****************  RPG PROGRAM HEADING  ************************
      *
      * SYSTEM:      Triumph Foolds
      * PROGRAM:     TF210 - Weekly Revenue Close: Delete Current Records
      * PROGRAMMER:  LeAnne Fedor
      * CREATED:     09/16/04
      *
      * Function:    When the Weekly Close function is run, we call this program
      *              first to delete any records that may already exist for the
      *              'current' week in the files.
      *
      ****************************************************************
      * MODIFICATIONS:
      ****************************************************************
      * DATE      PROGRAMMER
      *
      * 03/13/06  LeAnne Fedor
      *           Recompile only. "Floor" produced pounds and amount were added
      *           to file TFP010.
      *
      * 08/29/06  LeAnne Ramsey
      *           Recompile only. New fields were added to TFP022-Claim Adjustments.
      *
      * 11/06/06  LeAnne Ramsey
      *           Recompile only. New fields were added to TFP011-Cash Distribution Balance.
      *
      * 02/14/07  LeAnne Ramsey
      *           Recompile only. New field "STD Other Cost/LB" was added to
      *           Weekly Product Revenue Detail file.
      *
      * 04/16/07  LeAnne Ramsey
      *           Recompile only. Fields were added/changed in the Weekly
      *           Product Revenue file.
      *           Added:   Byproduct Mix Flag
      *                    Meat Cost Group Code
      *           Changed: Exclude from Mix Flag     to  Mix Flag
      *                    Exclude from Volume Flag  to  Volume Flag
      *                    Capability Flag           to  Inventory Flag
      *
      * 05/14/07  LeAnne Ramsey
      *           Recompile only. "Co-owner" fields were added to files:
      *              1) Weekly Product Revenue Detail
      *              2) Claim Adjustments
      *
      * 08/13/07  LeAnne Ramsey
      *           Recompile only. New field "Item Type Code" was added to
      *           Weekly Product Revenue Detail file.
      *
      * 01/22/08  LeAnne Ramsey
      *           Added logic for new AR Adjustment file.
      *
      * 09/11/08  LeAnne Ramsey
      *           Recompile only. New field "Export/Domestic Flag" was added to
      *           Weekly Product Revenue Detail file.
      *
      * 09/09/09  LeAnne Ramsey
      *           Recompile only. New field "AR Customer Number" was added to
      *           the AR Adjustments file.
      *
      * 09/15/09  LeAnne Ramsey
      *           Recompile only. Fields added to: TFP011-Cash Distribution Balance
      *                                            TFP026-AR Adjustments
      * 10/07/09  LeAnne Ramsey
      *           Added logic for new file: TFP025-AR Adjustment G/L Post./
      *                                            TFP026-AR Adjustments
      *
      * 01/05/11  LeAnne Ramsey (E1245)
      *           Recompile only. One new field was added to TFP022-Claim Adjustments:
      *              1) customer type
      *
      * 02/11/11  LeAnne Ramsey  (E1332)
      *           Recompile only. New fields were added to TFP025-AR Adjustment GL
      *           Post.
      *
      * 05/30/17  Danny Nguyen   (T9996)
      *           Recompile only. Added field to TFP026 - AR Adjustments file:
      *             AJINSF - Invoice Suffix
      *
      * 11/14/17  Danny Nguyen  (R12011A-Weekly Product Revenue)
      *           Recompile only. Added 25 STF fields to TFP010 file.
      *           Recompile only. Added 2 STF fields to TFP022 file.
      *
      * 05/17/22  Danny Nguyen  (DO2484 - WI 479 STF Variance Reporting)
      *           Recompile only. Added 2 STF fields to TFP010 file.
      *           PRXYPC   - STF STD YIELD %
      *           PRXPMPPC - STF PUMP %
      *
      * 10/10/22  R Centonze   W105621 - Increase price fields to handle > 999.99
      *                        CHANGE @@ANPRPR TO SIZE 10.6  --> pranprpr tfp010
      *                        CHANGE @@anprpr TO SIZE 10.6  --> clanprpr tfp022
      *                        CHANGE @@nclpr  TO SIZE 10.6  --> clnclpr  tfp022
      *
      *
      /eject
      ****************************************************************
      * FILE SPECIFICATIONS
      ****************************************************************
      *
     Ftfl010a   uf   e           k disk
      *  Weekly product revenue detail
      *
      *
     Ftfp011    uf   e           k disk
      *  Cash distribution balance
      *
      *
     Ftfl022a   uf   e           k disk
      *  Claim adjustments
      *
      *
     Ftfl025a   uf   e           k disk
      *  AR adjustment post
      *
      *
     Ftfp026    uf   e           k disk
      *  AR adjustments
      *
      /eject
      ****************************************************************
      * DEFINITION SPECIFICATIONS
      ****************************************************************
      *
      ****************************************************************
      * STANDALONE FIELDS
      ****************************************************************
      *
      *
      ****************************************************************
      * DATA STRUCTURES
      ****************************************************************
      *
      *---------------------------------------------------------------
      * Standard program status data structure
      *---------------------------------------------------------------
      *    externally defined as UTPGFR (record format: PGMDSR)
     D pgmds         esds                  extname(utpgfr)
      *
      *
      *---------------------------------------------------------------
      *  Local data area
      *---------------------------------------------------------------
      *
     d lda            uds                  dtaara(*lda)
     D  ldcwedt               22     29  0
      *
      * The following is a dummy C-spec to keep the D-specs from
      * running over into the C-specs on the compile listing. It
      * serves no other purpose and can be deleted at any time.
      *
     C                   if        sdpgm = *blank
     C                   endif
      /EJECT
      ****************************************************************
      * Mainline
      ****************************************************************
      *
      * Weekly Product Revenue Detail
      *
     C     ldcwedt       setll     tfl010a
      *
     C                   dou       *in90 = *on                                  Do product
     C     ldcwedt       reade     tfl010a                                90
     C                   if        *in90 = *off                                 If not EOF
     C                   delete    prrec
     C                   endif                                                  If not EOF
     C                   enddo                                                  Do product
      *
      *
      * Cash distribution balance
      *
     C     ldcwedt       setll     tfp011
      *
     C                   dou       *in90 = *on                                  Do cash
     C     ldcwedt       reade     tfp011                                 90
     C                   if        *in90 = *off                                 If not EOF
     C                   delete    cbrec
     C                   endif                                                  If not EOF
     C                   enddo                                                  Do cash
      *
      * Claim Adjustments
      *
     C     ldcwedt       setll     tfl022a
      *
     C                   dou       *in90 = *on                                  Do claims
     C     ldcwedt       reade     tfl022a                                90
     C                   if        *in90 = *off                                 If not EOF
     C                   delete    clrec
     C                   endif                                                  If not EOF
     C                   enddo                                                  Do claims
      *
      * AR Adjustment Post
      *
     C     ldcwedt       setll     tfl025a
      *
     C                   dou       *in90 = *on                                  Do post
     C     ldcwedt       reade     tfl025a                                90
     C                   if        *in90 = *off                                 If not EOF
     C                   delete    aprec
     C                   endif                                                  If not EOF
     C                   enddo                                                  Do post
      *
      * AR Adjustments
      *
     C     ldcwedt       setll     tfp026
      *
     C                   dou       *in90 = *on                                  Do adjust
     C     ldcwedt       reade     tfp026                                 90
     C                   if        *in90 = *off                                 If not EOF
     C                   delete    ajrec
     C                   endif                                                  If not EOF
     C                   enddo                                                  Do adjust
      *
     C                   seton                                        lr
      /eject
      *---------------------------------------------------------------
      * Initialization subroutine
      *---------------------------------------------------------------
      *
     C     *inzsr        begsr
      *
      *
     C                   endsr
      /eject
