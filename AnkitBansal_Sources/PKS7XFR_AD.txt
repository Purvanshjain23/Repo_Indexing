// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PKS7XFR
// ?Date: 14.08.2025 Time: 02:52:49
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?H16853 ISE 11/09/20 - Recompiled due to change in Buy Order Number
//?RMC 11/16/05 had 360 hard-coded. get from user prof appl
// Call program Rtv Co for User       XF.
CALL PROGRAM(Rtv Co for User       XF) ('PLF8XFR');
PARAMETER(WRK.CC_Company_Number);
PARAMETER('HPE');

EXECUTE FUNCTION(Rtv Current Kill Dt   RT) TYPE(RTVOBJ) FILE(PKAZREP)           AB1125333;
PARAMETER(WRK.CC_Company_Number);
PARAMETER(WRK.Current_Kill_Date);
{
 //?USER: Processing if Data record not found

 MOVE *ALL (To: PAR From: CON);

 //?USER: Process Data record

 MOVE *ALL (To: PAR From: DB1);

}


//?New as of 07/26/04     -->  8/23/04
// Call program Exc Upl Crt Eval Tran XF.
CALL PROGRAM(Exc Upl Crt Eval Tran XF) ('PLETXFR');
PARAMETER(LCL.EA_Shift);

// WRK.Date Alpha USR = CVTVAR(WRK.Current Kill Date)
WRK.Date_Alpha_USR = CVTVAR(WRK.Current_Kill_Date);

// Call program Rtv Company Values    XF.
CALL PROGRAM(Rtv Company Values    XF) ('PDGKXFR');
PARAMETER(WRK.CC_Company_Number);
PARAMETER('HOTSCLUPL');
PARAMETER(LCL.System_Value_Alpha_USR);

// LCL.Office Dist List USR = LCL.System Value Alpha    USR
LCL.Office_Dist_List_USR = LCL.System_Value_Alpha_USR;

// Retrieve message - 'Hot Scale Transactions has been uploaded for &3 &1 kill and shift &2.'
WRK.Office_Dist_Message_USR = RTVMSG(PRK0609);
PARAMETER(WRK.Current_Kill_Date);
PARAMETER(LCL.EA_Shift);
PARAMETER(WRK.CC_Company_Number);

// Call program Snd Pager Msg (MPLUS) UP.
CALL PROGRAM(Snd Pager Msg (MPLUS) UP) ('POMSUPC');
PARAMETER(LCL.Office_Dist_List_USR);
PARAMETER(WRK.Office_Dist_Message_USR);

//?New 7/22/03
CASE;

// IF WRK.CC Company Number is SBD Farms of Guymon, Ok
IF WRK.CC_Company_Number = 360;

// Call program Upl EvUpl to Ftp site UP.
CALL PROGRAM(Upl EvUpl to Ftp site UP) ('PLDMUPR');
PARAMETER(WRK.Return_Code_USR);
PARAMETER(WRK.Current_Kill_Date);
PARAMETER(LCL.EA_Shift);

ENDIF;

// Call program Exc Upd Last Dt Cllctn XF.
CALL PROGRAM(Exc Upd Last Dt Cllctn XF) ('PDTCXFR');
PARAMETER(WRK.CC_Company_Number);
PARAMETER('HOTSCL');

