// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PLAIXFR
// ?Date: 14.08.2025 Time: 02:53:26
// ?------------------------------------------------------------------------------------------------

//?Execute user function

//?Modifications and Comments
DO;

//?E11245 JJH 07/21/17 - Delivery Receiving Reports
//?- Pass in SR Source Code to Prt Receiving Rpt     PF
//?- SR Source Code = CON.Blank to allow all records to print
ENDDO;

// Call program Rtv Week Number       XF.
CALL PROGRAM(Rtv Week Number       XF) ('POEPXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);

//?Get week number, week ending date
CASE;

// IF LCL.Week Number is Zero
IF LCL.Week_Number = 0;

// LCL.Week Number = CON.53
LCL.Week_Number = 53;

// LCL.Calendar Year = LCL.Calendar Year - CON.1
LCL.Calendar_Year = LCL.Calendar_Year - 1;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

CASE;

// IF WRK.Date From USR is Zero
IF WRK.Date_From_USR = 0;

// LCL.Week Number = CON.52
LCL.Week_Number = 52;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

ENDIF;

//?If the week didnt have an ending Saturday date
CASE;

// IF LCL.Week Ending Date is Not Found Kill Date
IF LCL.Week_Ending_Date = *ZERO;

// WRK.Date Beg USR = WRK.Date From USR
WRK.Date_Beg_USR = WRK.Date_From_USR;

// LCL.Calendar Year = LCL.Calendar Year + CON.1
LCL.Calendar_Year = LCL.Calendar_Year + 1;

// LCL.Week Number = CON.01
LCL.Week_Number = 01;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

// WRK.Date From USR = WRK.Date Beg USR
WRK.Date_From_USR = WRK.Date_Beg_USR;

ENDIF;

//?Get week number, week ending date
// IF *OTHERWISE
IF *OTHERWISE;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

ENDIF;

//?Create the records for both shifts now. Shift B may not have kill hd
//?  but the record needs to be there.         2/13/03
// LCL.Text Usr 1 = CON.A
LCL.Text_Usr_1 = 'A';

EXECUTE FUNCTION(Rtv Crt Head Kill Sum RT) TYPE(RTVOBJ) FILE(PLAACPP)           AB1246562;
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(LCL.Text_Usr_1);
PARAMETER(LCL.Week_Ending_Date);
PARAMETER(*ZERO);
{
 //?USER: Processing if Data record not found

 EXECUTE FUNCTION(Crt Head Killed & Cut CR) TYPE(CRTOBJ) FILE(PLAACPP)           AB1244508;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Add Stamp-Sys Dt  IF) TYPE(EXCINTFUN)                      AB1237005;
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  {
   //?Execute internal function

   // PAR.RS Record Status = CND.Active
   PAR.RS_Record_Status = 'A';

   // PAR.RS User Added = JOB.*USER
   PAR.RS_User_Added = JOB.*USER;

   // Call program Rtv System Date & Tim UP.
   CALL PROGRAM(Rtv System Date & Tim UP) ('PKWDUPC');
   PARAMETER(PAR.RS_Date_Added);
   PARAMETER(PAR.RS_Time_Added);

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

  }

 }

 //?USER: Process Data record

 EXECUTE FUNCTION(Change Head Killed & Cut) TYPE(CHGOBJ) FILE(PLAACPP)           AB1244509;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(DB1.Head_Cut);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

}


// LCL.Text Usr 1 = CON.B
LCL.Text_Usr_1 = 'B';

EXECUTE FUNCTION(Rtv Crt Head Kill Sum RT) TYPE(RTVOBJ) FILE(PLAACPP)           AB1246562;
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(LCL.Text_Usr_1);
PARAMETER(LCL.Week_Ending_Date);
PARAMETER(*ZERO);
{
 //?USER: Processing if Data record not found

 EXECUTE FUNCTION(Crt Head Killed & Cut CR) TYPE(CRTOBJ) FILE(PLAACPP)           AB1244508;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Add Stamp-Sys Dt  IF) TYPE(EXCINTFUN)                      AB1237005;
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  {
   //?Execute internal function

   // PAR.RS Record Status = CND.Active
   PAR.RS_Record_Status = 'A';

   // PAR.RS User Added = JOB.*USER
   PAR.RS_User_Added = JOB.*USER;

   // Call program Rtv System Date & Tim UP.
   CALL PROGRAM(Rtv System Date & Tim UP) ('PKWDUPC');
   PARAMETER(PAR.RS_Date_Added);
   PARAMETER(PAR.RS_Time_Added);

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

  }

 }

 //?USER: Process Data record

 EXECUTE FUNCTION(Change Head Killed & Cut) TYPE(CHGOBJ) FILE(PLAACPP)           AB1244509;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(DB1.Head_Cut);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

}


//?If the next date is a Production Day and not a Kill day, crt rcds.
// LCL.TH Kill Date = PAR.TH Kill Date + CON.1 *DAYS
LCL.TH_Kill_Date = DATEINCR(PAR.TH_Kill_Date 1 'DY' 1111111 'NONE' 'N' 1);

// Call program Rtv Kill/Prod DaySts  XF.
CALL PROGRAM(Rtv Kill/Prod DaySts  XF) ('POTWXFR');
PARAMETER(LCL.Return_Code_USR);
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.TH_Kill_Date);
PARAMETER(LCL.Kill_Day_Sts_USR);
PARAMETER(LCL.Prod_Day_Sts_USR);

CASE;

// IF LCL.Kill Day Sts USR is No
IF LCL.Kill_Day_Sts_USR = 'N';

// AND LCL.Prod Day Sts USR is Yes
AND LCL.Prod_Day_Sts_USR = 'Y';

// Call program Rtv Week Number       XF.
CALL PROGRAM(Rtv Week Number       XF) ('POEPXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.TH_Kill_Date);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);

//?Get week number, week ending date
CASE;

// IF LCL.Week Number is Zero
IF LCL.Week_Number = 0;

// LCL.Week Number = CON.53
LCL.Week_Number = 53;

// LCL.Calendar Year = LCL.Calendar Year - CON.1
LCL.Calendar_Year = LCL.Calendar_Year - 1;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

CASE;

// IF WRK.Date From USR is Zero
IF WRK.Date_From_USR = 0;

// LCL.Week Number = CON.52
LCL.Week_Number = 52;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

ENDIF;

//?If the week didnt have an ending Saturday date
CASE;

// IF LCL.Week Ending Date is Not Found Kill Date
IF LCL.Week_Ending_Date = *ZERO;

// WRK.Date Beg USR = WRK.Date From USR
WRK.Date_Beg_USR = WRK.Date_From_USR;

// LCL.Calendar Year = LCL.Calendar Year + CON.1
LCL.Calendar_Year = LCL.Calendar_Year + 1;

// LCL.Week Number = CON.01
LCL.Week_Number = 01;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

// WRK.Date From USR = WRK.Date Beg USR
WRK.Date_From_USR = WRK.Date_Beg_USR;

ENDIF;

//?Get week number, week ending date
// IF *OTHERWISE
IF *OTHERWISE;

// Call program RTV Wk Start/End      RT.
CALL PROGRAM(RTV Wk Start/End      RT) ('POENXFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(WRK.Date_From_USR);
PARAMETER(LCL.Week_Ending_Date);

ENDIF;

// LCL.Text Usr 1 = CON.A
LCL.Text_Usr_1 = 'A';

EXECUTE FUNCTION(Rtv Crt Head Kill Sum RT) TYPE(RTVOBJ) FILE(PLAACPP)           AB1246562;
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(LCL.TH_Kill_Date);
PARAMETER(LCL.Text_Usr_1);
PARAMETER(LCL.Week_Ending_Date);
PARAMETER(*ZERO);
{
 //?USER: Processing if Data record not found

 EXECUTE FUNCTION(Crt Head Killed & Cut CR) TYPE(CRTOBJ) FILE(PLAACPP)           AB1244508;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Add Stamp-Sys Dt  IF) TYPE(EXCINTFUN)                      AB1237005;
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  {
   //?Execute internal function

   // PAR.RS Record Status = CND.Active
   PAR.RS_Record_Status = 'A';

   // PAR.RS User Added = JOB.*USER
   PAR.RS_User_Added = JOB.*USER;

   // Call program Rtv System Date & Tim UP.
   CALL PROGRAM(Rtv System Date & Tim UP) ('PKWDUPC');
   PARAMETER(PAR.RS_Date_Added);
   PARAMETER(PAR.RS_Time_Added);

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

  }

 }

 //?USER: Process Data record

 EXECUTE FUNCTION(Change Head Killed & Cut) TYPE(CHGOBJ) FILE(PLAACPP)           AB1244509;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(DB1.Head_Cut);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

}


// LCL.Text Usr 1 = CON.B
LCL.Text_Usr_1 = 'B';

EXECUTE FUNCTION(Rtv Crt Head Kill Sum RT) TYPE(RTVOBJ) FILE(PLAACPP)           AB1246562;
PARAMETER(PAR.CC_Company_Number);
PARAMETER(LCL.Calendar_Year);
PARAMETER(LCL.Week_Number);
PARAMETER(LCL.TH_Kill_Date);
PARAMETER(LCL.Text_Usr_1);
PARAMETER(LCL.Week_Ending_Date);
PARAMETER(*ZERO);
{
 //?USER: Processing if Data record not found

 EXECUTE FUNCTION(Crt Head Killed & Cut CR) TYPE(CRTOBJ) FILE(PLAACPP)           AB1244508;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(*ZERO);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Add Stamp-Sys Dt  IF) TYPE(EXCINTFUN)                      AB1237005;
  PARAMETER(DB1.RS_Record_Status);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  PARAMETER(DB1.RS_User_Added);
  PARAMETER(DB1.RS_Date_Added);
  PARAMETER(DB1.RS_Time_Added);
  {
   //?Execute internal function

   // PAR.RS Record Status = CND.Active
   PAR.RS_Record_Status = 'A';

   // PAR.RS User Added = JOB.*USER
   PAR.RS_User_Added = JOB.*USER;

   // Call program Rtv System Date & Tim UP.
   CALL PROGRAM(Rtv System Date & Tim UP) ('PKWDUPC');
   PARAMETER(PAR.RS_Date_Added);
   PARAMETER(PAR.RS_Time_Added);

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

  }

 }

 //?USER: Process Data record

 EXECUTE FUNCTION(Change Head Killed & Cut) TYPE(CHGOBJ) FILE(PLAACPP)           AB1244509;
 PARAMETER(PAR.CC_Company_Number);
 PARAMETER(PAR.Calendar_Year);
 PARAMETER(PAR.Week_Number);
 PARAMETER(PAR.TH_Kill_Date);
 PARAMETER(PAR.Schedule_Kill_Shift);
 PARAMETER(PAR.Week_Ending_Date);
 PARAMETER(PAR.Head_Total_USR);
 PARAMETER(DB1.Head_Cut);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 PARAMETER('A');
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*BLANK);
 PARAMETER(*ZERO);
 PARAMETER(*ZERO);
 {
  //?USER: Processing before Data update

  EXECUTE FUNCTION(Rtv Change Stamp      IF) TYPE(EXCINTFUN)                      AB1100934;
  PARAMETER(DB1.RS_User_Changed);
  PARAMETER(DB1.RS_Date_Changed);
  PARAMETER(DB1.RS_Time_Changed);
  PARAMETER(DB1.RS_Job);
  PARAMETER(DB1.RS_Program);
  {
   //?Execute internal function

   // PAR.RS User Changed = JOB.*USER
   PAR.RS_User_Changed = JOB.*USER;

   // PAR.RS Date Changed = JOB.*Job date
   PAR.RS_Date_Changed = JOB.*Job_date;

   // PAR.RS Time Changed = JOB.*Job time
   PAR.RS_Time_Changed = JOB.*Job_time;

   // PAR.RS Job = JOB.*JOB
   PAR.RS_Job = JOB.*JOB;

   // PAR.RS Program = JOB.*PROGRAM
   PAR.RS_Program = JOB.*PROGRAM;

  }

 }

}


ENDIF;

//?E11245 JJH 07/21/17 - New Parm for SR Source Code
// Call program Prt Receiving Rpt     PF.
CALL PROGRAM(Prt Receiving Rpt     PF) ('PKBOPFR');
PARAMETER(PAR.CC_Company_Number);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(WRK.Blank_Usr_2);
PARAMETER('M');
PARAMETER(WRK.Blank_Usr_2);
PARAMETER(*ZERO);
PARAMETER(*BLANK);
PARAMETER(*BLANK);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER(PAR.TH_Kill_Date);
PARAMETER('Y');
PARAMETER(*BLANK);
PARAMETER(*BLANK);

// Execute command - 'Del Spool File'
EXECUTE COMMAND(PRK0450);
PARAMETER('PKBOPFR$');

