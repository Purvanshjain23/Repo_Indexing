// ?------------------------------------------------------------------------------------------------
// ?Synon action diagram for PBTYSRR
// ?Date: 14.08.2025 Time: 03:49:22
// ?------------------------------------------------------------------------------------------------

//?USER: Initialize program

// LCL.First Time Flag = CND.Yes
LCL.First_Time_Flag = 'Y';

EXECUTE FUNCTION(Sales Channel Desc DRV) TYPE(DRVFLD)                           AC2113803;
PARAMETER(CTL.Sales_Channel_Desc_DRV);
PARAMETER(CTL.Sales_Channel_Code);
{
 //?Calculate derived field

 EXECUTE FUNCTION(Rtv Sales Chnl ALL    RT) TYPE(RTVOBJ) FILE(PBB4REP)           AC2113885;
 PARAMETER(PAR.Sales_Channel_Code);
 PARAMETER(PAR.Sales_Channel_Desc_DRV);
 PARAMETER(NLL.Record_Status);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


//?USER: Load subfile record from DBF record

//?First Time Logic
CASE;

// IF LCL.First Time Flag is Yes
IF LCL.First_Time_Flag = 'Y';

// CTL.Record Status = CND.Active
CTL.Record_Status = 'A';

// LCL.First Time Flag = CND.NO
LCL.First_Time_Flag = 'N';

ENDIF;

EXECUTE FUNCTION(Sales Channel Desc DRV) TYPE(DRVFLD)                           AC2113803;
PARAMETER(CTL.Sales_Channel_Desc_DRV);
PARAMETER(CTL.Sales_Channel_Code);
{
 //?Calculate derived field

 EXECUTE FUNCTION(Rtv Sales Chnl ALL    RT) TYPE(RTVOBJ) FILE(PBB4REP)           AC2113885;
 PARAMETER(PAR.Sales_Channel_Code);
 PARAMETER(PAR.Sales_Channel_Desc_DRV);
 PARAMETER(NLL.Record_Status);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


//?CALC: Screen function fields

EXECUTE FUNCTION(Sales Channel Desc DRV) TYPE(DRVFLD)                           AC2113803;
PARAMETER(CTL.Sales_Channel_Desc_DRV);
PARAMETER(CTL.Sales_Channel_Code);
{
 //?Calculate derived field

 EXECUTE FUNCTION(Rtv Sales Chnl ALL    RT) TYPE(RTVOBJ) FILE(PBB4REP)           AC2113885;
 PARAMETER(PAR.Sales_Channel_Code);
 PARAMETER(PAR.Sales_Channel_Desc_DRV);
 PARAMETER(NLL.Record_Status);
 {
  //?USER: Processing if Data record not found

  MOVE *ALL (To: PAR From: CON);

  //?USER: Process Data record

  MOVE *ALL (To: PAR From: DB1);

 }

}


